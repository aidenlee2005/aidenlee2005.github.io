<!DOCTYPE html>
  <html>
    <head>
      <title>çŸ¥è¯†ç‚¹æ€»ç»“</title>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      
      <link rel="stylesheet" href="file:////Users/lishouhe/.vscode/extensions/shd101wyy.markdown-preview-enhanced-0.8.18/crossnote/dependencies/katex/katex.min.css">
      
      
      
      
      
      <style>
      pre{font-family:Menlo,Monaco,Consolas,'Courier New',monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;padding:1em;margin:.5em 0;overflow:auto;line-height:1.5;tab-size:4;hyphens:none;color:#555;background-color:#f0f0f0!important;border:#d6d6d6;border-radius:3px}pre[class*=language-]{padding:1em}code[class*=language-] .token.cdata,code[class*=language-] .token.comment,code[class*=language-] .token.doctype,code[class*=language-] .token.prolog,pre[class*=language-] .token.cdata,pre[class*=language-] .token.comment,pre[class*=language-] .token.doctype,pre[class*=language-] .token.prolog{color:#998;font-style:italic}code[class*=language-] .token.punctuation,pre[class*=language-] .token.punctuation{color:#920b2d}code[class*=language-] .namespace,pre[class*=language-] .namespace{opacity:.7}code[class*=language-] .token.property,pre[class*=language-] .token.property{font-weight:700;color:#333}code[class*=language-] .token.boolean,code[class*=language-] .token.function-name,code[class*=language-] .token.number,pre[class*=language-] .token.boolean,pre[class*=language-] .token.function-name,pre[class*=language-] .token.number{color:#d14}code[class*=language-] .token.tag,pre[class*=language-] .token.tag{color:#d14}code[class*=language-] .token.symbol,pre[class*=language-] .token.symbol{color:#990073}code[class*=language-] .token.selector,pre[class*=language-] .token.selector{color:teal}code[class*=language-] .token.attr-name,pre[class*=language-] .token.attr-name{color:#458;font-weight:700}code[class*=language-] .token.string,pre[class*=language-] .token.string{color:#d14}code[class*=language-] .token.char,pre[class*=language-] .token.char{color:#606aa1}code[class*=language-] .token.url,pre[class*=language-] .token.url{color:#888}code[class*=language-] .token.atrule,code[class*=language-] .token.attr-value,code[class*=language-] .token.keyword,pre[class*=language-] .token.atrule,pre[class*=language-] .token.attr-value,pre[class*=language-] .token.keyword{color:#222;font-weight:700}code[class*=language-] .token.function,pre[class*=language-] .token.function{color:#900}code[class*=language-] .token.class-name,pre[class*=language-] .token.class-name{text-decoration:underline;color:#606aa1}code[class*=language-] .token.variable,pre[class*=language-] .token.variable{color:teal}code[class*=language-] .token.bold,code[class*=language-] .token.important,pre[class*=language-] .token.bold,pre[class*=language-] .token.important{font-weight:700}code[class*=language-] .token.italic,pre[class*=language-] .token.italic{font-style:italic}code[class*=language-] .token.entity,pre[class*=language-] .token.entity{cursor:help}pre[data-line]{position:relative;padding:1em 0 1em 3em}pre[data-line] .line-highlight-wrapper{position:absolute;top:0;left:0;background-color:transparent;display:block;width:100%}pre[data-line] .line-highlight{position:absolute;left:0;right:0;padding:inherit 0;margin-top:1em;background:hsla(24,20%,50%,.08);background:linear-gradient(to right,hsla(24,20%,50%,.1) 70%,hsla(24,20%,50%,0));pointer-events:none;line-height:inherit;white-space:pre}pre[data-line] .line-highlight:before,pre[data-line] .line-highlight[data-end]:after{content:attr(data-start);position:absolute;top:.4em;left:.6em;min-width:1em;padding:0 .5em;background-color:hsla(24,20%,50%,.4);color:#f4f1ef;font:bold 65%/1.5 sans-serif;text-align:center;vertical-align:.3em;border-radius:999px;text-shadow:none;box-shadow:0 1px #fff}pre[data-line] .line-highlight[data-end]:after{content:attr(data-end);top:auto;bottom:.4em}html body{font-family:'Helvetica Neue',Helvetica,'Segoe UI',Arial,freesans,sans-serif;font-size:16px;line-height:1.6;color:#555;background-color:#fff;overflow:initial;box-sizing:border-box;word-wrap:break-word}html body>:first-child{margin-top:0}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{line-height:1.2;margin-top:1em;margin-bottom:16px;color:#030303}html body h1{font-size:2.25em;font-weight:300;padding-bottom:.3em}html body h2{font-size:1.75em;font-weight:400;padding-bottom:.3em}html body h3{font-size:1.5em;font-weight:500}html body h4{font-size:1.25em;font-weight:600}html body h5{font-size:1.1em;font-weight:600}html body h6{font-size:1em;font-weight:600}html body h1,html body h2,html body h3,html body h4,html body h5{font-weight:600}html body h5{font-size:1em}html body h6{color:#7e7e7e}html body strong{color:#030303}html body del{color:#7e7e7e}html body a:not([href]){color:inherit;text-decoration:none}html body a{color:#08c;text-decoration:none}html body a:hover{color:#00a3f5;text-decoration:none}html body img{max-width:100%}html body>p{margin-top:0;margin-bottom:16px;word-wrap:break-word}html body>ol,html body>ul{margin-bottom:16px}html body ol,html body ul{padding-left:2em}html body ol.no-list,html body ul.no-list{padding:0;list-style-type:none}html body ol ol,html body ol ul,html body ul ol,html body ul ul{margin-top:0;margin-bottom:0}html body li{margin-bottom:0}html body li.task-list-item{list-style:none}html body li>p{margin-top:0;margin-bottom:0}html body .task-list-item-checkbox{margin:0 .2em .25em -1.8em;vertical-align:middle}html body .task-list-item-checkbox:hover{cursor:pointer}html body blockquote{margin:16px 0;font-size:inherit;padding:0 15px;color:#7e7e7e;background-color:#f0f0f0;border-left:4px solid #d6d6d6}html body blockquote>:first-child{margin-top:0}html body blockquote>:last-child{margin-bottom:0}html body hr{height:4px;margin:32px 0;background-color:#d6d6d6;border:0 none}html body table{margin:10px 0 15px 0;border-collapse:collapse;border-spacing:0;display:block;width:100%;overflow:auto;word-break:normal;word-break:keep-all}html body table th{font-weight:700;color:#030303}html body table td,html body table th{border:1px solid #d6d6d6;padding:6px 13px}html body dl{padding:0}html body dl dt{padding:0;margin-top:16px;font-size:1em;font-style:italic;font-weight:700}html body dl dd{padding:0 16px;margin-bottom:16px}html body code{font-family:Menlo,Monaco,Consolas,'Courier New',monospace;font-size:.85em;color:#030303;background-color:#f0f0f0;border-radius:3px;padding:.2em 0}html body code::after,html body code::before{letter-spacing:-.2em;content:'\00a0'}html body pre>code{padding:0;margin:0;word-break:normal;white-space:pre;background:0 0;border:0}html body .highlight{margin-bottom:16px}html body .highlight pre,html body pre{padding:1em;overflow:auto;line-height:1.45;border:#d6d6d6;border-radius:3px}html body .highlight pre{margin-bottom:0;word-break:normal}html body pre code,html body pre tt{display:inline;max-width:initial;padding:0;margin:0;overflow:initial;line-height:inherit;word-wrap:normal;background-color:transparent;border:0}html body pre code:after,html body pre code:before,html body pre tt:after,html body pre tt:before{content:normal}html body blockquote,html body dl,html body ol,html body p,html body pre,html body ul{margin-top:0;margin-bottom:16px}html body kbd{color:#030303;border:1px solid #d6d6d6;border-bottom:2px solid #c7c7c7;padding:2px 4px;background-color:#f0f0f0;border-radius:3px}@media print{html body{background-color:#fff}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{color:#030303;page-break-after:avoid}html body blockquote{color:#7e7e7e}html body pre{page-break-inside:avoid}html body table{display:table}html body img{display:block;max-width:100%;max-height:100%}html body code,html body pre{word-wrap:break-word;white-space:pre}}.markdown-preview{width:100%;height:100%;box-sizing:border-box}.markdown-preview ul{list-style:disc}.markdown-preview ul ul{list-style:circle}.markdown-preview ul ul ul{list-style:square}.markdown-preview ol{list-style:decimal}.markdown-preview ol ol,.markdown-preview ul ol{list-style-type:lower-roman}.markdown-preview ol ol ol,.markdown-preview ol ul ol,.markdown-preview ul ol ol,.markdown-preview ul ul ol{list-style-type:lower-alpha}.markdown-preview .newpage,.markdown-preview .pagebreak{page-break-before:always}.markdown-preview pre.line-numbers{position:relative;padding-left:3.8em;counter-reset:linenumber}.markdown-preview pre.line-numbers>code{position:relative}.markdown-preview pre.line-numbers .line-numbers-rows{position:absolute;pointer-events:none;top:1em;font-size:100%;left:0;width:3em;letter-spacing:-1px;border-right:1px solid #999;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.markdown-preview pre.line-numbers .line-numbers-rows>span{pointer-events:none;display:block;counter-increment:linenumber}.markdown-preview pre.line-numbers .line-numbers-rows>span:before{content:counter(linenumber);color:#999;display:block;padding-right:.8em;text-align:right}.markdown-preview .mathjax-exps .MathJax_Display{text-align:center!important}.markdown-preview:not([data-for=preview]) .code-chunk .code-chunk-btn-group{display:none}.markdown-preview:not([data-for=preview]) .code-chunk .status{display:none}.markdown-preview:not([data-for=preview]) .code-chunk .output-div{margin-bottom:16px}.markdown-preview .md-toc{padding:0}.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link{display:inline;padding:.25rem 0}.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link div,.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link p{display:inline}.markdown-preview .md-toc .md-toc-link-wrapper.highlighted .md-toc-link{font-weight:800}.scrollbar-style::-webkit-scrollbar{width:8px}.scrollbar-style::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}.scrollbar-style::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,.66);border:4px solid rgba(150,150,150,.66);background-clip:content-box}html body[for=html-export]:not([data-presentation-mode]){position:relative;width:100%;height:100%;top:0;left:0;margin:0;padding:0;overflow:auto}html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{position:relative;top:0;min-height:100vh}@media screen and (min-width:914px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{padding:2em calc(50% - 457px + 2em)}}@media screen and (max-width:914px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{font-size:14px!important;padding:1em}}@media print{html body[for=html-export]:not([data-presentation-mode]) #sidebar-toc-btn{display:none}}html body[for=html-export]:not([data-presentation-mode]) #sidebar-toc-btn{position:fixed;bottom:8px;left:8px;font-size:28px;cursor:pointer;color:inherit;z-index:99;width:32px;text-align:center;opacity:.4}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] #sidebar-toc-btn{opacity:1}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc{position:fixed;top:0;left:0;width:300px;height:100%;padding:32px 0 48px 0;font-size:14px;box-shadow:0 0 4px rgba(150,150,150,.33);box-sizing:border-box;overflow:auto;background-color:inherit}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar{width:8px}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,.66);border:4px solid rgba(150,150,150,.66);background-clip:content-box}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc a{text-decoration:none}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc{padding:0 16px}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link{display:inline;padding:.25rem 0}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link div,html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link p{display:inline}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper.highlighted .md-toc-link{font-weight:800}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{left:300px;width:calc(100% - 300px);padding:2em calc(50% - 457px - 300px / 2);margin:0;box-sizing:border-box}@media screen and (max-width:1274px){html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{width:100%}}html body[for=html-export]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .markdown-preview{left:50%;transform:translateX(-50%)}html body[for=html-export]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .md-sidebar-toc{display:none}
/* Please visit the URL below for more information: */
/*   https://shd101wyy.github.io/markdown-preview-enhanced/#/customize-css */

      </style>
      <!-- The content below will be included at the end of the <head> element. --><html><head><script type="text/javascript">
  document.addEventListener("DOMContentLoaded", function () {
    // your code here
  });
</script></head><body></body></html>
    </head>
    <body for="html-export" >
      <div class="crossnote markdown-preview  "  >
      
<h1 id="è½¯ä»¶è®¾è®¡å®è·µ-2025">è½¯ä»¶è®¾è®¡å®è·µ 2025 </h1>

<!-- ç›®å½•ç´¢å¼• -->
<div style="background: #f8f9fa; padding: 20px 30px; margin: 30px 0; border-radius: 8px;">
  <h2 style="margin-top: 0; color: #667eea; font-size: 1.5em;">ğŸ“‘ ç›®å½•</h2>
  <nav style="line-height: 2;">
    <a href="#ä¸€-æ•°æ®æŠ½è±¡ä¸ç±»å‹ç³»ç»Ÿ" style="display: block; color: #08c; text-decoration: none; padding: 4px 0; transition: all 0.2s;">ä¸€ã€æ•°æ®æŠ½è±¡ä¸ç±»å‹ç³»ç»Ÿ</a>
    <a href="#äºŒ-è¿‡ç¨‹æŠ½è±¡ä¸å‡½æ•°" style="display: block; color: #08c; text-decoration: none; padding: 4px 0; transition: all 0.2s;">äºŒã€è¿‡ç¨‹æŠ½è±¡ä¸å‡½æ•°</a>
    <a href="#ä¸‰-ç±»ä¸å¯¹è±¡åˆæ­¥" style="display: block; color: #08c; text-decoration: none; padding: 4px 0; transition: all 0.2s;">ä¸‰ã€ç±»ä¸å¯¹è±¡åˆæ­¥</a>
    <a href="#å››-ç±»ä¸å¯¹è±¡è¿›é˜¶" style="display: block; color: #08c; text-decoration: none; padding: 4px 0; transition: all 0.2s;">å››ã€ç±»ä¸å¯¹è±¡è¿›é˜¶</a>
    <a href="#äº”-è¿ç®—ç¬¦é‡è½½" style="display: block; color: #08c; text-decoration: none; padding: 4px 0; transition: all 0.2s;">äº”ã€è¿ç®—ç¬¦é‡è½½</a>
    <a href="#å…­-ç»§æ‰¿" style="display: block; color: #08c; text-decoration: none; padding: 4px 0; transition: all 0.2s;">å…­ã€ç»§æ‰¿</a>
    <a href="#ä¸ƒ-å¤šæ€" style="display: block; color: #08c; text-decoration: none; padding: 4px 0; transition: all 0.2s;">ä¸ƒã€å¤šæ€</a>
    <a href="#å…«-ç±»å‹è½¬æ¢ä¸ç§»åŠ¨è¯­ä¹‰" style="display: block; color: #08c; text-decoration: none; padding: 4px 0; transition: all 0.2s;">å…«ã€ç±»å‹è½¬æ¢ä¸ç§»åŠ¨è¯­ä¹‰</a>
    <a href="#ä¹-æ¨¡ç‰ˆ" style="display: block; color: #08c; text-decoration: none; padding: 4px 0; transition: all 0.2s;">ä¹ã€æ¨¡ç‰ˆ</a>
    <a href="#å-æ ‡å‡†æ¨¡ç‰ˆåº“stl" style="display: block; color: #08c; text-decoration: none; padding: 4px 0; transition: all 0.2s;">åã€æ ‡å‡†æ¨¡ç‰ˆåº“ï¼ˆSTLï¼‰</a>
    <a href="#åä¸€-æ¦‚å¿µä¸èŒƒå›´" style="display: block; color: #08c; text-decoration: none; padding: 4px 0; transition: all 0.2s;">åä¸€ã€æ¦‚å¿µä¸èŒƒå›´</a>
  </nav>
</div>

<h2 id="ä¸€-æ•°æ®æŠ½è±¡ä¸ç±»å‹ç³»ç»Ÿ">ä¸€ã€æ•°æ®æŠ½è±¡ä¸ç±»å‹ç³»ç»Ÿ </h2>
<h3 id="ä¸€cç±»å‹ç³»ç»Ÿ">ï¼ˆä¸€ï¼‰C++ç±»å‹ç³»ç»Ÿ </h3>
<h4 id="cæ˜¯é™æ€ç±»å‹è¯­è¨€">C++æ˜¯é™æ€ç±»å‹è¯­è¨€ </h4>
<p>ç±»å‹æ ‡è¯†ï¼š</p>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token keyword keyword-char">char</span> s<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"hello"</span><span class="token punctuation">;</span> <span class="token comment">// sçš„ç±»å‹ä¸ºchar[10]</span>
<span class="token keyword keyword-int">int</span> <span class="token operator">*</span>p <span class="token operator">=</span> <span class="token operator">&amp;</span>x<span class="token punctuation">;</span> <span class="token comment">// pçš„ç±»å‹ä¸ºint*</span>
<span class="token keyword keyword-double">double</span> <span class="token function">sqrt</span><span class="token punctuation">(</span><span class="token keyword keyword-double">double</span> x<span class="token punctuation">,</span><span class="token keyword keyword-int">int</span> t<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// sqrtçš„ç±»å‹ä¸ºdouble(double,int)</span>
</code></pre><p>ç±»å‹åˆ«åï¼š</p>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token keyword keyword-using">using</span> SI <span class="token operator">=</span> <span class="token keyword keyword-int">int</span><span class="token punctuation">;</span> <span class="token comment">// SIçš„ç±»å‹ä¸ºint</span>
SI x <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span> <span class="token comment">// xçš„ç±»å‹ä¸ºint</span>
<span class="token keyword keyword-using">using</span> Func <span class="token operator">=</span> <span class="token keyword keyword-int">int</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span><span class="token punctuation">,</span><span class="token keyword keyword-int">int</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Funcçš„ç±»å‹ä¸ºint(int,int)</span>
Func f<span class="token punctuation">;</span> <span class="token comment">// fçš„ç±»å‹ä¸ºint(int,int)</span>
</code></pre><p>ç±»å‹æ¨å¯¼ï¼š</p>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token keyword keyword-auto">auto</span> s <span class="token operator">=</span> <span class="token string">"hello"</span><span class="token punctuation">;</span> <span class="token comment">// sçš„ç±»å‹ä¸ºconst char*</span>
<span class="token keyword keyword-auto">auto</span> p <span class="token operator">=</span> <span class="token operator">&amp;</span>x<span class="token punctuation">;</span> <span class="token comment">// pçš„ç±»å‹ä¸ºint*</span>
<span class="token keyword keyword-auto">auto</span> sqrt <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token keyword keyword-double">double</span> x<span class="token punctuation">,</span><span class="token keyword keyword-int">int</span> t<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword keyword-return">return</span> <span class="token function">sqrt</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// sqrtçš„ç±»å‹ä¸ºdouble(double)</span>
</code></pre><p>å˜é‡å£°æ˜æ—¶å‘ç”Ÿçš„äº‹æƒ…ï¼š</p>
<p><img src="file:///Users/lishouhe/Desktop/Cpp/è½¯è®¾/çŸ¥è¯†ç‚¹æ€»ç»“/image.png" alt="picture"></p>
<p>c++çš„å¤šç§<strong>åˆå§‹åŒ–</strong>æ–¹å¼ï¼š</p>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token keyword keyword-int">int</span> a<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword keyword-int">int</span> a<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword keyword-int">int</span> <span class="token function">n</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword keyword-int">int</span> n<span class="token punctuation">{</span><span class="token number">5</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword keyword-int">int</span> n <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>
<span class="token comment">//æ‰€æœ‰æ•°æ®ç±»å‹å‡å¯é€šè¿‡åˆ—è¡¨çš„å½¢å¼ç»Ÿä¸€åˆå§‹åŒ–</span>
</code></pre><h4 id="å¼•ç”¨">å¼•ç”¨ </h4>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token keyword keyword-int">int</span> <span class="token operator">&amp;</span>ref <span class="token operator">=</span> x<span class="token punctuation">;</span> <span class="token comment">//å¼•ç”¨ç±»å‹å¼•ç”¨çš„å˜é‡åªèƒ½åœ¨åˆå§‹åŒ–æ—¶å£°æ˜ï¼Œä¸”åé¢ä¸èƒ½æ”¹å˜</span>

<span class="token keyword keyword-void">void</span> <span class="token function">swap</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> <span class="token operator">&amp;</span>a<span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span> <span class="token operator">&amp;</span>b<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-int">int</span> temp <span class="token operator">=</span> a<span class="token punctuation">;</span>
    a <span class="token operator">=</span> b<span class="token punctuation">;</span>
    b <span class="token operator">=</span> temp<span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token comment">//ç”¨å¼•ç”¨ç¼–å†™äº¤æ¢ä¸¤ä¸ªæ•´æ•°çš„å‡½æ•°</span>
</code></pre><p>æ³¨ï¼šc++ä¸­å‡½æ•°å‚æ•°ä¼ é€’å‡ä¸ºå€¼ä¼ é€’</p>
<p>å‡½æ•°çš„è¿”å›å€¼å¯ä»¥æ˜¯å¼•ç”¨ï¼š</p>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token keyword keyword-int">int</span> <span class="token operator">&amp;</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> <span class="token operator">&amp;</span>a<span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span> <span class="token operator">&amp;</span>b<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>a <span class="token operator">&gt;</span> b<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> a<span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword keyword-else">else</span> <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> b<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span> <span class="token comment">//è¿”å›å€¼æ˜¯å¼•ç”¨ï¼Œå¯ä»¥ä¿®æ”¹è°ƒç”¨è€…ä¼ å…¥çš„å˜é‡çš„å€¼</span>

<span class="token keyword keyword-int">int</span> a <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">,</span>b <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span>
<span class="token function">max</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token comment">//ä¿®æ”¹bçš„å€¼ä¸º5</span>
</code></pre><h3 id="äºŒå¸¸é‡å’Œåªè¯»å˜é‡">ï¼ˆäºŒï¼‰å¸¸é‡å’Œåªè¯»å˜é‡ </h3>
<h4 id="å¸¸é‡">å¸¸é‡ </h4>
<p>åœ¨ç¼–è¯‘æœŸé—´å°±å¯ä»¥ç¡®å®šçš„å€¼ï¼Œä¸ä¼šæ”¹å˜ã€‚</p>
<h4 id="åªè¯»å˜é‡">åªè¯»å˜é‡ </h4>
<p>ç”¨<code>const</code>å…³é”®å­—ä¿®é¥°çš„å˜é‡ï¼Œåªèƒ½åœ¨åˆå§‹åŒ–æ—¶èµ‹å€¼ï¼Œä¸èƒ½ä¿®æ”¹ã€‚</p>
<p><strong>(1) åªè¯»å¼•ç”¨</strong><code>const T&amp;</code>ï¼šä¸èƒ½é€šè¿‡åªè¯»å¼•ç”¨ä¿®æ”¹å…¶å¼•ç”¨çš„å†…å®¹ï¼š</p>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token keyword keyword-const">const</span> <span class="token keyword keyword-int">int</span> <span class="token operator">&amp;</span>ref <span class="token operator">=</span> x<span class="token punctuation">;</span> <span class="token comment">//åªè¯»å¼•ç”¨</span>
ref <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span> <span class="token comment">//é”™è¯¯ï¼Œä¸èƒ½ä¿®æ”¹åªè¯»å¼•ç”¨</span>
</code></pre><p><code>const T&amp;</code>å’Œ<code>T &amp;</code>æ˜¯ä¸åŒçš„ç±»å‹ï¼š</p>
<p><code>T</code>ç±»å‹çš„å˜é‡å’Œå¸¸é‡,<code>T&amp;</code>ç±»å‹çš„å¼•ç”¨,<code>const T</code>ç±»å‹çš„åªè¯»å˜é‡éƒ½å¯ä»¥ç”¨æ¥åˆå§‹åŒ–<code>const T&amp;</code>ç±»å‹çš„å¼•ç”¨ï¼›</p>
<p>è€Œ<code>T</code>ç±»å‹çš„å¸¸é‡ï¼Œ<code>const T</code>ç±»å‹çš„åªè¯»å˜é‡ï¼Œ<code>const T&amp;</code>ç±»å‹çš„å¼•ç”¨ï¼Œéƒ½ä¸èƒ½ç”¨æ¥åˆå§‹åŒ–<code>T&amp;</code>ç±»å‹çš„å¼•ç”¨ï¼Œé™¤éè¿›è¡Œå¼ºåˆ¶ç±»å‹è½¬æ¢ã€‚</p>
<p><strong>(2) æŒ‡å‘åªè¯»å˜é‡çš„æŒ‡é’ˆ</strong><code>const T*</code>ï¼šä¸èƒ½é€šè¿‡æŒ‡å‘åªè¯»å˜é‡å»ä¿®æ”¹å…¶æŒ‡å‘çš„å†…å®¹</p>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token keyword keyword-int">int</span> x <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">,</span> t <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span><span class="token punctuation">;</span>
<span class="token keyword keyword-const">const</span> <span class="token keyword keyword-int">int</span> <span class="token operator">*</span>p <span class="token operator">=</span> <span class="token operator">&amp;</span>x<span class="token punctuation">;</span> 
<span class="token operator">*</span>p <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span> <span class="token comment">//é”™è¯¯ï¼Œä¸èƒ½ä¿®æ”¹æŒ‡å‘çš„å†…å®¹</span>
x <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span> <span class="token comment">//æ­£ç¡®ï¼Œå¯ä»¥ä¿®æ”¹æŒ‡é’ˆæŒ‡å‘çš„å˜é‡çš„å€¼</span>
p <span class="token operator">=</span> <span class="token operator">&amp;</span>t<span class="token punctuation">;</span> <span class="token comment">//æ­£ç¡®ï¼Œå¯ä»¥ä¿®æ”¹åªè¯»æŒ‡é’ˆæŒ‡å‘çš„åœ°å€</span>
</code></pre><p>ä¸èƒ½æŠŠ<code>const T*</code>æŒ‡é’ˆèµ‹ç»™<code>T*</code>æŒ‡é’ˆï¼Œå› ä¸º<code>const T*</code>æŒ‡é’ˆæŒ‡å‘çš„å†…å®¹ä¸èƒ½ä¿®æ”¹ï¼Œä½†æ˜¯<code>T*</code>æŒ‡é’ˆæŒ‡å‘çš„å†…å®¹å¯ä»¥ä¿®æ”¹ã€‚åä¹‹å¯ä»¥ã€‚</p>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token keyword keyword-const">const</span> <span class="token keyword keyword-int">int</span> <span class="token operator">*</span>p1<span class="token punctuation">;</span>
<span class="token keyword keyword-int">int</span> <span class="token operator">*</span>p2<span class="token punctuation">;</span>
p1 <span class="token operator">=</span> p2<span class="token punctuation">;</span> <span class="token comment">//æ­£ç¡®ï¼Œå¯ä»¥æŠŠconst int*æŒ‡é’ˆèµ‹ç»™int*æŒ‡é’ˆ</span>
p2 <span class="token operator">=</span> p1<span class="token punctuation">;</span> <span class="token comment">//é”™è¯¯ï¼Œä¸èƒ½æŠŠconst int*æŒ‡é’ˆèµ‹ç»™int*æŒ‡é’ˆ</span>
p2 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword keyword-int">int</span><span class="token operator">*</span><span class="token punctuation">)</span> p1<span class="token punctuation">;</span> <span class="token comment">//æ­£ç¡®ï¼Œå¯ä»¥æŠŠconst int*æŒ‡é’ˆå¼ºåˆ¶ç±»å‹è½¬æ¢ä¸ºint*æŒ‡é’ˆ</span>
</code></pre><p><strong>(3) åªè¯»æŒ‡é’ˆ</strong><code>T *const</code>: åªè¯»çš„æŒ‡é’ˆå˜é‡ï¼Œå®Œæˆåˆå§‹åŒ–åä¸å¯ä»¥ä¿®æ”¹æŒ‡å‘çš„åœ°å€ï¼Œä½†å¯ä»¥é€šè¿‡æŒ‡é’ˆä¿®æ”¹åœ°å€çš„å†…å®¹ã€‚</p>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token keyword keyword-int">int</span> x <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">,</span> t <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span>
<span class="token keyword keyword-int">int</span> <span class="token operator">*</span><span class="token keyword keyword-const">const</span> p <span class="token operator">=</span> <span class="token operator">&amp;</span>x<span class="token punctuation">;</span> 
<span class="token operator">*</span>p <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span> <span class="token comment">//æ­£ç¡®ï¼Œå¯ä»¥ä¿®æ”¹æŒ‡é’ˆæŒ‡å‘çš„å˜é‡çš„å€¼</span>
p <span class="token operator">=</span> <span class="token operator">&amp;</span>t<span class="token punctuation">;</span> <span class="token comment">//é”™è¯¯ï¼Œä¸èƒ½ä¿®æ”¹åªè¯»æŒ‡é’ˆæŒ‡å‘çš„åœ°å€</span>
</code></pre><p><strong>(4) å¸¸é‡æŒ‡é’ˆ</strong><code>const T* const</code>: æŒ‡å‘å¸¸é‡çš„æŒ‡é’ˆï¼Œå®Œæˆåˆå§‹åŒ–åä¸å¯ä»¥ä¿®æ”¹æŒ‡å‘çš„å†…å®¹ï¼Œä¹Ÿä¸å¯ä»¥ä¿®æ”¹æŒ‡é’ˆæŒ‡å‘çš„åœ°å€ã€‚</p>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token keyword keyword-const">const</span> <span class="token keyword keyword-int">int</span> x <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">,</span> t <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span>
<span class="token keyword keyword-const">const</span> <span class="token keyword keyword-int">int</span> <span class="token operator">*</span><span class="token keyword keyword-const">const</span> p <span class="token operator">=</span> <span class="token operator">&amp;</span>x<span class="token punctuation">;</span> 
<span class="token operator">*</span>p <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span> <span class="token comment">//é”™è¯¯ï¼Œä¸èƒ½ä¿®æ”¹æŒ‡é’ˆæŒ‡å‘çš„å˜é‡çš„å€¼</span>
p <span class="token operator">=</span> <span class="token operator">&amp;</span>t<span class="token punctuation">;</span> <span class="token comment">//é”™è¯¯ï¼Œä¸èƒ½ä¿®æ”¹æŒ‡é’ˆæŒ‡å‘çš„åœ°å€</span>
</code></pre><h3 id="ä¸‰åŠ¨æ€å†…å­˜åˆ†é…">ï¼ˆä¸‰ï¼‰åŠ¨æ€å†…å­˜åˆ†é… </h3>
<p>åŠ¨æ€åˆ†é…å˜é‡ï¼š<br>
ç”¨<code>new</code>å…³é”®å­—åœ¨è¿è¡Œæ—¶åˆ†é…å†…å­˜ï¼Œç”¨<code>delete</code>å…³é”®å­—é‡Šæ”¾å†…å­˜ã€‚</p>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token keyword keyword-int">int</span> <span class="token operator">*</span>p <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token keyword keyword-int">int</span><span class="token punctuation">;</span> <span class="token comment">//åˆ†é…ä¸€ä¸ªintå‹å˜é‡</span>
<span class="token keyword keyword-double">double</span> <span class="token operator">*</span>pd <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token keyword keyword-double">double</span><span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">//åˆ†é…10ä¸ªdoubleå‹å˜é‡</span>

<span class="token keyword keyword-int">int</span> N <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
<span class="token keyword keyword-int">int</span> <span class="token operator">*</span>q <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token keyword keyword-int">int</span><span class="token punctuation">[</span>N<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">//å¯ä»¥æ˜¯æ•´å‹è¡¨è¾¾å¼</span>

<span class="token keyword keyword-struct">struct</span> <span class="token class-name">A</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-int">int</span> a<span class="token punctuation">;</span>
    <span class="token keyword keyword-double">double</span> b<span class="token punctuation">;</span>
    <span class="token keyword keyword-char">char</span> c<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
A <span class="token operator">*</span>pt <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> A<span class="token punctuation">;</span> <span class="token comment">//åˆ†é…ä¸€ä¸ªTå‹å˜é‡</span>

<span class="token keyword keyword-delete">delete</span> p<span class="token punctuation">;</span>
<span class="token keyword keyword-delete">delete</span><span class="token punctuation">[</span><span class="token punctuation">]</span> pd<span class="token punctuation">;</span>  
<span class="token keyword keyword-delete">delete</span> q<span class="token punctuation">;</span>
<span class="token keyword keyword-delete">delete</span> pt<span class="token punctuation">;</span>
</code></pre><h2 id="äºŒ-è¿‡ç¨‹æŠ½è±¡ä¸å‡½æ•°">äºŒã€è¿‡ç¨‹æŠ½è±¡ä¸å‡½æ•° </h2>
<h3 id="ä¸€å‡½æ•°å›é¡¾">ï¼ˆä¸€ï¼‰å‡½æ•°å›é¡¾ </h3>
<p>å‡½æ•°çš„å£°æ˜ä¸å®šä¹‰ï¼š<code>è¿”å›å€¼ç±»å‹ å‡½æ•°å(å‚æ•°ç±»å‹ å‚æ•°å,...)</code></p>
<ul>
<li>å‡½æ•°åœ¨è°ƒç”¨å‰å¿…é¡»å£°æ˜ï¼›</li>
<li>å‡½æ•°å¯ä»¥åœ¨æ–‡ä»¶çš„æœ€åå†å®šä¹‰ï¼›</li>
<li>å‡½æ•°çš„è§„çº¦</li>
</ul>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token keyword keyword-using">using</span> <span class="token keyword keyword-namespace">namespace</span> std<span class="token punctuation">;</span>

<span class="token keyword keyword-using">using</span> Func <span class="token operator">=</span> <span class="token keyword keyword-int">int</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span><span class="token punctuation">,</span><span class="token keyword keyword-int">int</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//å‡½æ•°ç±»å‹</span>
<span class="token keyword keyword-int">int</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span><span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//å£°æ˜</span>
<span class="token comment">//ç­‰åŒäº Func add;</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-int">int</span> x <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">,</span> y <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token function">add</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token comment">//è°ƒç”¨</span>
    <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword keyword-int">int</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> a<span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span> b<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">//å®šä¹‰</span>
    <span class="token keyword keyword-return">return</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><h3 id="äºŒå‡½æ•°çš„é«˜çº§ç‰¹æ€§">ï¼ˆäºŒï¼‰å‡½æ•°çš„é«˜çº§ç‰¹æ€§ </h3>
<h4 id="ç¼ºçœå‚æ•°">ç¼ºçœå‚æ•° </h4>
<p>åœ¨å®šä¹‰å‡½æ•°æ—¶ï¼Œå¯ä»¥åœ¨æœ€å³è¾¹çš„è¿ç»­è‹¥å¹²ä¸ªå‚æ•°æŒ‡å®šç¼ºçœå€¼ã€‚</p>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token keyword keyword-void">void</span> <span class="token function">print</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> x<span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span> y <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span> z <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    cout <span class="token operator">&lt;&lt;</span> x <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span> <span class="token operator">&lt;&lt;</span> y <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span> <span class="token operator">&lt;&lt;</span> z <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">print</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//è¾“å‡º10 0 0</span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//è¾“å‡º10 20 0</span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//è¾“å‡º10 20 30</span>
</code></pre><h4 id="å‡½æ•°é‡è½½">å‡½æ•°é‡è½½ </h4>
<p>åŒä¸€ä½œç”¨åŸŸä¸‹ï¼Œåå­—ç›¸åŒä½†å½¢å‚åˆ—è¡¨ä¸åŒï¼ˆå‚æ•°ä¸ªæ•°ä¸åŒ/å‚æ•°ç±»å‹ä¸åŒï¼‰çš„å¤šä¸ªå‡½æ•°ã€‚ä»…ä»…æ˜¯è¿”å›å€¼ä¸åŒä¸æ„æˆé‡è½½ã€‚</p>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token keyword keyword-int">int</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> a<span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword keyword-int">int</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> a<span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span> b<span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span> c<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword keyword-double">double</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword keyword-double">double</span> a<span class="token punctuation">,</span> <span class="token keyword keyword-double">double</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><ul>
<li>å‡½æ•°é‡è½½çš„å¤æ‚æƒ…å†µï¼š</li>
</ul>
<p><code>T</code>ç±»å‹çš„å‚æ•°å’Œ<code>const T</code>ç±»å‹çš„å‚æ•°ä¼šè¢«è®¤ä¸ºç›¸åŒï¼›<br>
<code>T *</code>ç±»å‹çš„å‚æ•°å’Œ<code>T* const</code>ç±»å‹çš„å‚æ•°ä¼šè¢«è®¤ä¸ºç›¸åŒï¼›<br>
<code>T &amp;</code>ç±»å‹çš„å‚æ•°å’Œ<code>const T &amp;</code>ç±»å‹çš„å‚æ•°ä¼šè¢«è®¤ä¸ºä¸åŒï¼›<br>
<code>T *</code>ç±»å‹çš„å‚æ•°å’Œ<code>const T *</code>ç±»å‹çš„å‚æ•°ä¼šè¢«è®¤ä¸ºä¸åŒï¼›</p>
<h3 id="ä¸‰å‡½æ•°æŒ‡é’ˆ">ï¼ˆä¸‰ï¼‰å‡½æ•°æŒ‡é’ˆ </h3>
<p>å‡½æ•°çš„å‚æ•°ä¸ä»…å¯ä»¥æ˜¯è¡¨ç¤ºæ•°æ®çš„å˜é‡ï¼Œä¹Ÿå¯ä»¥æ˜¯è¡¨ç¤ºè¿‡ç¨‹çš„å‡½æ•°ã€‚</p>
<p>æŒ‡å‘å‡½æ•°çš„æŒ‡é’ˆå˜é‡æˆä¸ºå‡½æ•°æŒ‡é’ˆã€‚</p>
<p>å£°æ˜å½¢å¼ï¼š</p>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token keyword keyword-int">int</span> <span class="token function">max</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span><span class="token punctuation">,</span><span class="token keyword keyword-int">int</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword keyword-int">int</span> <span class="token punctuation">(</span><span class="token operator">*</span>ptr<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span><span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//æŒ‡å‘å‡½æ•°çš„æŒ‡é’ˆå˜é‡</span>
ptr <span class="token operator">=</span> <span class="token operator">&amp;</span>max<span class="token punctuation">;</span> <span class="token comment">//å°†maxå‡½æ•°çš„åœ°å€èµ‹ç»™p</span>
ptr <span class="token operator">=</span> max<span class="token punctuation">;</span> <span class="token comment">//äº¦å¯ï¼Œmaxå…ˆéšå¼è½¬å&amp;max</span>
cout <span class="token operator">&lt;&lt;</span> <span class="token punctuation">(</span><span class="token operator">*</span>ptr<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token comment">//è°ƒç”¨maxå‡½æ•°</span>
cout <span class="token operator">&lt;&lt;</span> <span class="token function">ptr</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token comment">//äº¦å¯ï¼Œå…è®¸ä¸è§£åœ°å€çš„æƒ…å†µä¸‹è°ƒç”¨å‡½æ•°</span>
</code></pre><br>
<p><strong>ä¾‹é¢˜1</strong> å‡½æ•°æŒ‡é’ˆä½œä¸ºå‡½æ•°çš„å‚æ•°ï¼š</p>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token keyword keyword-using">using</span> <span class="token keyword keyword-namespace">namespace</span> std<span class="token punctuation">;</span>

<span class="token keyword keyword-int">int</span> <span class="token function">summation</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> n<span class="token punctuation">,</span><span class="token keyword keyword-int">int</span> <span class="token punctuation">(</span><span class="token operator">*</span>term<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword keyword-int">int</span> total <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> k <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-while">while</span> <span class="token punctuation">(</span>k <span class="token operator">&lt;=</span> n<span class="token punctuation">)</span><span class="token punctuation">{</span>
        total <span class="token operator">+=</span> <span class="token function">term</span><span class="token punctuation">(</span>k<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-return">return</span> total<span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token comment">//è®¡ç®—ä¸åŒæ•°åˆ—çš„å’Œã€‚termä¸ºå‡½æ•°æŒ‡é’ˆï¼ŒæŒ‡å‘çš„å‡½æ•°æ˜¯æ•°åˆ—çš„é€šé¡¹å…¬å¼</span>

<span class="token keyword keyword-int">int</span> <span class="token function">natural</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> x<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword keyword-return">return</span> x<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword keyword-int">int</span> <span class="token function">square</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> x<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword keyword-return">return</span> x<span class="token operator">*</span>x<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword keyword-int">int</span> <span class="token function">cube</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> x<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword keyword-return">return</span> x<span class="token operator">*</span>x<span class="token operator">*</span>x<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-int">int</span> n <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-int">int</span> <span class="token punctuation">(</span><span class="token operator">*</span>term<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token operator">&amp;</span>natural<span class="token punctuation">;</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token function">summation</span><span class="token punctuation">(</span>n<span class="token punctuation">,</span>term<span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token comment">//è¾“å‡º15</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token function">summation</span><span class="token punctuation">(</span>n<span class="token punctuation">,</span>square<span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token comment">//è¾“å‡º55ã€‚å…è®¸ä¸è§£åœ°å€ç›´æ¥ä¼ å‚æ•°</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token function">summation</span><span class="token punctuation">(</span>n<span class="token punctuation">,</span><span class="token operator">&amp;</span>cube<span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token comment">//è¾“å‡º125</span>
<span class="token punctuation">}</span>
</code></pre><p><strong>ä¾‹é¢˜2</strong> å‡½æ•°æŒ‡é’ˆçš„æ•°ç»„ï¼š</p>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;cmath&gt;</span></span>

<span class="token keyword keyword-double">double</span> <span class="token function">f1</span><span class="token punctuation">(</span><span class="token keyword keyword-double">double</span> x<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword keyword-return">return</span> <span class="token operator">-</span>x<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword keyword-double">double</span> <span class="token function">f2</span><span class="token punctuation">(</span><span class="token keyword keyword-double">double</span> x<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword keyword-return">return</span> x<span class="token operator">*</span>x<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword keyword-double">double</span> <span class="token function">f3</span><span class="token punctuation">(</span><span class="token keyword keyword-double">double</span> x<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword keyword-return">return</span> <span class="token function">sqrt</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword keyword-double">double</span> <span class="token function">f4</span><span class="token punctuation">(</span><span class="token keyword keyword-double">double</span> x<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword keyword-return">return</span> <span class="token function">log10</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword keyword-double">double</span> <span class="token function">f5</span><span class="token punctuation">(</span><span class="token keyword keyword-double">double</span> x<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword keyword-return">return</span> <span class="token function">sin</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword keyword-using">using</span> Func <span class="token operator">=</span> <span class="token keyword keyword-double">double</span> <span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword keyword-double">double</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Func funcs<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span>f1<span class="token punctuation">,</span>f2<span class="token punctuation">,</span>f3<span class="token punctuation">,</span>f4<span class="token punctuation">,</span>f5<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// ç†è§£ï¼šå£°æ˜ä¸€ä¸ªå‡½æ•°æŒ‡é’ˆæ—¶ï¼Œè¦ç”¨ double (*g1)(double) = f1</span>

<span class="token comment">// åœ¨æ­¤å¤„è¡¥å……ä½ çš„ä»£ç </span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-double">double</span> src<span class="token punctuation">;</span>
    <span class="token keyword keyword-int">int</span> n<span class="token punctuation">;</span>
    std<span class="token double-colon punctuation">::</span>cin <span class="token operator">&gt;&gt;</span> src <span class="token operator">&gt;&gt;</span> n<span class="token punctuation">;</span>
    <span class="token keyword keyword-for">for</span> <span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword keyword-int">int</span> op<span class="token punctuation">;</span>
        std<span class="token double-colon punctuation">::</span>cin <span class="token operator">&gt;&gt;</span> op<span class="token punctuation">;</span>
        src <span class="token operator">=</span> funcs<span class="token punctuation">[</span>op<span class="token punctuation">]</span><span class="token punctuation">(</span>src<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>fixed <span class="token operator">&lt;&lt;</span> src <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><h3 id="å››lambdaè¡¨è¾¾å¼">ï¼ˆå››ï¼‰Lambdaè¡¨è¾¾å¼ </h3>
<p><strong>åªè°ƒç”¨ä¸€æ¬¡çš„ç®€å•å‡½æ•°</strong>ï¼Œå¯ä»¥ç”¨lambdaè¡¨è¾¾å¼æ¥è¡¨ç¤ºã€‚lambdaè¡¨è¾¾å¼å£°æ˜äº†ä¸€ä¸ªåŒ¿åçš„å‡½æ•°ï¼Œå¯ä»¥ç†è§£ä¸ºæ˜¯ä¸€ç§å‡½æ•°ç±»å‹çš„å­—é¢é‡ã€‚</p>
<p>å£°æ˜æ–¹å¼ï¼š<br>
<code> [æ•è·åˆ—è¡¨](å‚æ•°ç±»å‹ å‚æ•°å,...) -&gt; è¿”å›å€¼ç±»å‹ { å‡½æ•°ä½“ }</code><br>
æˆ–ç®€å†™ä¸ºï¼š<br>
<code> [æ•è·åˆ—è¡¨](å‚æ•°ç±»å‹ å‚æ•°å,...) { å‡½æ•°ä½“ }</code></p>
<br>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token comment">//ç¤ºä¾‹1</span>
cout <span class="token operator">&lt;&lt;</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> x<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword keyword-return">return</span> x<span class="token operator">*</span>x<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token comment">//è¾“å‡º25</span>

<span class="token comment">//ç¤ºä¾‹2</span>
<span class="token keyword keyword-auto">auto</span> f <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> x<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword keyword-return">return</span> x<span class="token operator">*</span>x<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
cout <span class="token operator">&lt;&lt;</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token comment">//è¾“å‡º25</span>

<span class="token comment">//ç¤ºä¾‹3</span>
<span class="token keyword keyword-int">int</span> <span class="token function">summation</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> n<span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span> <span class="token punctuation">(</span><span class="token operator">*</span>term<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword keyword-int">int</span> <span class="token function">sum_cube</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> n<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword keyword-return">return</span> <span class="token function">summation</span><span class="token punctuation">(</span>n<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> x<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword keyword-return">return</span> x<span class="token operator">*</span>x<span class="token operator">*</span>x<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
cout <span class="token operator">&lt;&lt;</span> <span class="token function">sum_cube</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token comment">//è¾“å‡º125</span>

<span class="token comment">//ç¤ºä¾‹4: å¤åˆlambdaè¡¨è¾¾å¼å‡½æ•°</span>
<span class="token keyword keyword-double">double</span> <span class="token function">squaree</span><span class="token punctuation">(</span><span class="token keyword keyword-double">double</span> x<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword keyword-return">return</span> x<span class="token operator">*</span>x<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword keyword-double">double</span> <span class="token function">sin</span><span class="token punctuation">(</span><span class="token keyword keyword-double">double</span> x<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword keyword-return">return</span> <span class="token function">sin</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword keyword-auto">auto</span> compose <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token keyword keyword-double">double</span> <span class="token punctuation">(</span><span class="token operator">*</span>g<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword keyword-double">double</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword keyword-double">double</span> <span class="token punctuation">(</span><span class="token operator">*</span>f<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword keyword-double">double</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-return">return</span> <span class="token punctuation">[</span><span class="token operator">=</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token keyword keyword-double">double</span> x<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token keyword keyword-double">double</span> <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> <span class="token function">g</span><span class="token punctuation">(</span><span class="token function">f</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token comment">//compose(f,g)çš„è¾“å‡ºå€¼æ˜¯gå’Œfçš„å¤åˆå‡½æ•°</span>
<span class="token keyword keyword-double">double</span> x<span class="token punctuation">;</span>
cin <span class="token operator">&gt;&gt;</span> x<span class="token punctuation">;</span>
<span class="token keyword keyword-auto">auto</span> id <span class="token operator">=</span> <span class="token function">compose</span><span class="token punctuation">(</span>f<span class="token punctuation">,</span>g<span class="token punctuation">)</span><span class="token punctuation">;</span>
cout <span class="token operator">&lt;&lt;</span> <span class="token function">id</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token comment">//è¾“å‡ºsin(square(x))</span>
</code></pre><p>å‡½æ•°ä½“ä¸­å¯ä»¥è®¿é—®å…¨å±€å˜é‡ï¼Œä½†ä¸èƒ½è®¿é—®å±€éƒ¨å˜é‡ã€‚å¦‚æœæƒ³è¦è®¿é—®å±€éƒ¨å˜é‡ï¼Œåˆ™éœ€è¦æ•è·åˆ—è¡¨ã€‚<br>
ï¼ˆ<strong>ä½¿ç”¨æ•è·åˆ—è¡¨åæ— æ³•è½¬åŒ–ä¸ºå‡½æ•°æŒ‡é’ˆ</strong>ï¼‰</p>
<ul>
<li><code>[]</code>ä¸ä½¿ç”¨ä»»ä½•å¤–éƒ¨å˜é‡</li>
<li><code>[=]</code>ä»¥ä¼ å€¼çš„æ–¹å¼ä½¿ç”¨å…¨éƒ¨å¤–éƒ¨å˜é‡</li>
<li><code>[&amp;]</code>ä»¥å¼•ç”¨çš„æ–¹å¼ä½¿ç”¨å…¨éƒ¨å¤–éƒ¨å˜é‡</li>
<li><code>[x,&amp;y]</code>ä»¥ä¼ å€¼çš„æ–¹å¼ä½¿ç”¨xï¼Œä»¥å¼•ç”¨çš„æ–¹å¼ä½¿ç”¨y</li>
<li><code>[=ï¼Œ&amp;x,&amp;y]</code>ä»¥hubæ–¹å¼ä½¿ç”¨å…¨éƒ¨å¤–éƒ¨å˜é‡ï¼Œä½†xå’Œyä»¥å¼•ç”¨çš„æ–¹å¼ä½¿ç”¨</li>
<li><code>[&amp;,x,y]</code>ä»¥å¼•ç”¨çš„æ–¹å¼ä½¿ç”¨å…¨éƒ¨å¤–éƒ¨å˜é‡ï¼Œä½†xå’Œyä»¥ä¼ å€¼çš„æ–¹å¼ä½¿ç”¨</li>
</ul>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token keyword keyword-int">int</span> x <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
<span class="token keyword keyword-auto">auto</span> f <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">=</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> y<span class="token punctuation">)</span><span class="token punctuation">{</span>
    x <span class="token operator">+=</span> <span class="token number">10</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-return">return</span> x<span class="token operator">+</span>y<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">//xä»¥ä¼ å€¼çš„æ–¹å¼æ•è·</span>
<span class="token keyword keyword-auto">auto</span> g <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">&amp;</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> y<span class="token punctuation">)</span><span class="token punctuation">{</span>
    x <span class="token operator">+=</span> <span class="token number">10</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-return">return</span> x<span class="token operator">+</span>y<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">//xä»¥å¼•ç”¨çš„æ–¹å¼æ•è·</span>
<span class="token keyword keyword-auto">auto</span> h <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> y<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword keyword-return">return</span> x<span class="token operator">+</span>y<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
cout <span class="token operator">&lt;&lt;</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token comment">//è¾“å‡º50</span>
cout <span class="token operator">&lt;&lt;</span> x <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token comment">//è¾“å‡º10,xçš„å€¼æ²¡æœ‰è¢«ä¿®æ”¹</span>
cout <span class="token operator">&lt;&lt;</span> <span class="token function">g</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token comment">//è¾“å‡º50</span>
cout <span class="token operator">&lt;&lt;</span> x <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token comment">//è¾“å‡º20,xçš„å€¼è¢«ä¿®æ”¹</span>
cout <span class="token operator">&lt;&lt;</span> <span class="token function">h</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token comment">//æŠ¥é”™ï¼Œæ— æ³•æ•è·x</span>
</code></pre><p>ä½¿ç”¨å‡½æ•°æŒ‡é’ˆç®€åŒ–ä¸Šä¸€ä¸ªä¾‹é¢˜2:</p>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;cmath&gt;</span></span>

<span class="token comment">//1</span>
<span class="token keyword keyword-using">using</span> Func <span class="token operator">=</span> <span class="token keyword keyword-double">double</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword keyword-double">double</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Func funcs<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span> <span class="token punctuation">{</span>
    <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token keyword keyword-double">double</span> x<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword keyword-return">return</span> <span class="token operator">-</span>x<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token keyword keyword-double">double</span> x<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword keyword-return">return</span> x<span class="token operator">*</span>x<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token keyword keyword-double">double</span> x<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword keyword-return">return</span> <span class="token function">sqrt</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token keyword keyword-double">double</span> x<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword keyword-return">return</span> <span class="token function">log10</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token keyword keyword-double">double</span> x<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword keyword-return">return</span> <span class="token function">sin</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">//2</span>
<span class="token keyword keyword-using">using</span> Func <span class="token operator">=</span> <span class="token keyword keyword-double">double</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword keyword-double">double</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword keyword-using">using</span> FuncArray <span class="token operator">=</span> Func<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
FuncArray funcs <span class="token punctuation">{</span>
    <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token keyword keyword-double">double</span> x<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword keyword-return">return</span> <span class="token operator">-</span>x<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token keyword keyword-double">double</span> x<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword keyword-return">return</span> x<span class="token operator">*</span>x<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token keyword keyword-double">double</span> x<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword keyword-return">return</span> <span class="token function">sqrt</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token keyword keyword-double">double</span> x<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword keyword-return">return</span> <span class="token function">log10</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token keyword keyword-double">double</span> x<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword keyword-return">return</span> <span class="token function">sin</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-double">double</span> src<span class="token punctuation">;</span>
    <span class="token keyword keyword-int">int</span> n<span class="token punctuation">;</span>
    std<span class="token double-colon punctuation">::</span>cin <span class="token operator">&gt;&gt;</span> src <span class="token operator">&gt;&gt;</span> n<span class="token punctuation">;</span>
    <span class="token keyword keyword-for">for</span> <span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword keyword-int">int</span> op<span class="token punctuation">;</span>
        std<span class="token double-colon punctuation">::</span>cin <span class="token operator">&gt;&gt;</span> op<span class="token punctuation">;</span>
        src <span class="token operator">=</span> funcs<span class="token punctuation">[</span>op<span class="token punctuation">]</span><span class="token punctuation">(</span>src<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>fixed <span class="token operator">&lt;&lt;</span> src <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><h2 id="ä¸‰-ç±»ä¸å¯¹è±¡åˆæ­¥">ä¸‰ã€ç±»ä¸å¯¹è±¡åˆæ­¥ </h2>
<h3 id="ä¸€ç”¨å¯¹è±¡è¿›è¡ŒæŠ½è±¡">ï¼ˆä¸€ï¼‰ç”¨å¯¹è±¡è¿›è¡ŒæŠ½è±¡ </h3>
<p><strong>ç±»</strong>ï¼šå°†æ•°æ®ç»“æ„å’Œæ“ä½œè¯¥æ•°æ®ç»“æ„çš„å‡½æ•°â€œæ†ç»‘â€åœ¨ä¸€èµ·ï¼Œå³å°è£…ã€‚</p>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">Complex</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-double">double</span> real<span class="token punctuation">,</span> imag<span class="token punctuation">;</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token keyword keyword-int">int</span> <span class="token function">real</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> real<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-int">int</span> <span class="token function">imag</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> imag<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><p>é€šè¿‡ç±»ï¼Œå¯ä»¥å®šä¹‰å˜é‡<br>
é€šè¿‡<code>.</code>è¿ç®—ç¬¦ï¼Œå¯ä»¥è®¿é—®æˆå‘˜å˜é‡å’Œæˆå‘˜å‡½æ•°</p>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code>Complex c1<span class="token punctuation">;</span>
cout <span class="token operator">&lt;&lt;</span> c1<span class="token punctuation">.</span><span class="token function">real</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span> <span class="token operator">&lt;&lt;</span> c1<span class="token punctuation">.</span><span class="token function">imag</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
</code></pre><h3 id="äºŒç±»çš„å£°æ˜-å®šä¹‰å’Œä½¿ç”¨">ï¼ˆäºŒï¼‰ç±»çš„å£°æ˜ã€å®šä¹‰å’Œä½¿ç”¨ </h3>
<h4 id="ç±»-å¯¹è±¡">ç±»ã€å¯¹è±¡ </h4>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token keyword keyword-class">class</span> ç±»å <span class="token punctuation">{</span>
    è®¿é—®è¯´æ˜ç¬¦ ç±»å‹ æˆå‘˜å˜é‡å<span class="token punctuation">;</span>
    è®¿é—®è¯´æ˜ç¬¦ ç±»å‹ æˆå‘˜å‡½æ•°å<span class="token punctuation">(</span>å‚æ•°åˆ—è¡¨<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        å‡½æ•°ä½“
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><p><strong>è®¿é—®è¯´æ˜ç¬¦</strong>æœ‰<code>public</code>ã€<code>private</code>å’Œ<code>protected</code>ä¸‰ç§ã€‚<br>
ç”¨<code>class</code>å®šä¹‰ç±»é»˜è®¤ä¸º<code>private</code>ï¼Œè€Œç”¨<code>struct</code>å®šä¹‰ç±»é»˜è®¤ä¸º<code>public</code>ã€‚</p>
<h4 id="æˆå‘˜å˜é‡å’Œæˆå‘˜å‡½æ•°">æˆå‘˜å˜é‡å’Œæˆå‘˜å‡½æ•° </h4>
<ul>
<li>æˆå‘˜å‡½æ•°ï¼š
<ul>
<li>ä¸€ä¸ªç±»çš„æˆå‘˜å‡½æ•°å¯ä»¥äº’ç›¸è°ƒç”¨</li>
<li>æˆå‘˜å‡½æ•°ä¸­å¯ä»¥è®¿é—®æˆå‘˜å˜é‡</li>
<li>æˆå‘˜å‡½æ•°å¯ä»¥é‡è½½ï¼Œä¹Ÿå¯ä»¥è®¾ç½®å‚æ•°ç¼ºçœ</li>
<li>æˆå‘˜å‡½æ•°çš„å®šä¹‰å¯ä»¥ä½äºç±»çš„å®šä¹‰å¤–</li>
</ul>
</li>
<li>æˆå‘˜å˜é‡å’Œæˆå‘˜å‡½æ•°å‡ºç°çš„å…ˆåé¡ºåºæ²¡æœ‰è§„å®š</li>
</ul>
<p>åœ¨ç±»å¤–å®šä¹‰æˆå‘˜å‡½æ•°æ—¶ï¼Œè¦åŠ ä¸Š<code>ç±»å::</code>å‰ç¼€ã€‚</p>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">Complex</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-double">double</span> real<span class="token punctuation">,</span> imag<span class="token punctuation">;</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token function">Complex</span><span class="token punctuation">(</span><span class="token keyword keyword-double">double</span> r<span class="token punctuation">,</span> <span class="token keyword keyword-double">double</span> i<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">real</span><span class="token punctuation">(</span>r<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">imag</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token keyword keyword-double">double</span> <span class="token function">real</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-double">double</span> <span class="token function">abs</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-double">double</span> <span class="token class-name">Complex</span><span class="token double-colon punctuation">::</span><span class="token function">real</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-return">return</span> real<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword keyword-double">double</span> <span class="token class-name">Complex</span><span class="token double-colon punctuation">::</span><span class="token function">abs</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-return">return</span> <span class="token function">sqrt</span><span class="token punctuation">(</span>real<span class="token operator">*</span>real <span class="token operator">+</span> imag<span class="token operator">*</span>imag<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><p>è®¿é—®å¯¹è±¡æˆå‘˜çš„æ–¹æ³•ï¼š</p>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token comment">//æ–¹æ³•1:å¯¹è±¡å.æˆå‘˜å</span>
Complex c1<span class="token punctuation">;</span>
cout <span class="token operator">&lt;&lt;</span> c1<span class="token punctuation">.</span>real <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

<span class="token comment">//æ–¹æ³•2:æŒ‡é’ˆ-&gt;æˆå‘˜å</span>
Complex <span class="token operator">*</span>p <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> Complex<span class="token punctuation">;</span>
Complex c2<span class="token punctuation">;</span>
p <span class="token operator">=</span> <span class="token operator">&amp;</span>c2<span class="token punctuation">;</span>
cout <span class="token operator">&lt;&lt;</span> p<span class="token operator">-&gt;</span>real <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
cout <span class="token operator">&lt;&lt;</span> p<span class="token operator">-&gt;</span><span class="token function">abs</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

<span class="token comment">//æ–¹æ³•3:å¼•ç”¨.æˆå‘˜å</span>
Complex c3<span class="token punctuation">;</span>
Complex <span class="token operator">&amp;</span>r <span class="token operator">=</span> c3<span class="token punctuation">;</span>
cout <span class="token operator">&lt;&lt;</span> r<span class="token punctuation">.</span>real <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
</code></pre><h4 id="æˆå‘˜çš„è®¿é—®èŒƒå›´">æˆå‘˜çš„è®¿é—®èŒƒå›´ </h4>
<ul>
<li>åœ¨ç±»çš„æˆå‘˜å‡½æ•°å†…éƒ¨ï¼Œèƒ½å¤Ÿè®¿é—®å½“å‰å¯¹è±¡çš„å…¨éƒ¨å±æ€§ã€å‡½æ•°ï¼ŒåŒç±»å…¶ä»–å¯¹è±¡çš„å…¨éƒ¨å±æ€§ã€å‡½æ•°</li>
<li>åœ¨ç±»çš„å¤–éƒ¨ï¼Œåªèƒ½è®¿é—®å…¬å…±å±æ€§ã€å‡½æ•°ï¼Œä¸èƒ½è®¿é—®ç§æœ‰å±æ€§ã€å‡½æ•°</li>
</ul>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">CEmployee</span> <span class="token punctuation">{</span>
<span class="token keyword keyword-private">private</span><span class="token operator">:</span>
    <span class="token keyword keyword-char">char</span> szName<span class="token punctuation">[</span><span class="token number">30</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token keyword keyword-int">int</span> salary<span class="token punctuation">;</span>
    <span class="token keyword keyword-void">void</span> <span class="token function">setName</span><span class="token punctuation">(</span><span class="token keyword keyword-const">const</span> <span class="token keyword keyword-char">char</span> <span class="token operator">*</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-void">void</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token keyword keyword-char">char</span> <span class="token operator">*</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-void">void</span> <span class="token function">averageSalary</span><span class="token punctuation">(</span>CEmployee e1<span class="token punctuation">,</span> CEmployee e2<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword keyword-void">void</span> <span class="token class-name">CEmployee</span><span class="token double-colon punctuation">::</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token keyword keyword-const">const</span> <span class="token keyword keyword-char">char</span> <span class="token operator">*</span>name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">strcpy</span><span class="token punctuation">(</span>szName<span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ok</span>
<span class="token punctuation">}</span>
<span class="token keyword keyword-void">void</span> <span class="token class-name">CEmployee</span><span class="token double-colon punctuation">::</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token keyword keyword-char">char</span> <span class="token operator">*</span>name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">strcpy</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> szName<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ok</span>
<span class="token punctuation">}</span>
<span class="token keyword keyword-void">void</span> <span class="token class-name">CEmployee</span><span class="token double-colon punctuation">::</span><span class="token function">averageSalary</span><span class="token punctuation">(</span>CEmployee e1<span class="token punctuation">,</span>
CEmployee e2<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    cout <span class="token operator">&lt;&lt;</span> e1<span class="token punctuation">.</span>szName<span class="token punctuation">;</span> <span class="token comment">// okï¼Œè®¿é—®åŒç±»å…¶ä»–å¯¹è±¡ç§æœ‰æˆå‘˜</span>
    salary <span class="token operator">=</span> <span class="token punctuation">(</span>e1<span class="token punctuation">.</span>salary <span class="token operator">+</span> e2<span class="token punctuation">.</span>salary<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    CEmployee e<span class="token punctuation">;</span>
    <span class="token function">strcpy</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>szName<span class="token punctuation">,</span> <span class="token string">"Tom1234567889"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//ç¼–è¯‘é”™è¯¯</span>
    e<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">"Tom"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ok</span>
    e<span class="token punctuation">.</span>salary <span class="token operator">=</span> <span class="token number">5000</span><span class="token punctuation">;</span> <span class="token comment">// ok</span>
    <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><h3 id="ä¸‰å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸ">ï¼ˆä¸‰ï¼‰å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸ </h3>
<h4 id="å›é¡¾">å›é¡¾ </h4>
<p><strong>å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸ</strong></p>
<blockquote>
<p>å£°æ˜å’Œå®šä¹‰ -&gt; å†…å­˜åˆ†é… -&gt; åˆå§‹åŒ– -&gt; ä½¿ç”¨ -&gt; é”€æ¯</p>
</blockquote>
<p><strong>é™æ€å†…å­˜åˆ†é… vs åŠ¨æ€å†…å­˜åˆ†é…</strong>ï¼š<br>
é€šè¿‡<code>new</code>ä¸ºå˜é‡åˆ†é…çš„åŠ¨æ€å†…å­˜ç©ºé—´å¿…é¡»é€šè¿‡<code>delete</code>é‡Šæ”¾ï¼Œå¦åˆ™ä¼šé€ æˆå†…å­˜æ³„æ¼ã€‚</p>
<p><strong>å‡ ç§ç±»å‹çš„å˜é‡</strong></p>
<table>
<thead>
<tr>
<th style="text-align:center">å˜é‡ç±»å‹</th>
<th style="text-align:center">ç”Ÿå‘½å‘¨æœŸ</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">å…¨å±€å˜é‡</td>
<td style="text-align:center">æœªè¢«åˆå§‹åŒ–æ—¶ä¼šè‡ªåŠ¨åˆå§‹åŒ–ä¸º0ï¼Œç¨‹åºç»“æŸå‰ä¼šè¢«é”€æ¯</td>
</tr>
<tr>
<td style="text-align:center">å±€éƒ¨å˜é‡</td>
<td style="text-align:center">æœªæ˜ç¡®åˆå§‹åŒ–æ—¶åˆå§‹å€¼éšæœºï¼Œåœ¨å‡½æ•°æ‰§è¡Œç»“æŸåï¼ˆç¦»å¼€ä½œç”¨åŸŸæ—¶ï¼‰è¢«é”€æ¯</td>
</tr>
<tr>
<td style="text-align:center">å‡½æ•°ä¼ å‚</td>
<td style="text-align:center">æ‰§è¡Œå¤åˆ¶åˆå§‹åŒ–ï¼Œåœ¨å‡½æ•°æ‰§è¡Œç»“æŸåè¢«é”€æ¯</td>
</tr>
<tr>
<td style="text-align:center">å‡½æ•°è¿”å›å€¼</td>
<td style="text-align:center">è‡ªåŠ¨ç”Ÿæˆä¸´æ—¶å˜é‡ï¼ˆå¼€å¯è¿”å›å€¼ä¼˜åŒ–RVOåˆ™ä¸ç”Ÿæˆï¼‰ï¼Œæ‰§è¡Œå¤åˆ¶åˆå§‹åŒ–ï¼Œè¿”å›å®Œæˆåç«‹å³è¢«é”€æ¯</td>
</tr>
</tbody>
</table>
<h4 id="æ„é€ å‡½æ•°">æ„é€ å‡½æ•° </h4>
<p>æ„é€ å‡½æ•°æ˜¯ä¸€ç§ç‰¹æ®Šçš„æˆå‘˜å‡½æ•°ï¼Œç”¨äºåˆå§‹åŒ–å¯¹è±¡ã€‚</p>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">Complex</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-double">double</span> real<span class="token punctuation">,</span> imag<span class="token punctuation">;</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token function">Complex</span><span class="token punctuation">(</span><span class="token keyword keyword-double">double</span> r<span class="token punctuation">,</span> <span class="token keyword keyword-double">double</span> i <span class="token operator">=</span> <span class="token number">0.0</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">real</span><span class="token punctuation">(</span>r<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">imag</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token comment">//æ„é€ å‡½æ•°çš„å£°æ˜</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><p>å¦‚æœå®šä¹‰ç±»æ—¶æ²¡æœ‰å®šä¹‰æ„é€ å‡½æ•°ï¼Œåˆ™ç³»ç»Ÿä¼šè‡ªåŠ¨ç”Ÿæˆ<strong>é»˜è®¤æ— å‚æ•°çš„æ„é€ å‡½æ•°</strong>ã€‚<br>
è‹¥å®šä¹‰åè¿˜æƒ³ä¿ç•™é»˜è®¤æ— å‚æ•°çš„æ„é€ å‡½æ•°ï¼Œåˆ™å¯ä»¥åŠ ä¸€è¡Œ</p>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code>    <span class="token function">Complex</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token keyword keyword-default">default</span><span class="token punctuation">;</span>
</code></pre><p>æ„é€ å‡½æ•°æœ€å¥½æ˜¯<code>public</code>çš„ï¼Œ<code>private</code>æ„é€ å‡½æ•°æ— æ³•ç›´æ¥ç”¨æ¥åˆå§‹åŒ–å¯¹è±¡ã€‚</p>
<h4 id="å¤åˆ¶æ„é€ å‡½æ•°">å¤åˆ¶æ„é€ å‡½æ•° </h4>
<p>å¦‚æœä¸€ä¸ªæ„é€ å‡½æ•°åªæœ‰ä¸€ä¸ªå‚æ•°ï¼Œè¿™ä¸ªå‚æ•°æ˜¯åŒç±»å¯¹è±¡çš„<strong>å¼•ç”¨</strong>ï¼Œè¿™æ ·çš„æ„é€ å‡½æ•°å«åšå¤åˆ¶æ„é€ å‡½æ•°ã€‚<br>
å½¢å¦‚<code>X::X(const X&amp;)</code>æˆ–<code>X::X(X&amp;)</code>ã€‚</p>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">Complex</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-double">double</span> real<span class="token punctuation">,</span> imag<span class="token punctuation">;</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token function">Complex</span><span class="token punctuation">(</span><span class="token keyword keyword-const">const</span> Complex<span class="token operator">&amp;</span> c<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">real</span><span class="token punctuation">(</span>c<span class="token punctuation">.</span>real<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">imag</span><span class="token punctuation">(</span>c<span class="token punctuation">.</span>imag<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token comment">//å¤åˆ¶æ„é€ å‡½æ•°çš„å£°æ˜</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    Complex c1<span class="token punctuation">;</span><span class="token comment">//è°ƒç”¨é»˜è®¤æ„é€ å‡½æ•°</span>
    Complex <span class="token function">c2</span><span class="token punctuation">(</span>c1<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//è°ƒç”¨å¤åˆ¶æ„é€ å‡½æ•°</span>
    <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><p>å¦‚æœæ²¡æœ‰å®šä¹‰å¤åˆ¶æ„é€ å‡½æ•°ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨ç”Ÿæˆä¸€ä¸ªé»˜è®¤çš„å¤åˆ¶æ„é€ å‡½æ•°ï¼Œä½†å®ƒæ˜¯<strong>æµ…æ‹·è´</strong>ï¼Œå³åªæ‹·è´æŒ‡é’ˆï¼Œè€Œä¸ä¼šæ‹·è´æŒ‡é’ˆæŒ‡å‘çš„å¯¹è±¡ã€‚</p>
<p><strong>å¤åˆ¶æ„é€ å‡½æ•°èµ·ä½œç”¨çš„ä¸‰ç§æƒ…å†µ</strong></p>
<ul>
<li>å½“ç”¨ä¸€ä¸ªå¯¹è±¡<strong>åˆå§‹åŒ–</strong>å¦ä¸€ä¸ªå¯¹è±¡æ—¶ã€‚<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code>Complex <span class="token function">c3</span><span class="token punctuation">(</span>c2<span class="token punctuation">)</span><span class="token punctuation">;</span>
Complex c4 <span class="token operator">=</span> c2<span class="token punctuation">;</span>  <span class="token comment">//æ­¤å¤„æ˜¯åˆå§‹åŒ–è¯­å¥ï¼Œä¸æ˜¯èµ‹å€¼è¯­å¥</span>
</code></pre></li>
<li>å¦‚æœå‡½æ•°æœ‰ä¸€ä¸ª<strong>å‚æ•°</strong>æ˜¯ç±»çš„å¯¹è±¡ï¼Œåˆ™è¯¥å‡½æ•°è¢«è°ƒç”¨æ—¶ï¼Œç±»çš„èµ‹å€¼æ„é€ å‡½æ•°å°†ä¼šè¢«è°ƒç”¨ã€‚<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token keyword keyword-void">void</span> <span class="token function">func</span><span class="token punctuation">(</span>Complex c<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
Complex c5<span class="token punctuation">;</span>
<span class="token function">func</span><span class="token punctuation">(</span>c5<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//è°ƒç”¨å¤åˆ¶æ„é€ å‡½æ•°</span>
</code></pre></li>
<li>å¦‚æœå‡½æ•°çš„<strong>è¿”å›å€¼</strong>æ˜¯å¯¹è±¡ï¼Œåˆ™å‡½æ•°è¿”å›æ—¶ï¼Œè°ƒç”¨ç±»çš„å¤åˆ¶æ„é€ å‡½æ•°ã€‚ï¼ˆç»è¿‡ä¼˜åŒ–çš„ç¼–è¯‘å™¨å¯èƒ½ä¸ä¼šï¼‰<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code>Complex <span class="token function">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    Complex c<span class="token punctuation">;</span>
    <span class="token keyword keyword-return">return</span> c<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
Complex c6 <span class="token operator">=</span> <span class="token function">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//è°ƒç”¨å¤åˆ¶æ„é€ å‡½æ•°</span>
</code></pre></li>
</ul>
<p>æ³¨æ„ï¼šå¯¹è±¡é—´çš„<strong>èµ‹å€¼æ“ä½œ</strong>ä¸è°ƒç”¨å¤åˆ¶æ„é€ å‡½æ•°ï¼ˆè§è¿ç®—ç¬¦é‡è½½ï¼‰ã€‚</p>
<p><strong>ç¤ºä¾‹</strong></p>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;string.h&gt;</span></span>
<span class="token keyword keyword-using">using</span> <span class="token keyword keyword-namespace">namespace</span> std<span class="token punctuation">;</span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">Complex</span><span class="token punctuation">{</span>
<span class="token keyword keyword-private">private</span><span class="token operator">:</span>
    <span class="token keyword keyword-double">double</span> real<span class="token punctuation">,</span>imag<span class="token punctuation">;</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token function">Complex</span><span class="token punctuation">(</span><span class="token keyword keyword-double">double</span> r <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span><span class="token keyword keyword-double">double</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        real <span class="token operator">=</span> r<span class="token punctuation">;</span>
        imag <span class="token operator">=</span> i<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">Complex</span><span class="token punctuation">(</span><span class="token keyword keyword-const">const</span> Complex<span class="token operator">&amp;</span> c<span class="token punctuation">)</span><span class="token punctuation">{</span>  <span class="token comment">//å¤åˆ¶æ„é€ å‡½æ•°</span>
        real <span class="token operator">=</span> <span class="token number">2</span><span class="token operator">*</span>c<span class="token punctuation">.</span>real<span class="token punctuation">;</span>
        imag <span class="token operator">=</span> <span class="token number">2</span><span class="token operator">*</span>c<span class="token punctuation">.</span>imag<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-void">void</span> <span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        cout <span class="token operator">&lt;&lt;</span> real <span class="token operator">&lt;&lt;</span> <span class="token char">'+'</span> <span class="token operator">&lt;&lt;</span> imag <span class="token operator">&lt;&lt;</span> <span class="token char">'i'</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-void">void</span> <span class="token function">func</span><span class="token punctuation">(</span>Complex c<span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token comment">//ä¼ å‚æ—¶ä¼šè°ƒç”¨å¤åˆ¶æ„é€ å‡½æ•°</span>
    c<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

Complex <span class="token function">func2</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> r<span class="token punctuation">,</span><span class="token keyword keyword-int">int</span> i<span class="token punctuation">)</span><span class="token punctuation">{</span>
    Complex <span class="token function">res</span><span class="token punctuation">(</span>r<span class="token punctuation">,</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-return">return</span> res<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token comment">//è¿”å›å¯¹è±¡æ—¶ä¼šè°ƒç”¨å¤åˆ¶æ„é€ å‡½æ•°</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    Complex <span class="token function">c1</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    Complex <span class="token function">c2</span><span class="token punctuation">(</span>c1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//åˆå§‹åŒ–</span>
    c2<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//è¾“å‡º6+10i</span>
    Complex c3 <span class="token operator">=</span> c2<span class="token punctuation">;</span> <span class="token comment">//åˆå§‹åŒ–</span>
    c3<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//è¾“å‡º12+20i</span>
    Complex c4<span class="token punctuation">;</span>
    c4 <span class="token operator">=</span> c3<span class="token punctuation">;</span> <span class="token comment">//èµ‹å€¼</span>
    c4<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//è¾“å‡º12+20i</span>
    <span class="token function">func</span><span class="token punctuation">(</span>c4<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//è¾“å‡º24+40i</span>
    <span class="token function">func2</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//è¿™ä¸ªç¼–è¯‘å™¨ç»è¿‡ä¼˜åŒ–ï¼Œè¿”å›æ—¶ä¸è°ƒç”¨èµ‹å€¼æ„é€ å‡½æ•°ï¼Œå› æ­¤è¾“å‡º1+2i</span>
<span class="token punctuation">}</span>
</code></pre><h4 id="ç±»å‹è½¬æ¢æ„é€ å‡½æ•°">ç±»å‹è½¬æ¢æ„é€ å‡½æ•° </h4>
<p>c++æ˜¯å¼±ç±»å‹è¯­è¨€ï¼Œåœ¨è¡¨è¾¾å¼ä¸­ç»å¸¸å‘ç”Ÿç±»å‹è½¬æ¢ï¼Œä¸»è¦æœ‰ä¸¤ç§å½¢å¼ï¼š</p>
<ul>
<li>éšå¼ç±»å‹è½¬æ¢ï¼šå¦‚æœç¼–è¯‘å™¨å‘ç°æŸä¸ªç±»å‹ä¸é€‚åˆå½“å‰è¯­å¢ƒï¼Œå°±ä¼šè‡ªåŠ¨å‘ç”Ÿç±»å‹è½¬æ¢ï¼š
<ul>
<li>ç”¨Aç±»å‹åˆå§‹åŒ–Bç±»å‹çš„å˜é‡ï¼ˆå£°æ˜å’Œå®šä¹‰ã€å‡½æ•°å½¢å‚ã€å‡½æ•°è¿”å›å€¼ï¼‰</li>
<li>è¿ç®—ç¬¦æœŸæœ›Bç±»å‹ï¼Œä½†å®é™…ç»™å‡ºAç±»å‹</li>
<li>åœ¨<code>if</code>,<code>while</code>å’Œ<code>for</code>çš„æ¡ä»¶è¡¨è¾¾å¼ä¸­ï¼Œå¯ä»¥å°†Aç±»å‹è½¬åŒ–ä¸º<code>bool</code>ç±»å‹</li>
</ul>
</li>
<li>æ˜¾ç¤ºç±»å‹è½¬æ¢ï¼šéœ€è¦ä½¿ç”¨<code>ç±»å‹(è¡¨è¾¾å¼)</code>æˆ–<code>(ç±»å‹)è¡¨è¾¾å¼</code>è¿›è¡Œè½¬æ¢ã€‚</li>
</ul>
<h4 id="ææ„å‡½æ•°">ææ„å‡½æ•° </h4>
<p>ææ„å‡½æ•°æ˜¯ä¸€ç§ç‰¹æ®Šçš„æˆå‘˜å‡½æ•°ï¼Œç”¨äºé‡Šæ”¾å¯¹è±¡å ç”¨çš„èµ„æºã€‚ææ„å‡½æ•°åœ¨å¯¹è±¡æ¶ˆäº¡æ—¶è‡ªåŠ¨è°ƒç”¨ã€‚</p>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">String</span><span class="token punctuation">{</span>
<span class="token keyword keyword-private">private</span><span class="token operator">:</span>
    <span class="token keyword keyword-char">char</span><span class="token operator">*</span> p<span class="token punctuation">;</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token function">String</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        p <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token keyword keyword-char">char</span><span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token operator">~</span><span class="token function">String</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword keyword-delete">delete</span><span class="token punctuation">[</span><span class="token punctuation">]</span> p<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><p>å¦‚æœå®šä¹‰ç±»æ—¶æ²¡æœ‰å®šä¹‰ææ„å‡½æ•°ï¼Œåˆ™ç³»ç»Ÿä¼šè‡ªåŠ¨ç”Ÿæˆä¸€ä¸ªé»˜è®¤çš„ææ„å‡½æ•°ï¼Œä½†å®ƒæ˜¯<strong>ç©ºæ“ä½œ</strong>ï¼Œå³ä»€ä¹ˆéƒ½ä¸åšã€‚</p>
<p><strong>ææ„å‡½æ•°è¢«è°ƒç”¨çš„æ—¶æœº</strong></p>
<ul>
<li>å¯¹è±¡è¢«é”€æ¯æ—¶ï¼Œè°ƒç”¨ææ„å‡½æ•°ã€‚</li>
<li>å¯¹è±¡æ‰€åœ¨çš„ä½œç”¨åŸŸç»“æŸæ—¶ï¼Œè°ƒç”¨ææ„å‡½æ•°ã€‚</li>
<li>ç¨‹åºç»“æŸæ—¶ï¼Œè°ƒç”¨ææ„å‡½æ•°ã€‚</li>
</ul>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">Demo</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-int">int</span> id<span class="token punctuation">;</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token function">Demo</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> i<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        id <span class="token operator">=</span> i<span class="token punctuation">;</span>
        cout<span class="token operator">&lt;&lt;</span><span class="token string">"id="</span><span class="token operator">&lt;&lt;</span>id<span class="token operator">&lt;&lt;</span><span class="token string">" constructed"</span><span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token operator">~</span><span class="token function">Demo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        cout<span class="token operator">&lt;&lt;</span><span class="token string">"id="</span><span class="token operator">&lt;&lt;</span>id<span class="token operator">&lt;&lt;</span><span class="token string">" destructed"</span><span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
Demo <span class="token function">d1</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword keyword-void">void</span> <span class="token function">Func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-static">static</span> Demo <span class="token function">d2</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    Demo <span class="token function">d3</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"func"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    Demo <span class="token function">d4</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"main"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    <span class="token punctuation">{</span>
        Demo <span class="token function">d5</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">Func</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"main ends"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//è¾“å‡ºï¼š</span>
id<span class="token operator">=</span><span class="token number">1</span> constructed
id<span class="token operator">=</span><span class="token number">4</span> constructed
main
id<span class="token operator">=</span><span class="token number">5</span> constructed
id<span class="token operator">=</span><span class="token number">5</span> destructed
id<span class="token operator">=</span><span class="token number">2</span> constructed
id<span class="token operator">=</span><span class="token number">3</span> constructed
func
id<span class="token operator">=</span><span class="token number">3</span> destructed
main ends
id<span class="token operator">=</span><span class="token number">4</span> destructed
id<span class="token operator">=</span><span class="token number">2</span> destructed
id<span class="token operator">=</span><span class="token number">1</span> destructed
</code></pre><h2 id="å››-ç±»ä¸å¯¹è±¡è¿›é˜¶">å››ã€ç±»ä¸å¯¹è±¡è¿›é˜¶ </h2>
<h3 id="ä¸€å¯¹è±¡æ•°ç»„">ï¼ˆä¸€ï¼‰å¯¹è±¡æ•°ç»„ </h3>
<p>ä½¿ç”¨ç±»ç±»å‹å®šä¹‰æ•°ç»„ã€‚<br>
<code>ç±»å æ•°ç»„å[å…ƒç´ ä¸ªæ•°] = {å…ƒç´ 1,å…ƒç´ 2,...,å…ƒç´ n};</code></p>
<h4 id="å¯¹è±¡æ•°ç»„çš„åˆå§‹åŒ–">å¯¹è±¡æ•°ç»„çš„åˆå§‹åŒ– </h4>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">Complex</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-double">double</span> real<span class="token punctuation">,</span> imag<span class="token punctuation">;</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token function">Complex</span><span class="token punctuation">(</span><span class="token keyword keyword-double">double</span> r<span class="token punctuation">,</span> <span class="token keyword keyword-double">double</span> i<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">real</span><span class="token punctuation">(</span>r<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">imag</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Way1"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">Complex</span><span class="token punctuation">(</span><span class="token keyword keyword-double">double</span> r<span class="token punctuation">)</span><span class="token operator">:</span><span class="token function">real</span><span class="token punctuation">(</span>r<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">imag</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Way2"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">Complex</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token function">real</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">imag</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Way3"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

Complex array<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token function">Complex</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">//è¾“å‡ºway2,way1,way1,way3</span>
Complex<span class="token operator">*</span> parray<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token keyword keyword-new">new</span> <span class="token function">Complex</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword keyword-new">new</span> <span class="token function">Complex</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">//è¾“å‡ºway2,way1</span>
</code></pre><h4 id="å¯¹è±¡æ•°ç»„çš„ææ„">å¯¹è±¡æ•°ç»„çš„ææ„ </h4>
<p>å¯¹è±¡æ•°ç»„ç”Ÿå‘½æœŸç»“æŸæ—¶ï¼Œå¯¹è±¡æ•°ç»„çš„æ¯ä¸ªå…ƒç´ çš„ææ„å‡½æ•°éƒ½ä¼šè°ƒç”¨</p>
<p><strong>ææ„å‡½æ•°å’Œdelete,delete[]è¿ç®—ç¬¦</strong></p>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code>Ctest<span class="token operator">*</span> ptest <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> Ctest<span class="token punctuation">;</span> <span class="token comment">//æ„é€ å‡½æ•°è°ƒç”¨</span>
<span class="token keyword keyword-delete">delete</span> ptest<span class="token punctuation">;</span> <span class="token comment">//ææ„å‡½æ•°è°ƒç”¨</span>
Ctest<span class="token operator">*</span> ptest2 <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> Ctest<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">//æ„é€ å‡½æ•°è°ƒç”¨2æ¬¡</span>
<span class="token keyword keyword-delete">delete</span><span class="token punctuation">[</span><span class="token punctuation">]</span> ptest2<span class="token punctuation">;</span> <span class="token comment">//ææ„å‡½æ•°è°ƒç”¨2æ¬¡</span>
</code></pre><h3 id="äºŒthisæŒ‡é’ˆ">ï¼ˆäºŒï¼‰thisæŒ‡é’ˆ </h3>
<p>åœ¨æˆå‘˜å‡½æ•°ä¸­å¯ä»¥ä½¿ç”¨çš„ä¸€ä¸ªç‰¹æ®Šçš„æŒ‡é’ˆå˜é‡ï¼Œè¯¥æŒ‡é’ˆæŒ‡å‘è°ƒç”¨å‡½æ•°çš„é‚£ä¸ªå¯¹è±¡ã€‚</p>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">Complex</span> <span class="token punctuation">{</span> 
    <span class="token keyword keyword-double">double</span> real<span class="token punctuation">,</span> imag<span class="token punctuation">;</span> 
<span class="token keyword keyword-public">public</span><span class="token operator">:</span> 
    <span class="token function">Complex</span><span class="token punctuation">(</span><span class="token keyword keyword-double">double</span> real<span class="token punctuation">,</span> <span class="token keyword keyword-double">double</span> imag<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword keyword-this">this</span><span class="token operator">-&gt;</span>real <span class="token operator">=</span> real<span class="token punctuation">;</span>
        <span class="token keyword keyword-this">this</span><span class="token operator">-&gt;</span>imag <span class="token operator">=</span> imag<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>  
    <span class="token keyword keyword-void">void</span> <span class="token function">setreal</span><span class="token punctuation">(</span><span class="token keyword keyword-double">double</span> real<span class="token punctuation">)</span> <span class="token punctuation">{</span> 
        <span class="token keyword keyword-this">this</span><span class="token operator">-&gt;</span>real <span class="token operator">=</span> real<span class="token punctuation">;</span> 
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

Complex <span class="token function">c1</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//è°ƒç”¨æ„é€ å‡½æ•°ï¼ŒthisæŒ‡é’ˆæŒ‡å‘å¯¹è±¡c1</span>
Complex <span class="token function">c2</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//è°ƒç”¨æ„é€ å‡½æ•°ï¼ŒthisæŒ‡é’ˆæŒ‡å‘å¯¹è±¡c2</span>
c1<span class="token punctuation">.</span><span class="token function">setreal</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//è°ƒç”¨æˆå‘˜å‡½æ•°ï¼ŒthisæŒ‡é’ˆæŒ‡å‘å¯¹è±¡c1</span>

</code></pre><p><strong>thisæŒ‡é’ˆå¸¸ç”¨äºåœ¨æˆå‘˜å‡½æ•°çš„è¿”å›å€¼ä¸­è¿”å›è°ƒç”¨å‡½æ•°çš„å¯¹è±¡è‡ªèº«</strong></p>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">Complex</span> <span class="token punctuation">{</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token keyword keyword-double">double</span> real<span class="token punctuation">,</span> imag<span class="token punctuation">;</span>
    <span class="token keyword keyword-void">void</span> <span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        cout <span class="token operator">&lt;&lt;</span> real <span class="token operator">&lt;&lt;</span> <span class="token string">","</span> <span class="token operator">&lt;&lt;</span> imag <span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">Complex</span><span class="token punctuation">(</span><span class="token keyword keyword-double">double</span> r<span class="token punctuation">,</span> <span class="token keyword keyword-double">double</span> i<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        real <span class="token operator">=</span> r<span class="token punctuation">;</span> imag <span class="token operator">=</span> i<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    Complex <span class="token operator">&amp;</span><span class="token function">addOne</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword keyword-this">this</span><span class="token operator">-&gt;</span>real<span class="token operator">++</span><span class="token punctuation">;</span> <span class="token comment">//ç­‰æ•ˆäºreal++;</span>
        <span class="token keyword keyword-this">this</span><span class="token operator">-&gt;</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//ç­‰æ•ˆäºprint()</span>
        <span class="token keyword keyword-return">return</span> <span class="token operator">*</span><span class="token keyword keyword-this">this</span><span class="token punctuation">;</span><span class="token comment">//è¿”å›è°ƒç”¨å‡½æ•°çš„å¯¹è±¡è‡ªèº«</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    Complex <span class="token function">c1</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">c2</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    c2 <span class="token operator">=</span> c1<span class="token punctuation">.</span><span class="token function">addOne</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    c1<span class="token punctuation">.</span><span class="token function">addOne</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addOne</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//c1.addOne()è¿”å›äº†c1å¯¹è±¡ï¼Œå¯ä»¥ç»§ç»­è°ƒç”¨addOne()å‡½æ•°</span>
    <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//è¾“å‡ºï¼š</span>
<span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span>
<span class="token number">3</span><span class="token punctuation">,</span><span class="token number">1</span>
<span class="token number">4</span><span class="token punctuation">,</span><span class="token number">1</span>

</code></pre><h3 id="ä¸‰å¯¹è±¡ä½œä¸ºæˆå‘˜åˆ—è¡¨">ï¼ˆä¸‰ï¼‰å¯¹è±¡ä½œä¸ºæˆå‘˜åˆ—è¡¨ </h3>
<p>ä¸€ä¸ªç±»çš„å¯¹è±¡æ˜¯å¦ä¸€ä¸ªç±»çš„å¯¹è±¡</p>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">CTire</span><span class="token punctuation">{</span>
    <span class="token keyword keyword-int">int</span> radius<span class="token punctuation">;</span>
    <span class="token keyword keyword-int">int</span> width<span class="token punctuation">;</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token function">CTire</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> r<span class="token punctuation">,</span><span class="token keyword keyword-int">int</span> w<span class="token punctuation">)</span><span class="token punctuation">{</span>
        radius <span class="token operator">=</span> r<span class="token punctuation">;</span>
        width <span class="token operator">=</span> w<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">CCar</span><span class="token punctuation">{</span>
    <span class="token keyword keyword-int">int</span> price<span class="token punctuation">;</span>
    CTire tire<span class="token punctuation">;</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token function">CCar</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> p<span class="token punctuation">,</span><span class="token keyword keyword-int">int</span> r<span class="token punctuation">,</span><span class="token keyword keyword-int">int</span> w<span class="token punctuation">)</span><span class="token punctuation">{</span>
        price <span class="token operator">=</span> p<span class="token punctuation">;</span>
        tire <span class="token operator">=</span> <span class="token function">CTire</span><span class="token punctuation">(</span>r<span class="token punctuation">,</span>w<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//è¿™é‡Œå®é™…ä¸Šæ˜¯èµ‹å€¼è¡Œä¸ºï¼Œè€Œéåˆå§‹åŒ–</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><p>åœ¨C++ä¸­ï¼Œæˆå‘˜å˜é‡çš„åˆå§‹åŒ–æ˜¯åœ¨æ‰§è¡Œæ„é€ å‡½æ•°ä¹‹å‰ã€‚æ‰€ä»¥åœ¨æ‰§è¡Œæ„é€ å‡½æ•°çš„å‡½æ•°ä½“é‚£ä¸€åˆ»èµ·ï¼Œæ¯ä¸€ä¸ªæˆå‘˜éƒ½å·²ç»æœ‰äº†è‡ªå·±çš„åˆå§‹å€¼ã€‚</p>
<p><strong>é»˜è®¤åˆå§‹åŒ–å™¨</strong></p>
<p>æˆå‘˜å˜é‡å£°æ˜æ—¶å¯ä»¥é»˜è®¤é™„å¸¦åˆå§‹åŒ–å™¨ã€‚</p>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">CCar</span><span class="token punctuation">{</span>
    <span class="token keyword keyword-int">int</span> price<span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">//é»˜è®¤åˆå§‹åŒ–å™¨</span>
    CTire tire<span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">//é»˜è®¤åˆå§‹åŒ–å™¨</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token function">CCar</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> p<span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span> r<span class="token punctuation">,</span><span class="token keyword keyword-int">int</span> w<span class="token punctuation">)</span><span class="token punctuation">{</span>
        price <span class="token operator">=</span> p<span class="token punctuation">;</span>
        tire <span class="token operator">=</span> <span class="token function">CTire</span><span class="token punctuation">(</span>r<span class="token punctuation">,</span>w<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//è¿™é‡Œå®é™…ä¸Šæ˜¯èµ‹å€¼è¡Œä¸ºï¼Œè€Œéåˆå§‹åŒ–</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><h4 id="æˆå‘˜åˆå§‹åŒ–åˆ—è¡¨">æˆå‘˜åˆå§‹åŒ–åˆ—è¡¨ </h4>
<p>æ„é€ å‡½æ•°æä¾›äº†ä¸€ç§ç‰¹æ®Šçš„è¯­æ³•ï¼Œå³åœ¨å£°æ˜åé™„åŠ ä¸€ä¸ªæˆå‘˜åˆå§‹åŒ–åˆ—è¡¨</p>
<p><code>æ„é€ å‡½æ•°(å‚æ•°åˆ—è¡¨):æˆå‘˜å˜é‡1åˆå§‹åŒ–å™¨,æˆå‘˜å˜é‡2åˆå§‹åŒ–å™¨...{å‡½æ•°ä½“}</code></p>
<ul>
<li>å¦‚æœåœ¨æ„é€ å¯¹è±¡æ—¶åŒ¹é…ä¸Šäº†ç›®å‰è¿™ä¸ªæ„é€ å‡½æ•°ï¼Œåˆ™å…ˆæ ¹æ®åˆå§‹åŒ–åˆ—è¡¨æ‰§è¡Œæˆå‘˜çš„åˆå§‹åŒ–ï¼Œå†æ‰§è¡Œæ„é€ å‡½æ•°ã€‚</li>
<li>åˆå§‹åŒ–å™¨å¯ä»¥æ˜¯å¤§æ‹¬å·çš„ç»Ÿä¸€åˆå§‹åŒ–ï¼Œå¯¹äºæˆå‘˜å¯¹è±¡åˆ™å¯ä½¿ç”¨å°æ‹¬å·è°ƒç”¨å¯¹åº”çš„æ„é€ å‡½æ•°è¿›è¡Œåˆå§‹åŒ–ã€‚</li>
<li>åˆå§‹åŒ–å™¨éœ€è¦çš„å€¼å¯ä»¥ä»æ„é€ å‡½æ•°çš„å‚æ•°ä¸­è·å–ï¼Œå¹¶ä¸”å…è®¸å‚æ•°åå’Œæˆå‘˜å˜é‡åå…·æœ‰ç›¸åŒçš„åå­—ã€‚</li>
</ul>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">CCar</span><span class="token punctuation">{</span>
    <span class="token keyword keyword-int">int</span> price<span class="token punctuation">;</span>
    CTire tire<span class="token punctuation">;</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token function">CCar</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> p<span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span> r<span class="token punctuation">,</span><span class="token keyword keyword-int">int</span> w<span class="token punctuation">)</span><span class="token operator">:</span><span class="token function">price</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">tire</span><span class="token punctuation">(</span>r<span class="token punctuation">,</span>w<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><p><strong>å¯¹è±¡åˆå§‹åŒ–çš„ä¸€èˆ¬æµç¨‹</strong></p>
<blockquote>
<p>1.åŒ¹é…æ„é€ å‡½æ•°<br>
2.å¦‚æœæŸä¸ªæˆå‘˜åœ¨<strong>åˆå§‹åŒ–åˆ—è¡¨</strong>ä¸­æåŠï¼Œåˆ™æŒ‰åˆå§‹åŒ–åˆ—è¡¨åˆå§‹åŒ–<br>
3.å¦‚æœæŸä¸ªæˆå‘˜æ²¡æœ‰åœ¨åˆå§‹åŒ–åˆ—è¡¨ä¸­æåŠï¼Œåˆ™æŒ‰<strong>é»˜è®¤åˆå§‹åŒ–å™¨</strong>åˆå§‹åŒ–<br>
4.å¦‚æœæŸä¸ªæˆå‘˜æ²¡æœ‰é»˜è®¤åˆå§‹åŒ–å™¨ï¼Œé»˜è®¤åˆå§‹åŒ–å®ƒï¼ˆé€šè¿‡é¢„ç½®çš„<strong>é»˜è®¤æ„é€ å‡½æ•°</strong>ï¼‰<br>
5.å½“å…¨éƒ¨æˆå‘˜åˆå§‹åŒ–å®Œæˆåï¼Œå†æ‰§è¡Œæ„é€ å‡½æ•°</p>
</blockquote>
<p>åˆå§‹åŒ–æ¯ä¸ªæˆå‘˜çš„é¡ºåºæ˜¯æŒ‰ç…§æˆå‘˜åˆ—è¡¨çš„é¡ºåºï¼ˆå³å£°æ˜çš„é¡ºåºï¼‰è¿›è¡Œçš„ï¼Œä¸åˆå§‹åŒ–åˆ—è¡¨çš„ä¹¦å†™é¡ºåºæ— å…³ã€‚</p>
<p><strong>å¯¹è±¡é”€æ¯çš„ä¸€èˆ¬æµç¨‹</strong></p>
<p>å¯¹è±¡é”€æ¯æ—¶çš„ææ„é¡ºåºå’Œæ„é€ é¡ºåºæ˜¯ç›¸åçš„ã€‚</p>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">CTyre</span> <span class="token punctuation">{</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token function">CTyre</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> cout <span class="token operator">&lt;&lt;</span> <span class="token string">"CTyre contructor"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token operator">~</span><span class="token function">CTyre</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> cout <span class="token operator">&lt;&lt;</span> <span class="token string">"CTyre destructor"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword keyword-class">class</span> <span class="token class-name">CEngine</span> <span class="token punctuation">{</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token function">CEngine</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> cout <span class="token operator">&lt;&lt;</span> <span class="token string">"CEngine contructor"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token operator">~</span><span class="token function">CEngine</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> cout <span class="token operator">&lt;&lt;</span> <span class="token string">"CEngine destructor"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword keyword-class">class</span> <span class="token class-name">CCar</span> <span class="token punctuation">{</span>
<span class="token keyword keyword-private">private</span><span class="token operator">:</span>
    CEngine engine<span class="token punctuation">;</span>
    CTyre tyre<span class="token punctuation">;</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token function">CCar</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> cout <span class="token operator">&lt;&lt;</span> <span class="token string">"CCar contructor"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token operator">~</span><span class="token function">CCar</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> cout <span class="token operator">&lt;&lt;</span> <span class="token string">"CCar destructor"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    CCar car<span class="token punctuation">;</span>
    <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//è¾“å‡ºç»“æœ</span>
CEngine contructor
CTyre contructor
CCar contructor
CCar destructor
CTyre destructor
CEngine destructor

</code></pre><h4 id="æˆå‘˜å¯¹è±¡çš„å¤åˆ¶æ„é€ ">æˆå‘˜å¯¹è±¡çš„å¤åˆ¶æ„é€  </h4>
<p>å¯¹äºå«æœ‰æˆå‘˜å¯¹è±¡çš„ç±»ï¼Œå…¶å¯¹è±¡å¦‚æœæ˜¯ç”¨é»˜è®¤å¤åˆ¶æ„é€ å‡½æ•°åˆå§‹åŒ–çš„ï¼Œé‚£ä¹ˆå®ƒé‡Œé¢çš„æˆå‘˜å¯¹è±¡<strong>ä¹Ÿä¼šç”¨å¤åˆ¶æ„é€ å‡½æ•°åˆå§‹åŒ–</strong>ã€‚</p>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">A</span> <span class="token punctuation">{</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token function">A</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> cout <span class="token operator">&lt;&lt;</span> <span class="token string">"default"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token function">A</span><span class="token punctuation">(</span><span class="token keyword keyword-const">const</span> A <span class="token operator">&amp;</span>a<span class="token punctuation">)</span> <span class="token punctuation">{</span> cout <span class="token operator">&lt;&lt;</span> <span class="token string">"copy"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword keyword-class">class</span> <span class="token class-name">B</span> <span class="token punctuation">{</span>
    A a<span class="token punctuation">;</span>
    <span class="token keyword keyword-int">int</span> p<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    B b1<span class="token punctuation">,</span> <span class="token function">b2</span><span class="token punctuation">(</span>b1<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//ç¼–è¯‘å™¨ç»™Bçš„é»˜è®¤å¤åˆ¶æ„é€ å‡½æ•°ç±»ä¼¼ï¼šB(const B&amp; b):a(b.a),p(b.p){};</span>
    <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//è¾“å‡ºç»“æœ:default,copy</span>
<span class="token comment">//defaultä¸ºb1é»˜è®¤åˆå§‹åŒ–æ—¶ï¼Œaçš„é»˜è®¤æ„é€ å‡½æ•°è°ƒç”¨</span>
<span class="token comment">//copyä¸ºb2çš„å¤åˆ¶æ„é€ å‡½æ•°è°ƒç”¨ï¼Œaçš„å¤åˆ¶æ„é€ å‡½æ•°è°ƒç”¨</span>
</code></pre><h3 id="å››é™æ€æˆå‘˜">ï¼ˆå››ï¼‰é™æ€æˆå‘˜ </h3>
<p><strong>é™æ€æˆå‘˜</strong>ï¼šå®šä¹‰æ—¶å‰é¢åŠ äº†<code>static</code>å…³é”®å­—çš„æˆå‘˜ã€‚</p>
<p><strong>ä½œç”¨</strong>ï¼šç±»ä¼¼äºå…¨å±€å˜é‡æˆ–å…¨å±€å‡½æ•°ï¼Œå°†ç±»å½“ä½œå‘½åç©ºé—´ä½¿ç”¨</p>
<p><strong>ç‰¹ç‚¹</strong>ï¼šé™æ€æˆå‘˜å˜é‡å¯¹äºæ¯ä¸ªç±»åªæœ‰ä¸€ä»½ï¼›é™æ€æˆå‘˜å‡½æ•°å¹¶ä¸å…·ä½“ä½œç”¨äºæŸä¸ªå¯¹è±¡ã€‚</p>
<p><strong>ç›®çš„</strong>ï¼šå°†ä¸æŸäº›ç±»ç´§å¯†ç›¸å…³çš„å…¨å±€å˜é‡å’Œå‡½æ•°å†™åˆ°ç±»é‡Œé¢ï¼Œçœ‹ä¸Šå»åƒä¸€ä¸ªæ•´ä½“ï¼Œæ˜“äºç»´æŠ¤å’Œç†è§£</p>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">CRectangle</span><span class="token punctuation">{</span>
<span class="token keyword keyword-private">private</span><span class="token operator">:</span>
    <span class="token keyword keyword-int">int</span> w<span class="token punctuation">,</span> h<span class="token punctuation">;</span>
    <span class="token keyword keyword-static">static</span> <span class="token keyword keyword-int">int</span> nTotalArea<span class="token punctuation">;</span> <span class="token comment">//é™æ€æˆå‘˜å˜é‡</span>
    <span class="token keyword keyword-static">static</span> <span class="token keyword keyword-int">int</span> nTotalNumber<span class="token punctuation">;</span> <span class="token comment">//é™æ€æˆå‘˜å˜é‡</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token function">CRectangle</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> w_<span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span> h_<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token operator">~</span><span class="token function">CRectangle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-static">static</span> <span class="token keyword keyword-void">void</span> <span class="token function">PrintTotal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//é™æ€æˆå‘˜å‡½æ•°</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><p>é™æ€æˆå‘˜é™¤äº†å’Œæ™®é€šæˆå‘˜ä¸€æ ·é‡‡å–<code>å¯¹è±¡å.æˆå‘˜å</code>ã€<code>æŒ‡é’ˆ-&gt;æˆå‘˜å</code>ã€<code>å¼•ç”¨.æˆå‘˜å</code>è®¿é—®ä»¥å¤–ï¼Œè¿˜å¯ä»¥é€šè¿‡<code>ç±»å::æˆå‘˜å</code>è®¿é—®ã€‚</p>
<h4 id="é™æ€æˆå‘˜å˜é‡">é™æ€æˆå‘˜å˜é‡ </h4>
<p>æˆå‘˜åˆ—è¡¨é‡Œçš„é™æ€æˆå‘˜å˜é‡å¤§å¤šåªèƒ½å£°æ˜è€Œä¸èƒ½å®šä¹‰ã€‚å¿…é¡»åœ¨ç±»å¤–ä¸“é—¨å¯¹æˆå‘˜å˜é‡è¿›è¡Œå£°æ˜ï¼ŒåŒæ—¶å¯ä»¥åˆå§‹åŒ–ã€‚</p>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">A</span> <span class="token punctuation">{</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token keyword keyword-static">static</span> <span class="token keyword keyword-int">int</span> n<span class="token punctuation">;</span> <span class="token comment">//æ˜¯å£°æ˜ï¼Œä¸æ˜¯å®šä¹‰</span>
    <span class="token comment">//static int n{0} //è¿™æ ·çš„é»˜è®¤åˆå§‹åŒ–ä¹Ÿæ˜¯ä¸å…è®¸çš„ï¼</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword keyword-int">int</span> A<span class="token double-colon punctuation">::</span>n<span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">//è¦åœ¨ç±»å¤–å®šä¹‰å®ƒï¼ˆä¸å¸¦staticï¼‰</span>
<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    A<span class="token double-colon punctuation">::</span>n <span class="token operator">=</span> <span class="token number">42</span><span class="token punctuation">;</span> <span class="token comment">//å¯ä»¥ç›´æ¥ä½¿ç”¨ç±»åè®¿é—®é™æ€å˜é‡</span>
    A a1<span class="token punctuation">,</span> a2<span class="token punctuation">;</span>
    a1<span class="token punctuation">.</span>n <span class="token operator">=</span> <span class="token number">50</span><span class="token punctuation">;</span> <span class="token comment">//é€šè¿‡å¯¹è±¡ä¹Ÿå¯ä»¥è®¿é—®é™æ€å˜é‡</span>
    cout <span class="token operator">&lt;&lt;</span> a1<span class="token punctuation">.</span>n <span class="token operator">&lt;&lt;</span><span class="token string">","</span> <span class="token operator">&lt;&lt;</span> a2<span class="token punctuation">.</span>n<span class="token punctuation">;</span> <span class="token comment">//è¾“å‡º50,50</span>
<span class="token punctuation">}</span>
</code></pre><h4 id="é™æ€æˆå‘˜å‡½æ•°">é™æ€æˆå‘˜å‡½æ•° </h4>
<p>é™æ€æˆå‘˜å‡½æ•°å¯ä»¥è®¿é—®é™æ€æˆå‘˜å˜é‡å’Œé™æ€æˆå‘˜å‡½æ•°ï¼Œä½†<strong>ä¸èƒ½è®¿é—®éé™æ€æˆå‘˜å˜é‡å’Œéé™æ€æˆå‘˜å‡½æ•°</strong>ï¼ŒåŒæ—¶<strong>ä¹Ÿä¸èƒ½è°ƒç”¨thisæŒ‡é’ˆ</strong>ã€‚</p>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">A</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-static">static</span> <span class="token keyword keyword-void">void</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// é™æ€æˆå‘˜å‡½æ•°ï¼Œç”¨staticä¿®é¥°</span>
        cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Hello"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-static">static</span> <span class="token keyword keyword-void">void</span> <span class="token function">g</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ä¹Ÿå¯ä»¥æŠŠå®šä¹‰æ”¾åœ¨ç±»å¤–</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword keyword-void">void</span> <span class="token class-name">A</span><span class="token double-colon punctuation">::</span><span class="token function">g</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"World"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token comment">// ç±»å¤–å®šä¹‰éœ€è¦åŠ ä¸Š ç±»å::ï¼Œä½†ä¸å†™static</span>
<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">A</span><span class="token double-colon punctuation">::</span><span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// å¦‚åŒå¸¦æœ‰å‘½åç©ºé—´ä¸€æ ·è°ƒç”¨</span>
<span class="token punctuation">}</span>
</code></pre><p><strong>ä¾‹é¢˜</strong>ï¼šå…³äºé™æ€æˆå‘˜çš„ç”Ÿå‘½å‘¨æœŸ</p>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">Foobar</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-static">static</span> <span class="token keyword keyword-int">int</span> totalNum<span class="token punctuation">;</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token function">Foobar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        totalNum <span class="token operator">++</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">Foobar</span><span class="token punctuation">(</span><span class="token keyword keyword-const">const</span> Foobar<span class="token operator">&amp;</span> a<span class="token punctuation">)</span><span class="token punctuation">{</span>
        totalNum <span class="token operator">++</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token operator">~</span><span class="token function">Foobar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        totalNum <span class="token operator">--</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-static">static</span> <span class="token keyword keyword-void">void</span> <span class="token function">printTotal</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> totalNum <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword keyword-int">int</span> Foobar<span class="token double-colon punctuation">::</span>totalNum <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

<span class="token keyword keyword-void">void</span> <span class="token function">byRef</span><span class="token punctuation">(</span><span class="token keyword keyword-const">const</span> Foobar<span class="token operator">&amp;</span> a<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    a<span class="token punctuation">.</span><span class="token function">printTotal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword keyword-void">void</span> <span class="token function">byVal</span><span class="token punctuation">(</span>Foobar a<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    a<span class="token punctuation">.</span><span class="token function">printTotal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword keyword-void">void</span> <span class="token function">staticLocal</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-static">static</span> Foobar a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c <span class="token operator">=</span> b<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">Foobar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">Foobar</span><span class="token double-colon punctuation">::</span><span class="token function">printTotal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//è°ƒç”¨é»˜è®¤æ„é€ å‡½æ•°ï¼ŒtotalNum+1ï¼Œè¾“å‡º1ã€‚ä½†ç”±äºæ˜¯åŒ¿åå¯¹è±¡ï¼Œè¯­å¥ç»“æŸæ—¶ä¼šé”€æ¯ï¼Œå› æ­¤è¯­å¥ç»“æŸæ—¶totalNumå½’é›¶</span>
    Foobar x<span class="token punctuation">;</span>
    x<span class="token punctuation">.</span><span class="token function">printTotal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//è°ƒç”¨é»˜è®¤æ„é€ å‡½æ•°ï¼ŒtotalNum+1ï¼Œè¾“å‡º1ã€‚</span>

    Foobar<span class="token operator">*</span> p <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> Foobar<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">//åˆ›å»ºäº†ä¸‰ä¸ªFoobarå¯¹è±¡ï¼ŒtotalNum+3ï¼Œç›®å‰ä¸º4ã€‚</span>
    <span class="token function">byRef</span><span class="token punctuation">(</span>p<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//ä¼ é€’çš„æ˜¯å¼•ç”¨ï¼Œåœ¨byRefå‡½æ•°å†…éƒ¨æ²¡æœ‰åˆ›å»ºä¸´æ—¶å¯¹è±¡ï¼ŒtotalNumä¸å˜ï¼Œè¾“å‡º4ã€‚</span>
    <span class="token function">byVal</span><span class="token punctuation">(</span>p<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//ä¼ é€’çš„æ˜¯å€¼ï¼Œåœ¨byValå‡½æ•°å†…éƒ¨åˆ›å»ºäº†ä¸´æ—¶å¯¹è±¡ï¼ŒtotalNum+1ï¼Œè¾“å‡º5ã€‚å‡½æ•°ç»“æŸåï¼Œä¼ å…¥çš„Foobarå¯¹è±¡ä½œä¸ºå±€éƒ¨å˜é‡è¢«é”€æ¯ï¼ŒtotalNum-1ï¼Œå˜ä¸º4ã€‚</span>

    <span class="token keyword keyword-delete">delete</span><span class="token punctuation">[</span><span class="token punctuation">]</span> p<span class="token punctuation">;</span> <span class="token comment">//å¯¹è±¡æ•°ç»„çš„é”€æ¯ï¼Œæ‰§è¡Œä¸‰æ¬¡ææ„å‡½æ•°ï¼ŒtotalNum-3ï¼Œå˜ä¸º1ã€‚</span>
    <span class="token class-name">Foobar</span><span class="token double-colon punctuation">::</span><span class="token function">printTotal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//è¾“å‡º1ã€‚</span>
    <span class="token function">staticLocal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//åœ¨staticLocalå‡½æ•°å†…éƒ¨åˆ›å»ºäº†ä¸‰ä¸ªFoobarå¯¹è±¡ï¼ŒtotalNum+3ï¼Œç›®å‰ä¸º4ã€‚ç”±äºæ˜¯staticå¯¹è±¡ï¼Œåœ¨å‡½æ•°ç»“æŸåä¸ä¼šé”€æ¯ï¼Œåªä¼šåœ¨ç¨‹åºç»“æŸåé”€æ¯ï¼Œå› æ­¤totalNumä¸º4ã€‚</span>
    <span class="token class-name">Foobar</span><span class="token double-colon punctuation">::</span><span class="token function">printTotal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//è¾“å‡º4ã€‚</span>
<span class="token punctuation">}</span>
</code></pre><h3 id="äº”åªè¯»æˆå‘˜">ï¼ˆäº”ï¼‰åªè¯»æˆå‘˜ </h3>
<h4 id="åªè¯»å¯¹è±¡">åªè¯»å¯¹è±¡ </h4>
<p>å¦‚æœä¸å¸Œæœ›æŸä¸ªå¯¹è±¡çš„å€¼è¢«æ”¹å˜ï¼Œåˆ™å®šä¹‰è¯¥å¯¹è±¡çš„æ—¶å€™å¯ä»¥åœ¨å‰é¢åŠ ä¸Š<code>const</code>å…³é”®å­—ï¼Œå£°æ˜ä¸ºåªè¯»å¯¹è±¡ã€‚</p>
<ul>
<li>åªè¯»å¯¹è±¡åªèƒ½ä½¿ç”¨æ„é€ å‡½æ•°ï¼Œææ„å‡½æ•°ï¼Œæœ‰<code>const</code>è¯´æ˜çš„å‡½æ•°ï¼ˆ<strong>åªè¯»æˆå‘˜å‡½æ•°</strong>ï¼‰ã€‚</li>
<li>åªè¯»å¯¹è±¡æˆ–åªè¯»å¯¹è±¡å¼•ç”¨ä½œä¸ºå‡½æ•°å½¢å‚ï¼Œå¯é¿å…åœ¨å‡½æ•°ä¿®æ”¹å¯¹è±¡</li>
<li>å¯ä»¥è¯»å–æˆå‘˜å˜é‡çš„å€¼ï¼Œä½†ä¸èƒ½ä¿®æ”¹ï¼ˆé™¤éç”¨<code>mutable</code>ä¿®é¥°ï¼‰</li>
</ul>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">Sample</span> <span class="token punctuation">{</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token keyword keyword-int">int</span> value<span class="token punctuation">{</span><span class="token number">5</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-mutable">mutable</span> Mvalue<span class="token punctuation">{</span><span class="token number">4</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-void">void</span> <span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword keyword-const">const</span> Sample obj<span class="token punctuation">;</span> <span class="token comment">//åªè¯»å¯¹è±¡</span>
cout <span class="token operator">&lt;&lt;</span> obj<span class="token punctuation">.</span>value<span class="token punctuation">;</span><span class="token comment">//æ­£ç¡®ï¼Œå¯ä»¥è¯»å–æˆå‘˜å˜é‡çš„å€¼</span>
obj<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span> <span class="token comment">//é”™è¯¯ï¼Œåªè¯»å¯¹è±¡ä¸èƒ½ä¿®æ”¹æˆå‘˜å˜é‡çš„å€¼</span>
obj<span class="token punctuation">.</span>Mvalue <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span> <span class="token comment">//æ­£ç¡®ï¼Œå¯ä»¥ä¿®æ”¹ç”¨mutableä¿®é¥°çš„æˆå‘˜å˜é‡çš„å€¼</span>
obj<span class="token punctuation">.</span><span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//é”™è¯¯ï¼Œä¸èƒ½è°ƒç”¨éconstæˆå‘˜å‡½æ•°</span>
</code></pre><h4 id="åªè¯»æˆå‘˜å‡½æ•°">åªè¯»æˆå‘˜å‡½æ•° </h4>
<p>åœ¨ç±»çš„æˆå‘˜å‡½æ•°è¯´æ˜åå¯ä»¥åŠ <code>const</code>å…³é”®å­—ï¼Œåˆ™è¯¥æˆå‘˜å‡½æ•°æˆä¸º<strong>åªè¯»æˆå‘˜å‡½æ•°</strong></p>
<ul>
<li>åªè¯»æˆå‘˜å‡½æ•°å†…éƒ¨<strong>ä¸èƒ½ä¿®æ”¹è¯¥ç±»çš„æˆå‘˜å˜é‡çš„å€¼</strong>ï¼Œä¹Ÿ<strong>ä¸èƒ½è°ƒç”¨è¯¥ç±»ä¸­çš„éåªè¯»æˆå‘˜å‡½æ•°</strong>ã€‚</li>
<li>å¯ä»¥ä¿®æ”¹<strong>é™æ€æˆå‘˜å˜é‡çš„å€¼</strong>ï¼Œä¹Ÿå¯ä»¥<strong>è°ƒç”¨é™æ€æˆå‘˜å‡½æ•°</strong>ã€‚</li>
<li>å£°æ˜å’Œå®šä¹‰åªè¯»æˆå‘˜å‡½æ•°æ—¶éƒ½å¿…é¡»ä½¿ç”¨<code>const</code>å…³é”®å­—ã€‚</li>
</ul>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">Sample</span> <span class="token punctuation">{</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token keyword keyword-int">int</span> value<span class="token punctuation">;</span>
    <span class="token keyword keyword-void">void</span> <span class="token function">setValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword keyword-const">const</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-void">void</span> <span class="token function">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword keyword-void">void</span> <span class="token class-name">Sample</span><span class="token double-colon punctuation">::</span><span class="token function">setValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword keyword-const">const</span> <span class="token punctuation">{</span>
    value <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">//ç¼–è¯‘é”™è¯¯ï¼Œåªè¯»æˆå‘˜å‡½æ•°ä¸èƒ½ä¿®æ”¹éåªè¯»æˆå‘˜å˜é‡</span>
    <span class="token function">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//ç¼–è¯‘é”™è¯¯ï¼Œåªè¯»æˆå‘˜å‡½æ•°ä¸èƒ½è°ƒç”¨éåªè¯»æˆå‘˜å‡½æ•°</span>
<span class="token punctuation">}</span>
<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword keyword-const">const</span> Sample o<span class="token punctuation">;</span>
    o<span class="token punctuation">.</span><span class="token function">setValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//åªè¯»å¯¹è±¡å¯ä»¥è°ƒç”¨åªè¯»æˆå‘˜å‡½æ•°</span>
    <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><p>ä¸¤ä¸ªå‡½æ•°ï¼Œåå­—å’Œå‚æ•°è¡¨éƒ½ä¸€æ ·ï¼Œä½†æ˜¯ä¸€ä¸ªæ˜¯<code>const</code>ä¿®é¥°çš„ï¼Œä¸€ä¸ªä¸æ˜¯ï¼Œåˆ™è¿™ç§æƒ…å†µä¹Ÿç®—ä½œ<strong>å‡½æ•°é‡è½½</strong>ã€‚</p>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">CTest</span><span class="token punctuation">{</span>
<span class="token keyword keyword-int">int</span> n<span class="token punctuation">;</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token function">CTest</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> n <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-int">int</span> <span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword keyword-const">const</span> <span class="token punctuation">{</span> <span class="token keyword keyword-return">return</span> n<span class="token punctuation">;</span> <span class="token punctuation">}</span> <span class="token comment">//é‡è½½</span>
    <span class="token keyword keyword-int">int</span> <span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword keyword-return">return</span> <span class="token number">2</span> <span class="token operator">*</span> n <span class="token punctuation">;</span> <span class="token punctuation">}</span> <span class="token comment">//é‡è½½</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-const">const</span> CTest objTest1<span class="token punctuation">;</span>
    CTest objTest2<span class="token punctuation">;</span>
    cout<span class="token operator">&lt;&lt;</span> objTest1<span class="token punctuation">.</span><span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">", "</span> <span class="token operator">&lt;&lt;</span>objTest2<span class="token punctuation">.</span><span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//è¾“å‡º1,2</span>
    <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><h4 id="mutableæˆå‘˜å˜é‡">mutableæˆå‘˜å˜é‡ </h4>
<p>ç”¨<code>mutable</code>å…³é”®å­—ä¿®é¥°çš„æˆå‘˜å˜é‡ï¼Œå¯ä»¥è¢«<strong>constæˆå‘˜å‡½æ•°</strong>ä¿®æ”¹ã€‚</p>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">CTest</span> <span class="token punctuation">{</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token keyword keyword-bool">bool</span> <span class="token function">getData</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword keyword-const">const</span> <span class="token punctuation">{</span>
        n<span class="token operator">++</span><span class="token punctuation">;</span> <span class="token comment">//nä½¿ç”¨mutableä¿®é¥°ï¼Œå¯åœ¨åªè¯»å‡½æ•°ä¸­ä¿®æ”¹ã€‚</span>
    <span class="token keyword keyword-return">return</span> flag<span class="token punctuation">;</span> <span class="token comment">//å¯ä»¥è¿”å›ï¼ˆè€Œéä¿®æ”¹ï¼‰æ²¡æœ‰ç”¨mutableä¿®é¥°çš„æˆå‘˜å˜é‡ã€‚</span>
    <span class="token punctuation">}</span>
<span class="token keyword keyword-private">private</span><span class="token operator">:</span>
    <span class="token keyword keyword-mutable">mutable</span> <span class="token keyword keyword-int">int</span> n<span class="token punctuation">;</span>
    <span class="token keyword keyword-bool">bool</span> flag<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><h4 id="åªè¯»æˆå‘˜å˜é‡">åªè¯»æˆå‘˜å˜é‡ </h4>
<p>ä½¿ç”¨<code>const</code>ä¿®é¥°çš„æˆå‘˜å˜é‡ä¸ºåªè¯»æˆå‘˜å˜é‡ã€‚</p>
<ul>
<li>ä¸èƒ½é€šè¿‡ä»»ä½•åŠæ³•è¢«èµ‹å€¼ï¼Œ<strong>åŒ…æ‹¬æ„é€ å‡½æ•°å’Œèµ‹å€¼è¿ç®—ç¬¦</strong></li>
<li>å¿…é¡»è¢«æ˜¾å¼åœ°åˆå§‹åŒ–ï¼Œå³å¿…é¡»æ‹¥æœ‰ä¸€ä¸ªé»˜è®¤æˆå‘˜åˆå§‹åŒ–å™¨æˆ–å‡ºç°åœ¨æˆå‘˜åˆå§‹åŒ–åˆ—è¡¨ä¸­ã€‚</li>
</ul>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">A</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-const">const</span> <span class="token keyword keyword-int">int</span> data<span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// åªè¯»æˆå‘˜å˜é‡ï¼Œé»˜è®¤åˆå§‹åŒ–å™¨</span>
    <span class="token function">A</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        data <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// é”™è¯¯ï¼šä¸èƒ½å¯¹åªè¯»ç±»å‹èµ‹å€¼</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-void">void</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword keyword-const">const</span> <span class="token punctuation">{</span> <span class="token comment">// è¿™ä¸å‡½æ•° const é™å®šä¸å¦æ— å…³</span>
        data <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// é”™è¯¯ï¼šä¸èƒ½å¯¹åªè¯»ç±»å‹èµ‹å€¼</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><h3 id="å…­å‹å…ƒ">ï¼ˆå…­ï¼‰å‹å…ƒ </h3>
<p><strong>å‹å…ƒ</strong>ï¼šè®©æŸä¸ªç±»ä»¥å¤–çš„å‡½æ•°å¯ä»¥è®¿é—®è¿™ä¸ªç±»çš„ç§æœ‰æˆå‘˜ã€‚</p>
<ul>
<li>å‹å…ƒå‡½æ•°ï¼šä¸€ä¸ªç±»çš„å‹å…ƒå‡½æ•°å¯ä»¥è®¿é—®è¯¥ç±»çš„ç§æœ‰æˆå‘˜</li>
<li>å‹å…ƒç±»ï¼šå¦‚æœAæ˜¯Bçš„å‹å…ƒç±», é‚£ä¹ˆAçš„æ‰€æœ‰æˆå‘˜å‡½æ•°éƒ½å¯ä»¥è®¿é—®Bçš„ç§æœ‰æˆå‘˜</li>
</ul>
<p><strong>å‹å…ƒçš„å£°æ˜</strong>ï¼š<code>friend</code>å…³é”®å­—ã€‚</p>
<p><code>friend class ç±»å</code>: å£°æ˜æŸä¸ªç±»ä¸ºå‹å…ƒç±»ã€‚<br>
<code>friend å‡½æ•°è¿”å›å€¼ (ç±»å::)å‡½æ•°å(å‚æ•°è¡¨)</code>: å£°æ˜æŸä¸ªå‡½æ•°ä¸ºå‹å…ƒå‡½æ•°ã€‚</p>
<ul>
<li>å‹å…ƒçš„å…³ç³»æ˜¯å•å‘çš„ï¼Œåœ¨Aç±»ä¸­å£°æ˜å‹å…ƒç±»Bï¼Œåˆ™Bçš„æˆå‘˜å‡½æ•°éƒ½å¯ä»¥è®¿é—®Açš„ç§æœ‰æˆå‘˜ï¼Œè€ŒAçš„æˆå‘˜å‡½æ•°ä¸èƒ½è®¿é—®Bçš„ç§æœ‰æˆå‘˜ã€‚</li>
<li>å£°æ˜å‹å…ƒå¯åœ¨ç±»å®šä¹‰çš„ä»»ä½•ä½ç½®ï¼Œä¸å—è®¿é—®èŒƒå›´å…³é”®è¯çš„çº¦æŸã€‚</li>
</ul>
<p><strong>ç¤ºä¾‹1</strong>ï¼šå£°æ˜å‹å…ƒå‡½æ•°</p>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">CCar</span><span class="token punctuation">;</span> <span class="token comment">//æå‰å£°æ˜CCarç±», ä»¥ä¾¿åé¢çš„CDriverç±»ä½¿ç”¨</span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">CDriver</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token keyword keyword-void">void</span> <span class="token function">modifyCar</span><span class="token punctuation">(</span>CCar <span class="token operator">*</span>pCar<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//æ”¹è£…æ±½è½¦</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">CCar</span> <span class="token punctuation">{</span>
<span class="token keyword keyword-private">private</span><span class="token operator">:</span>
    <span class="token keyword keyword-int">int</span> price<span class="token punctuation">;</span>
<span class="token comment">//å£°æ˜å‹å…ƒï¼ŒmostExpensiveCarå‡½æ•°æ˜¯CCarçš„å‹å…ƒ</span>
    <span class="token keyword keyword-friend">friend</span> <span class="token keyword keyword-int">int</span> <span class="token function">mostExpensiveCar</span><span class="token punctuation">(</span>CCar cars<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span> total<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//å£°æ˜å‹å…ƒï¼ŒCDriverç±»çš„modifyCarå‡½æ•°æ˜¯CCarç±»çš„å‹å…ƒ</span>
    <span class="token keyword keyword-friend">friend</span> <span class="token keyword keyword-void">void</span> <span class="token class-name">CDriver</span><span class="token double-colon punctuation">::</span><span class="token function">modifyCar</span><span class="token punctuation">(</span>CCar <span class="token operator">*</span>pCar<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//å¯ä»¥å°†ä¸€ä¸ªç±»çš„æˆå‘˜å‡½æ•°ï¼ˆåŒ…æ‹¬æ„é€ å’Œææ„å‡½æ•°ï¼‰å£°æ˜ä¸ºå¦ä¸€ä¸ªç±»çš„å‹å…ƒ</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-void">void</span> <span class="token class-name">CDriver</span><span class="token double-colon punctuation">::</span><span class="token function">modifyCar</span><span class="token punctuation">(</span>CCar <span class="token operator">*</span>pCar<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    pCar<span class="token operator">-&gt;</span>price <span class="token operator">+=</span> <span class="token number">1000</span><span class="token punctuation">;</span> <span class="token comment">//æ±½è½¦æ”¹è£…åä»·å€¼å¢åŠ </span>
<span class="token punctuation">}</span>

<span class="token keyword keyword-int">int</span> <span class="token function">mostExpensiveCar</span><span class="token punctuation">(</span>CCar cars<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span> total<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">//æ±‚æœ€è´µæ±½è½¦çš„ä»·æ ¼</span>
    <span class="token keyword keyword-int">int</span> tmpMax <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-for">for</span> <span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> total<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span>
        <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>cars<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>price <span class="token operator">&gt;</span> tmpMax<span class="token punctuation">)</span>
            tmpMax <span class="token operator">=</span> cars<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>price<span class="token punctuation">;</span>
    <span class="token keyword keyword-return">return</span> tmpMax<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><p><strong>ç¤ºä¾‹2</strong>ï¼šå£°æ˜å‹å…ƒç±»</p>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">CCar</span><span class="token punctuation">{</span>
<span class="token keyword keyword-private">private</span><span class="token operator">:</span>
    <span class="token keyword keyword-int">int</span> price<span class="token punctuation">;</span>
    <span class="token keyword keyword-friend">friend</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">CDriver</span><span class="token punctuation">;</span> <span class="token comment">//å£°æ˜CDriverä¸ºå‹å…ƒç±»</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">CDriver</span><span class="token punctuation">{</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    CCar myCar<span class="token punctuation">;</span>
    <span class="token keyword keyword-void">void</span> <span class="token function">ModifyCar</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">//æ”¹è£…æ±½è½¦</span>
        myCar<span class="token punctuation">.</span>price<span class="token operator">+=</span> <span class="token number">1000</span><span class="token punctuation">;</span> <span class="token comment">//å› CDriveræ˜¯CCarçš„å‹å…ƒç±»,</span>
    <span class="token punctuation">}</span> <span class="token comment">//æ•…æ­¤å¤„å¯ä»¥è®¿é—®å…¶ç§æœ‰æˆå‘˜</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><h2 id="äº”-è¿ç®—ç¬¦é‡è½½">äº”ã€è¿ç®—ç¬¦é‡è½½ </h2>
<h3 id="ä¸€åŸºæœ¬æ¦‚å¿µ">ï¼ˆä¸€ï¼‰åŸºæœ¬æ¦‚å¿µ </h3>
<ul>
<li>å¯¹C++ä¸­é¢„å®šä¹‰çš„è¿ç®—ç¬¦èµ‹äºˆå¤šé‡çš„å«ä¹‰ï¼Œä½¿åŒä¸€è¿ç®—ç¬¦ä½œç”¨äºä¸åŒç±»å‹çš„æ•°æ®æ—¶å¯ä»¥æœ‰ä¸åŒçš„è¡Œä¸ºã€‚</li>
<li>è¿ç®—ç¬¦é‡è½½çš„å®è´¨æ˜¯å‡½æ•°çš„é‡è½½ã€‚</li>
</ul>
<p><code>è¿”å›å€¼ç±»å‹ operator è¿ç®—ç¬¦ (å‚æ•°è¡¨)</code></p>
<p><strong>å½¢å¼1ï¼šé‡è½½ä¸ºç±»çš„æˆå‘˜å‡½æ•°</strong></p>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">Complex</span><span class="token punctuation">{</span>
    <span class="token keyword keyword-double">double</span> real<span class="token punctuation">,</span>imag<span class="token punctuation">;</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token function">Complex</span><span class="token punctuation">(</span><span class="token keyword keyword-double">double</span> r<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token keyword keyword-double">double</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">:</span>real<span class="token punctuation">{</span>r<span class="token punctuation">}</span><span class="token punctuation">,</span>imag<span class="token punctuation">{</span>i<span class="token punctuation">}</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    Complex <span class="token keyword keyword-operator">operator</span><span class="token operator">+</span><span class="token punctuation">(</span><span class="token keyword keyword-const">const</span> Complex<span class="token operator">&amp;</span> c<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> <span class="token function">Complex</span><span class="token punctuation">(</span>real<span class="token operator">+</span>c<span class="token punctuation">.</span>real<span class="token punctuation">,</span>imag<span class="token operator">+</span>c<span class="token punctuation">.</span>imag<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token comment">//åŠ æ³•è¿ç®—ç¬¦é‡è½½</span>
<span class="token punctuation">}</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    Complex <span class="token function">a</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">b</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    Complex c <span class="token operator">=</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span> <span class="token comment">//ç­‰ä»·äº c = a.operator+(b)</span>
<span class="token punctuation">}</span>
</code></pre><p>é‡è½½ä¸ºæˆå‘˜å‡½æ•°æ—¶ï¼Œå‚æ•°ä¸ªæ•°ä¸ºè¿ç®—ç¬¦ç›®æ•°å‡ä¸€ã€‚</p>
<p><strong>å½¢å¼2ï¼šé‡è½½ä¸ºå…¨å±€å‡½æ•°</strong></p>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">Complex</span><span class="token punctuation">{</span>
    <span class="token keyword keyword-double">double</span> real<span class="token punctuation">,</span>imag<span class="token punctuation">;</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token function">Complex</span><span class="token punctuation">(</span><span class="token keyword keyword-double">double</span> r<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token keyword keyword-double">double</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">:</span>real<span class="token punctuation">{</span>r<span class="token punctuation">}</span><span class="token punctuation">,</span>imag<span class="token punctuation">{</span>i<span class="token punctuation">}</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>

Complex <span class="token keyword keyword-operator">operator</span><span class="token operator">+</span><span class="token punctuation">(</span><span class="token keyword keyword-const">const</span> Complex<span class="token operator">&amp;</span> a<span class="token punctuation">,</span><span class="token keyword keyword-const">const</span> Complex<span class="token operator">&amp;</span> b<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword keyword-return">return</span> <span class="token function">Complex</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>real<span class="token operator">+</span>b<span class="token punctuation">.</span>real<span class="token punctuation">,</span>a<span class="token punctuation">.</span>imag<span class="token operator">+</span>b<span class="token punctuation">.</span>imag<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token comment">//åŠ æ³•è¿ç®—ç¬¦é‡è½½</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    Complex <span class="token function">a</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">b</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    Complex c <span class="token operator">=</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span> <span class="token comment">//ç­‰ä»·äº c = operator+(a,b)</span>
<span class="token punctuation">}</span>
</code></pre><p>é‡è½½ä¸ºå…¨å±€å‡½æ•°æ—¶ï¼Œå‚æ•°ä¸ªæ•°ä¸ºè¿ç®—ç¬¦ç›®æ•°ã€‚</p>
<p><strong>è¿ç®—ç¬¦é‡è½½çš„æ³¨æ„äº‹é¡¹</strong></p>
<ul>
<li>c++ä¸å…è®¸å®šä¹‰æ–°çš„è¿ç®—ç¬¦ï¼›</li>
<li>é‡è½½åçš„è¿ç®—ç¬¦åº”ç¬¦åˆæ—¥å¸¸ä¹ æƒ¯ï¼›</li>
<li>è¿ç®—ç¬¦é‡è½½ä¸æ”¹å˜è¿ç®—ç¬¦çš„ä¼˜å…ˆçº§ï¼›</li>
<li>ä»¥ä¸‹è¿ç®—ç¬¦ä¸èƒ½è¢«é‡è½½ï¼š
<ul>
<li>æˆå‘˜è®¿é—®è¿ç®—ç¬¦ï¼ˆ<code>.</code>ï¼‰</li>
<li>ä½œç”¨åŸŸè§£æè¿ç®—ç¬¦ï¼ˆ<code>::</code>ï¼‰</li>
<li>æˆå‘˜æŒ‡é’ˆè¿ç®—ç¬¦ï¼ˆ<code>.*</code>ï¼‰</li>
<li>æ¡ä»¶è¿ç®—ç¬¦ï¼ˆ<code>? :</code>ï¼‰</li>
<li><code>sizeof</code>ç­‰</li>
</ul>
</li>
<li>é‡è½½è¿ç®—ç¬¦<code>[]</code>,<code>()</code>,<code>-&gt;</code>,<code>=</code>ï¼Œå¿…é¡»å£°æ˜ä¸º<strong>ç±»çš„æˆå‘˜å‡½æ•°</strong>ã€‚</li>
</ul>
<h3 id="äºŒæ™®é€šè¿ç®—ç¬¦çš„é‡è½½">ï¼ˆäºŒï¼‰æ™®é€šè¿ç®—ç¬¦çš„é‡è½½ </h3>
<h4 id="ç®—æœ¯è¿ç®—ç¬¦é‡è½½">ç®—æœ¯è¿ç®—ç¬¦é‡è½½ </h4>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code>Complex <span class="token keyword keyword-operator">operator</span><span class="token operator">+</span><span class="token punctuation">(</span><span class="token keyword keyword-const">const</span> Complex a<span class="token punctuation">,</span><span class="token keyword keyword-const">const</span> Complex b<span class="token punctuation">)</span><span class="token punctuation">{</span>
    Complex c<span class="token punctuation">;</span>
    c<span class="token punctuation">.</span>real <span class="token operator">=</span> a<span class="token punctuation">.</span>real <span class="token operator">+</span> b<span class="token punctuation">.</span>real<span class="token punctuation">;</span>
    c<span class="token punctuation">.</span>imag <span class="token operator">=</span> a<span class="token punctuation">.</span>imag <span class="token operator">+</span> b<span class="token punctuation">.</span>imag<span class="token punctuation">;</span>
    <span class="token keyword keyword-return">return</span> c<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

Complex <span class="token keyword keyword-operator">operator</span><span class="token operator">-</span><span class="token punctuation">(</span><span class="token keyword keyword-const">const</span> Complex a<span class="token punctuation">,</span><span class="token keyword keyword-const">const</span> Complex b<span class="token punctuation">)</span><span class="token punctuation">{</span>
    Complex c<span class="token punctuation">;</span>
    c<span class="token punctuation">.</span>real <span class="token operator">=</span> a<span class="token punctuation">.</span>real <span class="token operator">-</span> b<span class="token punctuation">.</span>real<span class="token punctuation">;</span>
    c<span class="token punctuation">.</span>imag <span class="token operator">=</span> a<span class="token punctuation">.</span>imag <span class="token operator">-</span> b<span class="token punctuation">.</span>imag<span class="token punctuation">;</span>
    <span class="token keyword keyword-return">return</span> c<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

Complex <span class="token keyword keyword-operator">operator</span><span class="token operator">*</span><span class="token punctuation">(</span><span class="token keyword keyword-const">const</span> Complex a<span class="token punctuation">,</span><span class="token keyword keyword-const">const</span> Complex b<span class="token punctuation">)</span><span class="token punctuation">{</span>
    Complex c<span class="token punctuation">;</span>
    c<span class="token punctuation">.</span>real <span class="token operator">=</span> a<span class="token punctuation">.</span>real<span class="token operator">*</span>b<span class="token punctuation">.</span>real <span class="token operator">-</span> a<span class="token punctuation">.</span>imag<span class="token operator">*</span>b<span class="token punctuation">.</span>imag<span class="token punctuation">;</span>
    c<span class="token punctuation">.</span>imag <span class="token operator">=</span> a<span class="token punctuation">.</span>real<span class="token operator">*</span>b<span class="token punctuation">.</span>imag <span class="token operator">+</span> a<span class="token punctuation">.</span>imag<span class="token operator">*</span>b<span class="token punctuation">.</span>real<span class="token punctuation">;</span>
    <span class="token keyword keyword-return">return</span> c<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

Complex <span class="token keyword keyword-operator">operator</span><span class="token operator">/</span><span class="token punctuation">(</span><span class="token keyword keyword-const">const</span> Complex a<span class="token punctuation">,</span><span class="token keyword keyword-const">const</span> Complex b<span class="token punctuation">)</span><span class="token punctuation">{</span>
    Complex c<span class="token punctuation">;</span>
    c<span class="token punctuation">.</span>real <span class="token operator">=</span> <span class="token punctuation">(</span>a<span class="token punctuation">.</span>real<span class="token operator">*</span>b<span class="token punctuation">.</span>real <span class="token operator">+</span> a<span class="token punctuation">.</span>imag<span class="token operator">*</span>b<span class="token punctuation">.</span>imag<span class="token punctuation">)</span><span class="token operator">/</span><span class="token punctuation">(</span>b<span class="token punctuation">.</span>real<span class="token operator">*</span>b<span class="token punctuation">.</span>real <span class="token operator">+</span> b<span class="token punctuation">.</span>imag<span class="token operator">*</span>b<span class="token punctuation">.</span>imag<span class="token punctuation">)</span><span class="token punctuation">;</span>
    c<span class="token punctuation">.</span>imag <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token operator">-</span>a<span class="token punctuation">.</span>real<span class="token operator">*</span>b<span class="token punctuation">.</span>imag<span class="token operator">+</span>b<span class="token punctuation">.</span>real<span class="token operator">*</span>a<span class="token punctuation">.</span>imag<span class="token punctuation">)</span><span class="token operator">/</span><span class="token punctuation">(</span>b<span class="token punctuation">.</span>real<span class="token operator">*</span>b<span class="token punctuation">.</span>real <span class="token operator">+</span> b<span class="token punctuation">.</span>imag<span class="token operator">*</span>b<span class="token punctuation">.</span>imag<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-return">return</span> c<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><h4 id="å…³ç³»è¿ç®—ç¬¦é‡è½½">å…³ç³»è¿ç®—ç¬¦é‡è½½ </h4>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token keyword keyword-bool">bool</span> <span class="token keyword keyword-operator">operator</span><span class="token operator">==</span><span class="token punctuation">(</span><span class="token keyword keyword-const">const</span> Complex a<span class="token punctuation">,</span><span class="token keyword keyword-const">const</span> Complex b<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword keyword-return">return</span> a<span class="token punctuation">.</span>real <span class="token operator">==</span> b<span class="token punctuation">.</span>real <span class="token operator">&amp;&amp;</span> a<span class="token punctuation">.</span>imag <span class="token operator">==</span> b<span class="token punctuation">.</span>imag<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword keyword-bool">bool</span> <span class="token keyword keyword-operator">operator</span><span class="token operator">!=</span><span class="token punctuation">(</span><span class="token keyword keyword-const">const</span> Complex a<span class="token punctuation">,</span><span class="token keyword keyword-const">const</span> Complex b<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword keyword-return">return</span> <span class="token operator">!</span><span class="token keyword keyword-operator">operator</span><span class="token operator">==</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword keyword-bool">bool</span> <span class="token keyword keyword-operator">operator</span><span class="token operator">&lt;</span><span class="token punctuation">(</span><span class="token keyword keyword-const">const</span> Complex a<span class="token punctuation">,</span><span class="token keyword keyword-const">const</span> Complex b<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword keyword-return">return</span> <span class="token punctuation">(</span>a<span class="token punctuation">.</span>real<span class="token operator">*</span>a<span class="token punctuation">.</span>real <span class="token operator">+</span> a<span class="token punctuation">.</span>imag<span class="token operator">*</span>a<span class="token punctuation">.</span>imag<span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token punctuation">(</span>b<span class="token punctuation">.</span>real<span class="token operator">*</span>b<span class="token punctuation">.</span>real <span class="token operator">+</span> b<span class="token punctuation">.</span>imag<span class="token operator">*</span>b<span class="token punctuation">.</span>imag<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><h3 id="ä¸‰èµ‹å€¼è¿ç®—ç¬¦çš„é‡è½½">ï¼ˆä¸‰ï¼‰èµ‹å€¼è¿ç®—ç¬¦çš„é‡è½½ </h3>
<ul>
<li>èµ‹å€¼è¿ç®—ç¬¦<code>=</code>è¦æ±‚å·¦å³ä¸¤ä¸ªæ“ä½œæ•°çš„ç±»å‹åŒ¹é…ï¼Œæˆ–è€…å¯ä»¥é€šè¿‡ç±»å‹è½¬æ¢å®ç°ç±»å‹åŒ¹é…ã€‚</li>
<li>æœ‰æ—¶å€™å¸Œæœ›<code>=</code>ä¸¤è¾¹æ“ä½œæ•°çš„ç±»å‹å³ä½¿ä¸å…¼å®¹ä¹Ÿèƒ½å¤Ÿæˆç«‹ï¼Œå°±éœ€è¦å¯¹<code>=</code>è¿›è¡Œé‡è½½ã€‚</li>
<li>c++è§„å®šï¼Œèµ‹å€¼è¿ç®—ç¬¦<strong>åªèƒ½é‡è½½ä¸ºæˆå‘˜å‡½æ•°</strong>ã€‚</li>
</ul>
<p><strong>ä¾‹é¢˜</strong>ï¼šç¼–å†™ä¸€ä¸ªé•¿åº¦å¯å˜çš„å­—ç¬¦ä¸²ç±»<code>String</code>ï¼ŒåŒ…å«ä¸€ä¸ª<code>char *</code>ç±»å‹çš„æˆå‘˜å˜é‡æŒ‡å‘åŠ¨æ€åˆ†é…çš„å­˜å‚¨ç©ºé—´ï¼Œç”¨äºå­˜æ”¾Cé£æ ¼å­—ç¬¦ä¸²ã€‚</p>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">String</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-char">char</span> <span class="token operator">*</span>str<span class="token punctuation">;</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token function">String</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token function">str</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token keyword keyword-char">char</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> str<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token char">'\0'</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
    <span class="token function">String</span><span class="token punctuation">(</span><span class="token keyword keyword-const">const</span> <span class="token keyword keyword-char">char</span> <span class="token operator">*</span>s<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">//é‡è½½æ„é€ å‡½æ•°</span>
        <span class="token keyword keyword-int">int</span> len <span class="token operator">=</span> <span class="token function">strlen</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
        str <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token keyword keyword-char">char</span><span class="token punctuation">[</span>len <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token function">strcpy</span><span class="token punctuation">(</span>str<span class="token punctuation">,</span> s<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-const">const</span> <span class="token keyword keyword-char">char</span> <span class="token operator">*</span><span class="token function">c_str</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword keyword-return">return</span> str<span class="token punctuation">;</span> <span class="token punctuation">}</span>
    String <span class="token operator">&amp;</span><span class="token keyword keyword-operator">operator</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token keyword keyword-const">const</span> <span class="token keyword keyword-char">char</span> <span class="token operator">*</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token operator">~</span><span class="token function">String</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword keyword-delete">delete</span><span class="token punctuation">[</span><span class="token punctuation">]</span> str<span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
String <span class="token operator">&amp;</span>String<span class="token double-colon punctuation">::</span><span class="token keyword keyword-operator">operator</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token keyword keyword-const">const</span> <span class="token keyword keyword-char">char</span> <span class="token operator">*</span>s<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">//é‡è½½"="ï¼Œä½¿obj = "hello"èƒ½å¤Ÿæˆç«‹</span>
    <span class="token keyword keyword-if">if</span><span class="token punctuation">(</span><span class="token keyword keyword-this">this</span> <span class="token operator">==</span> <span class="token operator">&amp;</span>s<span class="token punctuation">)</span> <span class="token keyword keyword-return">return</span> <span class="token operator">*</span> <span class="token keyword keyword-this">this</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-delete">delete</span><span class="token punctuation">[</span><span class="token punctuation">]</span> str<span class="token punctuation">;</span>
    str <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token keyword keyword-char">char</span><span class="token punctuation">[</span><span class="token function">strlen</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token function">strcpy</span><span class="token punctuation">(</span>str<span class="token punctuation">,</span> s<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-return">return</span> <span class="token operator">*</span><span class="token keyword keyword-this">this</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    String s<span class="token punctuation">;</span>
    s <span class="token operator">=</span> <span class="token string">"Good Luck,"</span><span class="token punctuation">;</span> <span class="token comment">//ç­‰ä»·äº s.operator=("Good Luck,");ä¸è°ƒç”¨å¤åˆ¶æ„é€ å‡½æ•°[1]ã€‚</span>
    cout <span class="token operator">&lt;&lt;</span> s<span class="token punctuation">.</span><span class="token function">c_str</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    s <span class="token operator">=</span> <span class="token string">"Shenzhou 15!"</span><span class="token punctuation">;</span> <span class="token comment">//ç­‰ä»·äº s.operator=("Shenzhou 15!");ä¸è°ƒç”¨å¤åˆ¶æ„é€ å‡½æ•°ã€‚</span>
    cout <span class="token operator">&lt;&lt;</span> s<span class="token punctuation">.</span><span class="token function">c_str</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    String s2 <span class="token operator">=</span> <span class="token string">"hello!"</span><span class="token punctuation">;</span> <span class="token comment">//è°ƒç”¨æ„é€ å‡½æ•°è¿›è¡Œéšå¼ç±»å‹è½¬æ¢ï¼Œæ­¤å¤„ä¸ºåˆå§‹åŒ–ï¼Œä¸ä¼šè°ƒç”¨é‡è½½çš„èµ‹å€¼è¿ç®—ç¬¦ã€‚</span>
    String s3 <span class="token operator">=</span> s2<span class="token punctuation">;</span> <span class="token comment">//è°ƒç”¨å¤åˆ¶æ„é€ å‡½æ•°ï¼Œæ­¤å¤„ä¸ºåˆå§‹åŒ–ï¼Œä¸ä¼šè°ƒç”¨é‡è½½çš„èµ‹å€¼è¿ç®—ç¬¦ã€‚</span>
    String s4<span class="token punctuation">;</span> <span class="token comment">//è°ƒç”¨é»˜è®¤çš„æ„é€ å‡½æ•°ã€‚</span>
    s4 <span class="token operator">=</span> s3<span class="token punctuation">;</span> <span class="token comment">//è°ƒç”¨é¢„ç½®çš„è¿ç®—ç¬¦é‡è½½[2]ã€‚</span>
    <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><p>æ³¨[1]ï¼šåŒæ—¶åŒ…å«ç±»å‹è½¬æ¢æ„é€ å‡½æ•°å’Œç›¸åŒç±»å‹çš„èµ‹å€¼è¿ç®—ç¬¦é‡è½½æ—¶ï¼Œ<strong>ä¼˜å…ˆä½¿ç”¨é‡è½½çš„èµ‹å€¼è¿ç®—ç¬¦</strong>ã€‚æ‰€ä»¥æœ‰è½¬æ¢æ„é€ å‡½æ•°æ—¶ä¸€èˆ¬æ— éœ€å†™é‡è½½èµ‹å€¼è¿ç®—ç¬¦ã€‚</p>
<p>æ³¨[2]ï¼šå½“æ²¡æœ‰åœ¨ç±»ä¸­å®šä¹‰èµ‹å€¼è¿ç®—ç¬¦é‡è½½æ—¶ï¼Œç¼–è¯‘å™¨ä¼šç”Ÿæˆä¸€ä¸ªé¢„ç½®çš„èµ‹å€¼è¿ç®—ç¬¦é‡è½½ï¼Œ<strong>ä½¿å¾—åŒä¸€ä¸ªç±»çš„å¯¹è±¡ä¹‹é—´å¯ä»¥ä½¿ç”¨=è¿ç®—ç¬¦èµ‹å€¼</strong></p>
<h4 id="é¢„ç½®çš„èµ‹å€¼è¿ç®—ç¬¦é‡è½½">é¢„ç½®çš„èµ‹å€¼è¿ç®—ç¬¦é‡è½½ </h4>
<p>è¯¥é¢„ç½®èµ‹å€¼è¿ç®—ç¬¦é‡è½½æ˜¯ä¸ºæ¯ä¸€ä¸ªæˆå‘˜å˜é‡è¿›è¡Œèµ‹å€¼ã€‚</p>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code>String <span class="token operator">&amp;</span>String<span class="token double-colon punctuation">::</span><span class="token keyword keyword-operator">operator</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token keyword keyword-const">const</span> String <span class="token operator">&amp;</span>s<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    str <span class="token operator">=</span> s<span class="token punctuation">.</span>str<span class="token punctuation">;</span>
    <span class="token keyword keyword-return">return</span> <span class="token operator">*</span><span class="token keyword keyword-this">this</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><p>å¯¹äºå«æœ‰æŒ‡é’ˆçš„ç±»ï¼Œé¢„ç½®çš„èµ‹å€¼è¿ç®—ç¬¦é‡è½½å‡ä¸º<strong>æµ…å¤åˆ¶</strong>ï¼Œä¼šå¯¼è‡´èµ‹å€¼å‰åçš„ä¸¤ä¸ªå¯¹è±¡çš„æŒ‡é’ˆæŒ‡å‘åŒä¸€ç‰‡ç©ºé—´ã€‚</p>
<h4 id="å¯¹èµ‹å€¼è¿ç®—ç¬¦é‡è½½çš„è¿›ä¸€æ­¥è®¨è®º">å¯¹èµ‹å€¼è¿ç®—ç¬¦é‡è½½çš„è¿›ä¸€æ­¥è®¨è®º </h4>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code>String <span class="token operator">&amp;</span><span class="token keyword keyword-operator">operator</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token keyword keyword-const">const</span> String <span class="token operator">&amp;</span>s<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-if">if</span><span class="token punctuation">(</span><span class="token keyword keyword-this">this</span> <span class="token operator">==</span> <span class="token operator">&amp;</span>s<span class="token punctuation">)</span> <span class="token keyword keyword-return">return</span> <span class="token operator">*</span> <span class="token keyword keyword-this">this</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-delete">delete</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> str<span class="token punctuation">;</span>
    str<span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token keyword keyword-char">char</span><span class="token punctuation">[</span><span class="token function">strlen</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span>str<span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token function">strcpy</span><span class="token punctuation">(</span>str<span class="token punctuation">,</span> s<span class="token punctuation">.</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-return">return</span> <span class="token operator">*</span> <span class="token keyword keyword-this">this</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><ul>
<li>ä¸ºä»€ä¹ˆè¦æœ‰<code>if(this == &amp;s) return * this;</code>ï¼Ÿ
<blockquote>
<p>è‡ªå¤åˆ¶<code>s = s</code>ï¼Œè‹¥ä¸åŠ è¿™ä¸€å¥ç‰¹åˆ¤ï¼Œåˆ™ä¼šå‘ç”Ÿæ— é™é€’å½’ã€‚</p>
</blockquote>
</li>
<li>ä¸ºä»€ä¹ˆè¦æœ‰<code>delete[] str;</code>ï¼Ÿ
<blockquote>
<p>è‹¥ä¸åŠ è¿™ä¸€å¥ï¼Œåˆ™ä¼šå‘ç”Ÿå†…å­˜æ³„æ¼ã€‚</p>
</blockquote>
</li>
<li>ä¸ºä»€ä¹ˆè¿”å›å€¼æ˜¯<code>String &amp;</code>ï¼Ÿ
<blockquote>
<p>å› ä¸ºèµ‹å€¼è¿ç®—ç¬¦çš„è¿”å›å€¼æ˜¯å·¦è¾¹å¯¹è±¡çš„å¼•ç”¨ï¼Œæ‰€ä»¥è¿”å›å€¼ç±»å‹å¿…é¡»ä¸å·¦è¾¹å¯¹è±¡ç±»å‹ä¸€è‡´ã€‚</p>
</blockquote>
</li>
</ul>
<p>è¿”å›<code>*this</code>ï¼šè§£å†³è¿ç»­çš„èµ‹å€¼é—®é¢˜</p>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token keyword keyword-int">int</span> c <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">,</span> e <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
a <span class="token operator">=</span> b <span class="token operator">=</span> c<span class="token punctuation">;</span> <span class="token comment">//ç­‰ä»·äºa.operator=(b.operator=(c))</span>
cout <span class="token operator">&lt;&lt;</span> a <span class="token operator">&lt;&lt;</span> <span class="token char">','</span> <span class="token operator">&lt;&lt;</span> b <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token comment">//è¾“å‡º2,2</span>
<span class="token punctuation">(</span>d <span class="token operator">=</span> e<span class="token punctuation">)</span> <span class="token operator">=</span> c<span class="token punctuation">;</span> <span class="token comment">//ç­‰ä»·äº(d.operator=(e)).operator=(c)</span>
cout <span class="token operator">&lt;&lt;</span> d <span class="token operator">&lt;&lt;</span> <span class="token char">','</span> <span class="token operator">&lt;&lt;</span> e <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token comment">//è¾“å‡º2,0</span>
</code></pre><h4 id="èµ‹å€¼ä¸åˆå§‹åŒ–">èµ‹å€¼ä¸åˆå§‹åŒ– </h4>
<p>å…¸å‹çš„å¤åˆ¶æ„é€ å‡½æ•°ï¼š<code>T(const T&amp;)</code><br>
å…¸å‹çš„èµ‹å€¼è¿ç®—ç¬¦é‡è½½ï¼š<code>T&amp; operator=(const T&amp;)</code></p>
<ul>
<li>å½“å£°æ˜å¹¶å®šä¹‰å¯¹è±¡çš„æ—¶å€™ï¼Œå‘ç”Ÿåˆå§‹åŒ–ï¼›å½“æ‰§è¡Œèµ‹å€¼è¡¨è¾¾å¼æ—¶ï¼Œå‘ç”Ÿèµ‹å€¼</li>
<li>åˆå§‹åŒ–çš„æ—¶å€™ï¼Œè°ƒç”¨æ„é€ å‡½æ•°ï¼›æ‰§è¡Œèµ‹å€¼è¡¨è¾¾å¼æ—¶ï¼Œè°ƒç”¨èµ‹å€¼è¿ç®—ç¬¦é‡è½½</li>
<li><strong>æ¥å—å‡½æ•°çš„å‚æ•°ä»¥åŠå‡½æ•°çš„è¿”å›å€¼</strong>æ—¶ï¼Œè¿™ä¸ªå¯¹è±¡ä¹Ÿä¼šè¢«<strong>åˆå§‹åŒ–</strong>ï¼Œè€Œä¸æ˜¯èµ‹å€¼</li>
</ul>
<h4 id="å¤åˆèµ‹å€¼è¿ç®—ç¬¦é‡è½½">å¤åˆèµ‹å€¼è¿ç®—ç¬¦é‡è½½ </h4>
<p><code>+=</code>,<code>-=</code>,<code>*=</code>,<code>/=</code>ç­‰å¤åˆèµ‹å€¼è¿ç®—ç¬¦çš„é‡è½½é€»è¾‘ç±»ä¼¼äºæ™®é€šèµ‹å€¼è¿ç®—ç¬¦çš„é‡è½½ã€‚</p>
<p><strong>ä¾‹é¢˜</strong></p>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">IntVector</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-static">static</span> <span class="token keyword keyword-constexpr">constexpr</span> <span class="token keyword keyword-int">int</span> capacity<span class="token punctuation">{</span><span class="token number">256</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-int">int</span> len<span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-int">int</span> data<span class="token punctuation">[</span>IntVector<span class="token double-colon punctuation">::</span>capacity<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token function">IntVector</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token keyword keyword-default">default</span><span class="token punctuation">;</span>
    <span class="token function">IntVector</span><span class="token punctuation">(</span><span class="token keyword keyword-const">const</span> IntVector<span class="token operator">&amp;</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token keyword keyword-default">default</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-void">void</span> <span class="token function">pushBack</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        data<span class="token punctuation">[</span>len<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> e<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-int">int</span> <span class="token function">at</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> i<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-int">int</span> <span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> len<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-struct">struct</span> <span class="token class-name">Adder</span> <span class="token punctuation">{</span> <span class="token comment">//è¾…åŠ©ç±»</span>
    IntVector<span class="token operator">&amp;</span> src<span class="token punctuation">;</span>
    <span class="token function">Adder</span><span class="token punctuation">(</span>IntVector<span class="token operator">&amp;</span> v<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">src</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

Adder <span class="token keyword keyword-operator">operator</span><span class="token operator">+=</span><span class="token punctuation">(</span>IntVector<span class="token operator">&amp;</span> v<span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    v<span class="token punctuation">.</span><span class="token function">pushBack</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-return">return</span> Adder<span class="token punctuation">{</span>v<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
Adder <span class="token keyword keyword-operator">operator</span><span class="token punctuation">,</span><span class="token punctuation">(</span>Adder v<span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    v<span class="token punctuation">.</span>src<span class="token punctuation">.</span><span class="token function">pushBack</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-return">return</span> v<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    IntVector v<span class="token punctuation">;</span>
    v <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-for">for</span> <span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> v<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> v<span class="token punctuation">.</span><span class="token function">at</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>

    <span class="token keyword keyword-int">int</span> x<span class="token punctuation">,</span> y<span class="token punctuation">;</span>
    std<span class="token double-colon punctuation">::</span>cin <span class="token operator">&gt;&gt;</span> x <span class="token operator">&gt;&gt;</span> y<span class="token punctuation">;</span>
    v <span class="token operator">+=</span> x<span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> y<span class="token punctuation">;</span>
    <span class="token keyword keyword-for">for</span> <span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> v<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> v<span class="token punctuation">.</span><span class="token function">at</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>

    <span class="token comment">// éªŒè¯,è¿ç®—ç¬¦æ˜¯å¦åªèƒ½åœ¨+=åä½¿ç”¨</span>
    <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>v <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> v<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Unreachable"</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><h3 id="å››ç±»å‹è½¬æ¢çš„é‡è½½">ï¼ˆå››ï¼‰ç±»å‹è½¬æ¢çš„é‡è½½ </h3>
<p>è¦å®ç°ä»Aåˆ°Bç±»å‹çš„ç±»å‹è½¬æ¢æ—¶ï¼Œå¯ä»¥åœ¨Aç±»ä¸­å®šä¹‰ä¸€ä¸ªç±»å‹è½¬æ¢è¿ç®—ç¬¦é‡è½½<code>operator B(){}</code>ã€‚</p>
<ul>
<li>ä¸€èˆ¬å½¢å¼ï¼š<code>operator type()</code></li>
<li>å¿…é¡»ä¸º<strong>æˆå‘˜å‡½æ•°</strong>ï¼Œä¸æŒ‡å®šè¿”å›ç±»å‹ï¼Œå½¢å‚ä¸ºç©ºã€‚</li>
<li>ä¸€èˆ¬ä¸æ”¹å˜è¢«è½¬æ¢å¯¹è±¡, å› æ­¤å¸¸å®šä¹‰ä¸ºåªè¯»å‡½æ•°<code>const</code>ã€‚</li>
<li>å¦‚æœåŠ ä¸Š<code>explicit</code>å…³é”®å­—åˆ™åªèƒ½ç”¨äºæ˜¾å¼ç±»å‹è½¬æ¢ã€‚</li>
</ul>
<p><strong>ç¤ºä¾‹</strong></p>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">Complex</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-double">double</span> real<span class="token punctuation">,</span> imag<span class="token punctuation">;</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token function">Complex</span><span class="token punctuation">(</span><span class="token keyword keyword-double">double</span> r <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token keyword keyword-double">double</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">real</span><span class="token punctuation">(</span>r<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">imag</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-operator">operator</span> <span class="token keyword keyword-double">double</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">//é‡è½½ç±»å‹è½¬æ¢è¿ç®—ç¬¦double</span>
        <span class="token keyword keyword-return">return</span> real<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    Complex <span class="token keyword keyword-operator">operator</span><span class="token operator">+</span><span class="token punctuation">(</span><span class="token keyword keyword-const">const</span> Complex<span class="token operator">&amp;</span> c<span class="token punctuation">)</span>  <span class="token punctuation">{</span> <span class="token comment">//é‡è½½åŠ æ³•è¿ç®—ç¬¦</span>
        <span class="token keyword keyword-return">return</span> <span class="token function">Complex</span><span class="token punctuation">(</span>real<span class="token operator">+</span>c<span class="token punctuation">.</span>real<span class="token punctuation">,</span> imag<span class="token operator">+</span>c<span class="token punctuation">.</span>imag<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    Complex <span class="token function">c</span><span class="token punctuation">(</span><span class="token number">1.2</span><span class="token punctuation">,</span> <span class="token number">3.4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token keyword keyword-double">double</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token comment">//è¾“å‡º 1.2</span>
    <span class="token keyword keyword-double">double</span> n <span class="token operator">=</span> <span class="token number">2</span> <span class="token operator">+</span> c<span class="token punctuation">;</span> <span class="token comment">//ç­‰ä»·äº double n = 2 + c.operator double()</span>
    cout <span class="token operator">&lt;&lt;</span> n <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token comment">//è¾“å‡º 3.2</span>
    Complex c2 <span class="token operator">=</span> c <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//ç­‰ä»·äº Complex c2 = c + Complex(1)</span>
<span class="token punctuation">}</span>
</code></pre><h3 id="äº”éæˆå‘˜çš„è¿ç®—ç¬¦é‡è½½">ï¼ˆäº”ï¼‰éæˆå‘˜çš„è¿ç®—ç¬¦é‡è½½ </h3>
<h4 id="è¿ç®—ç¬¦é‡è½½ä¸ºå‹å…ƒå‡½æ•°">è¿ç®—ç¬¦é‡è½½ä¸ºå‹å…ƒå‡½æ•° </h4>
<p>ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œå°†è¿ç®—ç¬¦é‡è½½ä¸ºç±»çš„æˆå‘˜å‡½æ•°ï¼Œæ˜¯è¾ƒå¥½çš„é€‰æ‹©ï¼Œä½†æœ‰æ—¶é‡è½½ä¸ºæˆå‘˜å‡½æ•°ä¸èƒ½æ»¡è¶³è¦æ±‚ï¼Œå¦‚ï¼š</p>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">Complex</span> <span class="token punctuation">{</span>
<span class="token keyword keyword-private">private</span><span class="token operator">:</span>
    <span class="token keyword keyword-double">double</span> real<span class="token punctuation">,</span> imag<span class="token punctuation">;</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token function">Complex</span><span class="token punctuation">(</span><span class="token keyword keyword-double">double</span> r<span class="token operator">=</span><span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token keyword keyword-double">double</span> i<span class="token operator">=</span><span class="token number">0.0</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token function">real</span><span class="token punctuation">(</span>r<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">imag</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    Complex <span class="token keyword keyword-operator">operator</span><span class="token operator">+</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> r<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> <span class="token function">Complex</span><span class="token punctuation">(</span>real <span class="token operator">+</span> r<span class="token punctuation">,</span> imag<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    Complex <span class="token function">c</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    c <span class="token operator">=</span> c <span class="token operator">+</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token comment">//æœ‰å®šä¹‰ï¼Œç›¸å½“äºc = c.operator+(5);</span>
    c <span class="token operator">=</span> <span class="token number">5</span> <span class="token operator">+</span> c<span class="token punctuation">;</span> <span class="token comment">//æ— å®šä¹‰ï¼Œå› ä¸ºintå’ŒComplexæ²¡æœ‰å®šä¹‰è¿ç®—ç¬¦é‡è½½</span>
<span class="token punctuation">}</span>
</code></pre><p>æ­¤æ—¶å¯ä»¥å°†è¿ç®—ç¬¦é‡è½½ä¸ºæ™®é€šå‡½æ•°ï¼Œå¹¶å£°æ˜ä¸ºå‹å…ƒå‡½æ•°ã€‚</p>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">Complex</span> <span class="token punctuation">{</span>
<span class="token keyword keyword-private">private</span><span class="token operator">:</span>
    <span class="token keyword keyword-double">double</span> real<span class="token punctuation">,</span> imag<span class="token punctuation">;</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token function">Complex</span><span class="token punctuation">(</span><span class="token keyword keyword-double">double</span> r<span class="token operator">=</span><span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token keyword keyword-double">double</span> i<span class="token operator">=</span><span class="token number">0.0</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token function">real</span><span class="token punctuation">(</span>r<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">imag</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-friend">friend</span> Complex <span class="token keyword keyword-operator">operator</span><span class="token operator">+</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> r<span class="token punctuation">,</span> <span class="token keyword keyword-const">const</span> Complex<span class="token operator">&amp;</span> c<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> <span class="token function">Complex</span><span class="token punctuation">(</span>r <span class="token operator">+</span> c<span class="token punctuation">.</span>real<span class="token punctuation">,</span> c<span class="token punctuation">.</span>imag<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token comment">//éšè—å‹å…ƒå‡½æ•°ï¼šç›´æ¥å°†å®šä¹‰å†™åœ¨ç±»å†…ã€‚</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    Complex <span class="token function">c</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    c <span class="token operator">=</span> <span class="token number">5</span> <span class="token operator">+</span> c<span class="token punctuation">;</span> <span class="token comment">//ç­‰ä»·äº c = operator+(5,c);</span>
<span class="token punctuation">}</span>
</code></pre><h4 id="æµæ’å…¥å’Œæµæå–çš„è¿ç®—ç¬¦é‡è½½">æµæ’å…¥å’Œæµæå–çš„è¿ç®—ç¬¦é‡è½½ </h4>
<p><strong>iostreamåº“</strong></p>
<p>æ€è€ƒ<code>cout &lt;&lt; 5 &lt;&lt; endl;</code>ä¸ºä»€ä¹ˆèƒ½å¤Ÿæˆç«‹ï¼Ÿ</p>
<ul>
<li><code>cout</code>æ˜¯åœ¨<code>iostream</code>ä¸­å®šä¹‰çš„<code>ostream</code>ç±»å¯¹è±¡ã€‚</li>
<li><code>ostream</code>å¯¹<code>&lt;&lt;</code>è¿›è¡Œäº†é‡è½½ã€‚</li>
<li>èƒ½å¤Ÿè¿ç»­ä½¿ç”¨<code>&lt;&lt;</code>çš„åŸå› æ˜¯é‡è½½<code>&lt;&lt;</code>å‡½æ•°çš„è¿”å›å€¼ä¸º<code>ostream&amp;</code>ç±»å‹ï¼Œé‡è½½æ—¶è¿”å›äº†<code>*this</code>ï¼ˆå³<code>cout</code>å¯¹è±¡æœ¬èº«ï¼‰ã€‚</li>
</ul>
<p>ä»£ç å¯èƒ½æ˜¯è¿™æ ·çš„ï¼š</p>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code>ostream <span class="token operator">&amp;</span>ostream<span class="token double-colon punctuation">::</span><span class="token keyword keyword-operator">operator</span><span class="token operator">&lt;&lt;</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> x<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">//è¾“å‡ºxçš„ä»£ç </span>
    <span class="token keyword keyword-return">return</span> <span class="token operator">*</span><span class="token keyword keyword-this">this</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><p>æ­¤æ—¶ï¼Œ<code>cout &lt;&lt; 5 &lt;&lt; 3</code>ç­‰ä»·äº<code>(cout.operator&lt;&lt;(5)).operator&lt;&lt;(3)</code></p>
<p>åŒç†ï¼Œè‹¥å†å®šä¹‰<code>ostream &amp;ostream::operator&lt;&lt;(double x)</code>,<code>ostream &amp;ostream::operator&lt;&lt;(const char* x)</code>çš„é‡è½½ï¼Œå°±å¯ä»¥è¾“å‡ºæ›´å¤šç±»å‹çš„å¯¹è±¡ã€‚</p>
<p><strong>è¾“å‡ºè‡ªå®šä¹‰ç±»å‹çš„æ•°æ®</strong></p>
<p>åœ¨å…¨å±€å®šä¹‰ä¸€ä¸ªæµè¿ç®—ç¬¦çš„é‡è½½ï¼Œä¸ä¸Šé¢ä¸åŒçš„æ˜¯ï¼Œ<strong>æ­¤æ—¶éœ€è¦å°†<code>ostream</code>å¯¹è±¡ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°</strong>ï¼Œè‡ªå®šä¹‰ç±»å‹ä½œä¸ºç¬¬äºŒä¸ªå‚æ•°ã€‚</p>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">Complex</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-double">double</span> real<span class="token punctuation">,</span> imag<span class="token punctuation">;</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
<span class="token function">Complex</span><span class="token punctuation">(</span><span class="token keyword keyword-double">double</span> r <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token keyword keyword-double">double</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">real</span><span class="token punctuation">(</span>r<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">imag</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token keyword keyword-friend">friend</span> ostream <span class="token operator">&amp;</span><span class="token keyword keyword-operator">operator</span><span class="token operator">&lt;&lt;</span><span class="token punctuation">(</span>ostream <span class="token operator">&amp;</span>os<span class="token punctuation">,</span> <span class="token keyword keyword-const">const</span> Complex <span class="token operator">&amp;</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-friend">friend</span> istream <span class="token operator">&amp;</span><span class="token keyword keyword-operator">operator</span><span class="token operator">&gt;&gt;</span><span class="token punctuation">(</span>istream <span class="token operator">&amp;</span>is<span class="token punctuation">,</span> Complex <span class="token operator">&amp;</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
ostream <span class="token operator">&amp;</span><span class="token keyword keyword-operator">operator</span><span class="token operator">&lt;&lt;</span><span class="token punctuation">(</span>ostream <span class="token operator">&amp;</span>os<span class="token punctuation">,</span> <span class="token keyword keyword-const">const</span> Complex <span class="token operator">&amp;</span>c<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    os <span class="token operator">&lt;&lt;</span> c<span class="token punctuation">.</span>real <span class="token operator">&lt;&lt;</span> <span class="token string">"+"</span> <span class="token operator">&lt;&lt;</span> c<span class="token punctuation">.</span>imag <span class="token operator">&lt;&lt;</span> <span class="token string">"i"</span><span class="token punctuation">;</span> <span class="token comment">//ä»¥"a+bi"å½¢å¼è¾“å‡º</span>
    <span class="token keyword keyword-return">return</span> os<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
istream <span class="token operator">&amp;</span><span class="token keyword keyword-operator">operator</span><span class="token operator">&gt;&gt;</span><span class="token punctuation">(</span>istream <span class="token operator">&amp;</span>is<span class="token punctuation">,</span> Complex <span class="token operator">&amp;</span>c<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-char">char</span> ignore<span class="token punctuation">;</span>
    is <span class="token operator">&gt;&gt;</span> c<span class="token punctuation">.</span>real <span class="token operator">&gt;&gt;</span> ignore <span class="token operator">&gt;&gt;</span> c<span class="token punctuation">.</span>imag <span class="token operator">&gt;&gt;</span> ignore<span class="token punctuation">;</span><span class="token comment">//ä»¥"a+bi"å½¢å¼è¾“å…¥</span>
    <span class="token keyword keyword-return">return</span> is<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><h3 id="å…­ç‰¹æ®Šè¿ç®—ç¬¦çš„é‡è½½">ï¼ˆå…­ï¼‰ç‰¹æ®Šè¿ç®—ç¬¦çš„é‡è½½ </h3>
<h4 id="è‡ªå¢å‡è¿ç®—ç¬¦çš„é‡è½½">è‡ªå¢å‡è¿ç®—ç¬¦çš„é‡è½½ </h4>
<ul>
<li>è‡ªå¢<code>++</code>å’Œè‡ªå‡<code>--</code>è¿ç®—ç¬¦æœ‰å‰åç½®ä¹‹åˆ†ã€‚ä¸ºäº†åŒºåˆ†ï¼Œc++è§„å®šå‰ç½®è¿ç®—ç¬¦ä½œä¸º<strong>ä¸€å…ƒè¿ç®—ç¬¦</strong>é‡è½½ï¼Œåç½®è¿ç®—ç¬¦ä½œä¸º<strong>äºŒå…ƒè¿ç®—ç¬¦</strong>é‡è½½ã€‚</li>
</ul>
<p>å‰ç½®è¿ç®—ç¬¦:</p>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token comment">//é‡è½½ä¸ºæˆå‘˜å‡½æ•°</span>
T <span class="token operator">&amp;</span><span class="token keyword keyword-operator">operator</span><span class="token operator">++</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
T <span class="token operator">&amp;</span><span class="token keyword keyword-operator">operator</span><span class="token operator">--</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//é‡è½½ä¸ºå…¨å±€å‡½æ•°</span>
T <span class="token operator">&amp;</span><span class="token keyword keyword-operator">operator</span><span class="token operator">++</span><span class="token punctuation">(</span>T<span class="token operator">&amp;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
T <span class="token operator">&amp;</span><span class="token keyword keyword-operator">operator</span><span class="token operator">--</span><span class="token punctuation">(</span>T<span class="token operator">&amp;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><p>åç½®è¿ç®—ç¬¦ï¼šï¼ˆå…¶ä¸­<code>int</code>ä¸èµ·å®è´¨ä½œç”¨ï¼Œåªæ˜¯ä¸ºäº†åŒºåˆ†åç½®è¿ç®—ç¬¦ï¼‰</p>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token comment">//é‡è½½ä¸ºæˆå‘˜å‡½æ•°</span>
T <span class="token keyword keyword-operator">operator</span><span class="token operator">++</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
T <span class="token keyword keyword-operator">operator</span><span class="token operator">--</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//é‡è½½ä¸ºå…¨å±€å‡½æ•°</span>
T <span class="token keyword keyword-operator">operator</span><span class="token operator">++</span><span class="token punctuation">(</span>T<span class="token operator">&amp;</span><span class="token punctuation">,</span><span class="token keyword keyword-int">int</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
T <span class="token keyword keyword-operator">operator</span><span class="token operator">--</span><span class="token punctuation">(</span>T<span class="token operator">&amp;</span><span class="token punctuation">,</span><span class="token keyword keyword-int">int</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><p><strong>ç¤ºä¾‹</strong></p>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">Sample</span> <span class="token punctuation">{</span>
<span class="token keyword keyword-private">private</span><span class="token operator">:</span>
    <span class="token keyword keyword-int">int</span> n<span class="token punctuation">;</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token function">Sample</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> i<span class="token punctuation">)</span><span class="token operator">:</span><span class="token function">n</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>
    Sample <span class="token operator">&amp;</span> <span class="token keyword keyword-operator">operator</span><span class="token operator">++</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// å‰ç½®</span>
    Sample <span class="token keyword keyword-operator">operator</span><span class="token operator">++</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// åç½®</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

Sample <span class="token operator">&amp;</span>Sample<span class="token double-colon punctuation">::</span><span class="token keyword keyword-operator">operator</span><span class="token operator">++</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    n<span class="token operator">++</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-return">return</span> <span class="token operator">*</span><span class="token keyword keyword-this">this</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token comment">//å‰ç½®è¿ç®—å…ˆå¢åŠ ï¼Œç„¶åå–å›è¿”å›å€¼ï¼Œå› æ­¤éœ€è¦è¿”å›å¼•ç”¨</span>

Sample Sample<span class="token double-colon punctuation">::</span><span class="token keyword keyword-operator">operator</span><span class="token operator">++</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> k<span class="token punctuation">)</span><span class="token punctuation">{</span>
    Sample <span class="token function">temp</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token keyword keyword-this">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    n<span class="token operator">++</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-return">return</span> temp<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token comment">//åç½®è¿ç®—å…ˆå–å›ä¸´æ—¶å¯¹è±¡ï¼Œç„¶åå¢åŠ ï¼Œå› æ­¤ä¸éœ€è¦è¿”å›å¼•ç”¨</span>

Sample s<span class="token punctuation">;</span>
s<span class="token operator">++</span><span class="token punctuation">;</span> <span class="token comment">//ç­‰ä»·äº s.operator++()</span>
<span class="token operator">++</span>s<span class="token punctuation">;</span> <span class="token comment">//ç­‰ä»·äº s.operator++(0)</span>
<span class="token operator">++</span><span class="token operator">++</span>s<span class="token punctuation">;</span> <span class="token comment">//æ­£ç¡®</span>
s<span class="token operator">++</span><span class="token operator">++</span><span class="token punctuation">;</span> <span class="token comment">//é”™è¯¯</span>
</code></pre><h4 id="å‡½æ•°è°ƒç”¨è¿ç®—ç¬¦çš„é‡è½½">å‡½æ•°è°ƒç”¨è¿ç®—ç¬¦çš„é‡è½½ </h4>
<p><code>f(a,b,c)</code>ä¸­çš„æ‹¬å·ä¹Ÿå¯ä»¥è¢«é‡è½½ã€‚</p>
<p>å½¢å¼ï¼š</p>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code>T <span class="token keyword keyword-operator">operator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">(</span>ä»»æ„å¤šä¸ªå‚æ•°åˆ—è¡¨<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword keyword-return">return</span> è¿”å›å€¼ç±»å‹æ˜¯ä»»æ„çš„
<span class="token punctuation">}</span>
</code></pre><p>å‡½æ•°è°ƒç”¨è¿ç®—ç¬¦é‡è½½åªèƒ½ä»¥æˆå‘˜å‡½æ•°çš„å½¢å¼é‡è½½ã€‚</p>
<p><strong>ç¤ºä¾‹</strong></p>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">A</span> <span class="token punctuation">{</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token keyword keyword-int">int</span> data<span class="token punctuation">;</span>
    <span class="token keyword keyword-int">int</span> <span class="token keyword keyword-operator">operator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> a<span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span> b<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> data <span class="token operator">*</span> a <span class="token operator">*</span> b<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    A a<span class="token punctuation">{</span><span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// data æˆå‘˜ä¸º 2</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token function">a</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token comment">// è°ƒç”¨å‡½æ•°è°ƒç”¨è¿ç®—ç¬¦é‡è½½</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><h2 id="å…­-ç»§æ‰¿">å…­ã€ç»§æ‰¿ </h2>
<h3 id="ä¸€ç»§æ‰¿çš„åŸºæœ¬æ¦‚å¿µ">ï¼ˆä¸€ï¼‰ç»§æ‰¿çš„åŸºæœ¬æ¦‚å¿µ </h3>
<h4 id="åŸºç±»å’Œæ´¾ç”Ÿç±»">åŸºç±»å’Œæ´¾ç”Ÿç±» </h4>
<ul>
<li>
<p>åœ¨å®šä¹‰ä¸€ä¸ªæ–°çš„ç±»Bæ—¶ï¼Œå¦‚æœç±»Bæ‹¥æœ‰æŸä¸ªå·²å†™å¥½çš„ç±»Açš„å…¨éƒ¨ç‰¹ç‚¹ï¼Œæ­¤å¤–è¿˜æœ‰ç±»Aæ²¡æœ‰çš„ç‰¹ç‚¹ï¼Œé‚£ä¹ˆå°±ä¸å¿…ä»å¤´é‡å†™ç±»Bï¼Œè€Œæ˜¯å¯ä»¥å®šä¹‰ç±»Bä¸ºç±»Açš„æ´¾ç”Ÿç±»ã€‚</p>
</li>
<li>
<p>ç±»A<strong>æ´¾ç”Ÿå‡º</strong>ç±»B / ç±»B<strong>ç»§æ‰¿è‡ª</strong>ç±»Aã€‚ç±»Aç§°ä¸º<strong>åŸºç±»</strong>ï¼Œç±»Bç§°ä¸º<strong>æ´¾ç”Ÿç±»</strong>ï¼Œä¹Ÿç§°ä¸º<strong>å­ç±»</strong>æˆ–<strong>æ´¾ç”Ÿç±»</strong>ã€‚</p>
</li>
<li>
<p>æ´¾ç”Ÿç±»æ˜¯é€šè¿‡å¯¹åŸºç±»è¿›è¡Œ<strong>æ‰©å……</strong>å’Œ<strong>ä¿®æ”¹</strong>å¾—åˆ°çš„</p>
</li>
</ul>
<h4 id="æ´¾ç”Ÿç±»çš„å†™æ³•">æ´¾ç”Ÿç±»çš„å†™æ³• </h4>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token keyword keyword-class">class</span> æ´¾ç”Ÿç±»å <span class="token operator">:</span> ç»§æ‰¿æ–¹å¼è¯´æ˜ç¬¦ åŸºç±»å <span class="token punctuation">{</span>
    â€¦â€¦
<span class="token punctuation">}</span>
</code></pre><p>ç»§æ‰¿æ–¹å¼è¯´æ˜ç¬¦ï¼š<code>public</code>,<code>private</code>,<code>protected</code></p>
<p>æ´¾ç”Ÿç±»æ‹¥æœ‰åŸºç±»çš„<strong>æ‰€æœ‰</strong>æˆå‘˜ï¼ˆåŒ…æ‹¬<code>public</code>,<code>private</code>,<code>protected</code>çš„æˆå‘˜å˜é‡å’Œæˆå‘˜å‡½æ•°ï¼‰ï¼›ä½†æ˜¯åœ¨æ´¾ç”Ÿç±»çš„<strong>æˆå‘˜å‡½æ•°</strong>ä¸­ï¼Œä¸èƒ½è®¿é—®åŸºç±»çš„<code>private</code>æˆå‘˜ã€‚</p>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">Student</span><span class="token punctuation">{</span>
<span class="token keyword keyword-private">private</span><span class="token operator">:</span>
    string name<span class="token punctuation">;</span>
    <span class="token keyword keyword-int">int</span> gender<span class="token punctuation">;</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token keyword keyword-bool">bool</span> <span class="token function">isThreeGood</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-void">void</span> <span class="token function">setName</span><span class="token punctuation">(</span><span class="token keyword keyword-const">const</span> string <span class="token operator">&amp;</span>name<span class="token punctuation">)</span> <span class="token punctuation">{</span>sName <span class="token operator">=</span> name<span class="token punctuation">;</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">UndergraduateStudent</span><span class="token operator">:</span> <span class="token base-clause"><span class="token keyword keyword-public">public</span> <span class="token class-name">Student</span></span> <span class="token punctuation">{</span>
<span class="token keyword keyword-private">private</span><span class="token operator">:</span>
    <span class="token keyword keyword-int">int</span> department<span class="token punctuation">;</span> <span class="token comment">//æ‰©å……</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token keyword keyword-bool">bool</span> <span class="token function">isThreeGood</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">//è¦†ç›–</span>
    <span class="token keyword keyword-bool">bool</span> <span class="token function">canBaoYan</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">//æ‰©å……</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

UndergraduateStudent u<span class="token punctuation">;</span>
u<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">"Alice"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//æ´¾ç”Ÿç±»å¯¹è±¡è®¿é—®åŸºç±»æˆå‘˜</span>
u<span class="token punctuation">.</span><span class="token function">isThreeGood</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//æ´¾ç”Ÿç±»å¯¹è±¡è®¿é—®æ´¾ç”Ÿç±»æˆå‘˜</span>

</code></pre><h4 id="æ´¾ç”Ÿç±»å¯¹è±¡çš„å†…å­˜ç©ºé—´">æ´¾ç”Ÿç±»å¯¹è±¡çš„å†…å­˜ç©ºé—´ </h4>
<p>å¯ä»¥ç†è§£ä¸ºåŸºç±»å¤§å°+æ´¾ç”Ÿæˆå‘˜å˜é‡å¤§å°ã€‚</p>
<p>åœ¨æ´¾ç”Ÿç±»å¯¹è±¡ä¸­ï¼ŒåŒ…å«ç€åŸºç±»å¯¹è±¡ï¼Œè€Œä¸”åŸºç±»å¯¹è±¡çš„å­˜å‚¨ä½ç½®ä½äºæ´¾ç”Ÿç±»å¯¹è±¡æ–°å¢çš„æˆå‘˜å˜é‡ä¹‹å‰ã€‚</p>
<h4 id="æˆå‘˜çš„è¦†ç›–">æˆå‘˜çš„è¦†ç›– </h4>
<p>æ´¾ç”Ÿç±»å¯ä»¥å®šä¹‰ä¸åŸºç±»æˆå‘˜åŒåçš„æˆå‘˜ã€‚</p>
<ul>
<li>åœ¨æ´¾ç”Ÿç±»ä¸­è®¿é—®ä¸åŸºç±»æˆå‘˜åŒåçš„æˆå‘˜æ—¶ï¼Œç¼ºçœè®¿é—®æ´¾ç”Ÿç±»ä¸­å®šä¹‰çš„æˆå‘˜</li>
<li>è¦åœ¨æ´¾ç”Ÿç±»ä¸­è®¿é—®ç”±åŸºç±»å®šä¹‰çš„åŒåæˆå‘˜æ—¶ï¼Œéœ€ä½¿ç”¨ä½œç”¨åŸŸç¬¦å·<code>::</code></li>
</ul>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">Base</span><span class="token punctuation">{</span>
    <span class="token keyword keyword-int">int</span> j<span class="token punctuation">;</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token keyword keyword-int">int</span> i<span class="token punctuation">;</span>
    <span class="token keyword keyword-void">void</span> <span class="token function">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">Derived</span><span class="token operator">:</span> <span class="token base-clause"><span class="token keyword keyword-public">public</span> <span class="token class-name">Base</span></span><span class="token punctuation">{</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token keyword keyword-int">int</span> i<span class="token punctuation">;</span> <span class="token comment">//è¦†ç›–ï¼ˆä¸ä»£è¡¨ä¸ç»™è¢«è¦†ç›–çš„å¼€ç©ºé—´äº†ï¼‰</span>
    <span class="token keyword keyword-void">void</span> <span class="token function">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//è¦†ç›–</span>
    <span class="token keyword keyword-void">void</span> <span class="token function">access</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//æ‰©å……</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-void">void</span> <span class="token class-name">Derived</span><span class="token double-colon punctuation">::</span><span class="token function">access</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    j <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token comment">//errorï¼Œæ´¾ç”Ÿç±»æˆå‘˜å‡½æ•°ä¸èƒ½è®¿é—®åŸºç±»privateæˆå‘˜</span>
    i <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span> <span class="token comment">//æ´¾ç”Ÿç±»ä¸­ä¸åŠ ä½œç”¨åŸŸæ—¶é»˜è®¤è®¿é—®æ´¾ç”Ÿç±»çš„æˆå‘˜</span>
    <span class="token function">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//åŒä¸Š</span>
    Base<span class="token double-colon punctuation">::</span>i <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token comment">//æ´¾ç”Ÿç±»ä¸­å¯ä»¥åŠ ä½œç”¨åŸŸä»¥è®¿é—®åŸºç±»çš„åŒåæˆå‘˜</span>
    <span class="token class-name">Base</span><span class="token double-colon punctuation">::</span><span class="token function">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//åŒä¸Š</span>
<span class="token punctuation">}</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    Derived obj<span class="token punctuation">;</span>
    obj<span class="token punctuation">.</span>i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//è®¿é—®æ´¾ç”Ÿç±»æˆå‘˜</span>
    obj<span class="token punctuation">.</span>Base<span class="token double-colon punctuation">::</span>i <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">//è®¿é—®åŸºç±»æˆå‘˜</span>
<span class="token punctuation">}</span>
</code></pre><p>ä¸€èˆ¬åœ°ï¼ŒåŸºç±»å’Œæ´¾ç”Ÿç±»ä¸å®šä¹‰åŒåæˆå‘˜å˜é‡ï¼Œä½†æ˜¯ç»å¸¸å®šä¹‰åŒåçš„<strong>æˆå‘˜å‡½æ•°</strong>ã€‚</p>
<h3 id="äºŒæ´¾ç”Ÿç±»çš„æˆå‘˜ç»„æˆå’Œå¯è§æ€§">ï¼ˆäºŒï¼‰æ´¾ç”Ÿç±»çš„æˆå‘˜ç»„æˆå’Œå¯è§æ€§ </h3>
<h4 id="å…¬æœ‰ç»§æ‰¿">å…¬æœ‰ç»§æ‰¿ </h4>
<p>åŸºç±»æˆå‘˜çš„å¯è§æ€§ï¼š</p>
<table>
<thead>
<tr>
<th style="text-align:center">åŸºç±»æˆå‘˜ç±»å‹</th>
<th style="text-align:center">åŸºç±»æˆå‘˜å‡½æ•°ã€å‹å…ƒå‡½æ•°</th>
<th style="text-align:center">æ´¾ç”Ÿç±»æˆå‘˜å‡½æ•°ã€å‹å…ƒå‡½æ•°</th>
<th style="text-align:center">å…¶ä»–å‡½æ•°</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><code>private</code></td>
<td style="text-align:center">å¯è§</td>
<td style="text-align:center">ä¸å¯è§</td>
<td style="text-align:center">ä¸å¯è§</td>
</tr>
<tr>
<td style="text-align:center"><code>protected</code></td>
<td style="text-align:center">å¯è§</td>
<td style="text-align:center">å¯è§</td>
<td style="text-align:center">ä¸å¯è§</td>
</tr>
<tr>
<td style="text-align:center"><code>public</code></td>
<td style="text-align:center">å¯è§</td>
<td style="text-align:center">å¯è§</td>
<td style="text-align:center">å¯è§</td>
</tr>
</tbody>
</table>
<p>ç¤ºä¾‹ï¼š</p>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">Father</span> <span class="token punctuation">{</span>
<span class="token keyword keyword-private">private</span><span class="token operator">:</span> <span class="token keyword keyword-int">int</span> nPrivate<span class="token punctuation">;</span> <span class="token comment">//ç§æœ‰æˆå‘˜</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span> <span class="token keyword keyword-int">int</span> nPublic<span class="token punctuation">;</span> <span class="token comment">//å…¬æœ‰æˆå‘˜</span>
<span class="token keyword keyword-protected">protected</span><span class="token operator">:</span> <span class="token keyword keyword-int">int</span> nProtected<span class="token punctuation">;</span> <span class="token comment">// ä¿æŠ¤æˆå‘˜</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword keyword-class">class</span> <span class="token class-name">Son</span> <span class="token operator">:</span> <span class="token base-clause"><span class="token keyword keyword-public">public</span> <span class="token class-name">Father</span></span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-void">void</span> <span class="token function">accessFather</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        nPublic <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// OK;</span>
        nPrivate <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// error, åŸºç±»ç§æœ‰æˆå‘˜å¯¹æ´¾ç”Ÿç±»ä¸å¯è§</span>
        nProtected <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// OK, è®¿é—®ä»åŸºç±»ç»§æ‰¿çš„ä¿æŠ¤æˆå‘˜</span>
        Son s<span class="token punctuation">;</span>
        s<span class="token punctuation">.</span>nProtected <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//OK, è®¿é—®å…¶å®ƒåŒç±»å¯¹è±¡çš„åŸºç±»ä¿æŠ¤æˆå‘˜</span>
        Father f<span class="token punctuation">;</span>
        f<span class="token punctuation">.</span>nProtected <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//error, fä¸æ˜¯å‡½æ•°æ‰€ä½œç”¨çš„å½“å‰ç±»çš„å¯¹è±¡</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    Father f<span class="token punctuation">;</span>
    Son s<span class="token punctuation">;</span>
    f<span class="token punctuation">.</span>nPublic <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> s<span class="token punctuation">.</span>nPublic <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// OK</span>
    f<span class="token punctuation">.</span>nProtected <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> f<span class="token punctuation">.</span>nPrivate <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// error</span>
    s<span class="token punctuation">.</span>nProtected <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> s<span class="token punctuation">.</span>nPrivate <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// error</span>
    <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><h4 id="ç§æœ‰ç»§æ‰¿">ç§æœ‰ç»§æ‰¿ </h4>
<p>åŸºç±»çš„å…¬æœ‰æˆå‘˜å’Œä¿æŠ¤æˆå‘˜éƒ½ä½œä¸ºæ´¾ç”Ÿç±»çš„ç§æœ‰æˆå‘˜ï¼ŒåŸºç±»çš„ç§æœ‰æˆå‘˜å¯¹æ´¾ç”Ÿç±»ä¸å¯è§ã€‚</p>
<h4 id="ä¿æŠ¤ç»§æ‰¿">ä¿æŠ¤ç»§æ‰¿ </h4>
<p>åŸºæœ¬å®Œå…¨ä¸ä¼šä½¿ç”¨ã€‚</p>
<h3 id="ä¸‰æ´¾ç”Ÿç±»çš„æ„é€ å’Œè½¬æ¢">ï¼ˆä¸‰ï¼‰æ´¾ç”Ÿç±»çš„æ„é€ å’Œè½¬æ¢ </h3>
<h4 id="ä¸ä¼šè¢«ç»§æ‰¿çš„æˆå‘˜å‡½æ•°">ä¸ä¼šè¢«ç»§æ‰¿çš„æˆå‘˜å‡½æ•° </h4>
<ul>
<li>åŸºç±»çš„<strong>æ„é€ å‡½æ•°</strong></li>
<li>å¯è®¿é—®çš„ï¼ˆå…¬æœ‰çš„ã€é<code>=delete</code>çš„ï¼‰åŸºç±»çš„<strong>å¤åˆ¶èµ‹å€¼è¿ç®—ç¬¦é‡è½½</strong></li>
<li>åŸºç±»çš„<strong>ææ„å‡½æ•°</strong></li>
</ul>
<h4 id="æ´¾ç”Ÿç±»çš„æ„é€ å‡½æ•°">æ´¾ç”Ÿç±»çš„æ„é€ å‡½æ•° </h4>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">Base</span><span class="token punctuation">{</span>
    <span class="token keyword keyword-int">int</span> a<span class="token punctuation">,</span>b<span class="token punctuation">;</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token function">Base</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> x<span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span> y<span class="token punctuation">)</span><span class="token operator">:</span><span class="token function">a</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">b</span><span class="token punctuation">(</span>y<span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">Derived</span><span class="token operator">:</span> <span class="token base-clause"><span class="token keyword keyword-public">public</span> <span class="token class-name">Base</span></span><span class="token punctuation">{</span>
    <span class="token keyword keyword-int">int</span> c<span class="token punctuation">;</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
<span class="token comment">//æ­£ç¡®çš„æ„é€ å‡½æ•°ï¼š</span>
    <span class="token function">Derived</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> x<span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span> y<span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span> z<span class="token punctuation">)</span><span class="token operator">:</span><span class="token function">Base</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">c</span><span class="token punctuation">(</span>z<span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token punctuation">}</span>
<span class="token comment">//é”™è¯¯çš„æ„é€ å‡½æ•°ï¼š</span>
    <span class="token function">Derived</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> x<span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span> y<span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span> z<span class="token punctuation">)</span><span class="token operator">:</span><span class="token function">a</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">b</span><span class="token punctuation">(</span>y<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">c</span><span class="token punctuation">(</span>z<span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><ul>
<li>åœ¨åˆ›å»ºæ´¾ç”Ÿç±»çš„å¯¹è±¡æ—¶ï¼Œéœ€è¦è°ƒç”¨åŸºç±»çš„æ„é€ å‡½æ•°ã€‚
<ul>
<li>åˆå§‹åŒ–æ´¾ç”Ÿå¯¹è±¡ä¸­ä»åŸºç±»ç»§æ‰¿çš„æˆå‘˜</li>
<li>åœ¨æ‰§è¡Œæ´¾ç”Ÿç±»çš„æ„é€ å‡½æ•°å‰ï¼Œæ€»æ˜¯å…ˆæ‰§è¡ŒåŸºç±»çš„æ„é€ å‡½æ•°</li>
</ul>
</li>
</ul>
<p><strong>æ´¾ç”Ÿç±»æ„é€ é¡ºåº</strong></p>
<ul>
<li>å…ˆæ„é€ <strong>åŸºç±»çš„æˆå‘˜</strong>ï¼šå¦‚æœ<strong>åˆå§‹åŒ–åˆ—è¡¨</strong>ä¸­æä¾›äº†åŸºç±»æ„é€ æ–¹æ³•ï¼Œåˆ™è°ƒç”¨å¯¹åº”æ„é€ å‡½æ•°ï¼›å¦åˆ™<strong>é»˜è®¤åˆå§‹åŒ–</strong>åŸºç±»ï¼›</li>
<li>æŒ‰ç…§<strong>åˆå§‹åŒ–åˆ—è¡¨æˆ–è€…é»˜è®¤åˆå§‹åŒ–å™¨</strong>å¯¹æ´¾ç”Ÿç±»â€œé¢å¤–çš„â€æˆå‘˜è¿›è¡Œæ„é€ ã€‚è‹¥æ— ï¼Œåˆ™<strong>é»˜è®¤åˆå§‹åŒ–</strong>ï¼›</li>
<li>æ‰§è¡Œæ´¾ç”Ÿç±»çš„æ„é€ å‡½æ•°ä½“ã€‚</li>
</ul>
<h4 id="æ´¾ç”Ÿç±»çš„ææ„å‡½æ•°">æ´¾ç”Ÿç±»çš„ææ„å‡½æ•° </h4>
<p>æ´¾ç”Ÿç±»çš„ææ„é¡ºåºä¸€èˆ¬å’Œæ„é€ é¡ºåºç›¸åï¼Œå³ï¼š</p>
<ul>
<li>æ‰§è¡Œææ„å‡½æ•°</li>
<li>ææ„æˆå‘˜ï¼šé¡ºåºä¸æ„é€ ï¼ˆåˆå§‹åŒ–ï¼‰ç›¸å</li>
<li>æ‰§è¡ŒåŸºç±»çš„ææ„å‡½æ•°</li>
</ul>
<h4 id="åŒ…å«æˆå‘˜å¯¹è±¡çš„æ´¾ç”Ÿç±»çš„æ„é€ å‡½æ•°">åŒ…å«æˆå‘˜å¯¹è±¡çš„æ´¾ç”Ÿç±»çš„æ„é€ å‡½æ•° </h4>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">Base</span><span class="token punctuation">{</span>
    <span class="token keyword keyword-int">int</span> a<span class="token punctuation">,</span>b<span class="token punctuation">;</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token function">Base</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> x<span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span> y<span class="token punctuation">)</span><span class="token operator">:</span><span class="token function">a</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">b</span><span class="token punctuation">(</span>y<span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">Some</span><span class="token punctuation">{</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token function">Some</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> c<span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">Derived</span><span class="token operator">:</span> <span class="token base-clause"><span class="token keyword keyword-public">public</span> <span class="token class-name">Base</span></span><span class="token punctuation">{</span>
    <span class="token keyword keyword-int">int</span> c<span class="token punctuation">;</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token function">Derived</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> x<span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span> y<span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span> z<span class="token punctuation">,</span><span class="token keyword keyword-int">int</span> t<span class="token punctuation">)</span><span class="token operator">:</span><span class="token function">Base</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">c</span><span class="token punctuation">(</span>z<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">Some</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

</code></pre><h3 id="å››ç»§æ‰¿ä¸­çš„éšå¼è½¬æ¢">ï¼ˆå››ï¼‰ç»§æ‰¿ä¸­çš„éšå¼è½¬æ¢ </h3>
<p>ä¸€ä¸ª<strong>å…¬æœ‰ç»§æ‰¿</strong>çš„æ´¾ç”Ÿç±»å¯¹è±¡å¯ä»¥<strong>éšå¼è½¬æ¢</strong>ä¸ºå®ƒçš„åŸºç±»å¯¹è±¡ã€‚</p>
<ul>
<li>è½¬æ¢åçš„åŸºç±»å¯¹è±¡ä¸åŒ…å«æ´¾ç”Ÿç±»å®šä¹‰çš„æˆå‘˜</li>
<li>ä»æ´¾ç”Ÿç±»æ„é€ åŸºç±»æ—¶ä¼šè°ƒç”¨åŸºç±»çš„å¤åˆ¶æ„é€ ï¼ˆç›¸å½“äºä»åŸºç±»æ„é€ åŸºç±»ï¼‰</li>
<li>å°†æ´¾ç”Ÿç±»èµ‹å€¼åˆ°åŸºç±»ä¼šè°ƒç”¨åŸºç±»çš„å¤åˆ¶èµ‹å€¼é‡è½½</li>
</ul>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">Base</span><span class="token punctuation">{</span> <span class="token punctuation">}</span>
<span class="token keyword keyword-class">class</span> <span class="token class-name">Derived</span><span class="token operator">:</span> <span class="token base-clause"><span class="token keyword keyword-public">public</span> <span class="token class-name">Base</span></span><span class="token punctuation">{</span> <span class="token punctuation">}</span>
<span class="token keyword keyword-void">void</span> <span class="token function">f</span><span class="token punctuation">(</span>Base b<span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token punctuation">}</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    Derived d<span class="token punctuation">;</span>
    Base b<span class="token punctuation">{</span>d<span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">//ä»æ´¾ç”Ÿç±»æ„é€ åŸºç±»</span>
    Base c<span class="token punctuation">;</span>
    c <span class="token operator">=</span> d<span class="token punctuation">;</span> <span class="token comment">//ä»æ´¾ç”Ÿç±»èµ‹å€¼åˆ°åŸºç±»</span>
    <span class="token function">f</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//éšå¼è½¬æ¢ä¸ºåŸºç±»å¯¹è±¡</span>
<span class="token punctuation">}</span>
</code></pre><h4 id="å…¬æœ‰ç»§æ‰¿ä¸­åŸºç±»å¼•ç”¨ç»‘å®šåˆ°æ´¾ç”Ÿç±»å¯¹è±¡">å…¬æœ‰ç»§æ‰¿ä¸­ï¼ŒåŸºç±»å¼•ç”¨ç»‘å®šåˆ°æ´¾ç”Ÿç±»å¯¹è±¡ </h4>
<p>è™½ç„¶è¿™ä¸ªå¼•ç”¨ç»‘å®šåˆ°äº†æ´¾ç”Ÿç±»ï¼Œä½†å®ƒä»ç„¶åªèƒ½è®¿é—®åŸºç±»çš„æˆå‘˜æ•°æ®å’Œæˆå‘˜å‡½æ•°ã€‚</p>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">Base</span><span class="token punctuation">{</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token keyword keyword-int">int</span> baseMem<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">Derived</span><span class="token operator">:</span> <span class="token base-clause"><span class="token keyword keyword-public">public</span> <span class="token class-name">Base</span></span><span class="token punctuation">{</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token keyword keyword-int">int</span> derivedMem<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    Derived d<span class="token punctuation">;</span>
    Base<span class="token operator">&amp;</span> b <span class="token operator">=</span> d<span class="token punctuation">;</span> <span class="token comment">//ç»‘å®šåˆ°æ´¾ç”Ÿç±»å¯¹è±¡</span>
    b<span class="token punctuation">.</span>baseMem <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//OK</span>
    b<span class="token punctuation">.</span>derivedMem <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">//error, æ´¾ç”Ÿç±»æ²¡æœ‰derivedMemæˆå‘˜</span>
<span class="token punctuation">}</span>
</code></pre><h4 id="åŸºç±»ä¸æ´¾ç”Ÿç±»çš„æŒ‡é’ˆå¼ºåˆ¶è½¬æ¢">åŸºç±»ä¸æ´¾ç”Ÿç±»çš„æŒ‡é’ˆå¼ºåˆ¶è½¬æ¢ </h4>
<p><strong>è‹¥æ´¾ç”Ÿç±»å…¬æœ‰ç»§æ‰¿è‡ªåŸºç±»ï¼Œåˆ™åŸºç±»æŒ‡é’ˆå¯ä»¥æŒ‡å‘æ´¾ç”Ÿç±»å¯¹è±¡</strong></p>
<p><code> Base* baseptr = objDerived;</code></p>
<p>å³ä¾¿åŸºç±»æŒ‡é’ˆæŒ‡å‘çš„æ˜¯ä¸€ä¸ªæ´¾ç”Ÿç±»çš„å¯¹è±¡ï¼Œä¹Ÿä¸èƒ½é€šè¿‡åŸºç±»æŒ‡é’ˆè®¿é—®åŸºç±»æ²¡æœ‰ã€è€Œæ´¾ç”Ÿç±»ä¸­æœ‰çš„æˆå‘˜ã€‚</p>
<p><strong>é€šè¿‡å¼ºåˆ¶æŒ‡é’ˆç±»å‹è½¬æ¢ï¼Œå¯ä»¥æŠŠptrBaseè½¬æ¢æˆDerivedç±»çš„æŒ‡é’ˆ</strong></p>
<p>è¿™é‡Œéœ€è¦ä¿è¯ptrBaseæŒ‡å‘çš„æ˜¯Derivedç±»çš„å¯¹è±¡ï¼Œå¦åˆ™ä¼šå‡ºç°è¿è¡Œæ—¶é”™è¯¯ã€‚</p>
<p><code>Derived* derivedptr = (Derived*) ptrBase; //è¿™é‡Œæ˜¯Cé£æ ¼è½¬æ¢</code></p>
<p><strong>ç¤ºä¾‹</strong></p>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">Base</span> <span class="token punctuation">{</span>
<span class="token keyword keyword-protected">protected</span><span class="token operator">:</span>
    <span class="token keyword keyword-int">int</span> n<span class="token punctuation">;</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token function">Base</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> i<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">n</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Base "</span> <span class="token operator">&lt;&lt;</span> n <span class="token operator">&lt;&lt;</span> <span class="token string">" constructed"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token operator">~</span><span class="token function">Base</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Base "</span> <span class="token operator">&lt;&lt;</span> n <span class="token operator">&lt;&lt;</span> <span class="token string">" destructed"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-void">void</span> <span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Base:n="</span> <span class="token operator">&lt;&lt;</span> n <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">Derived</span> <span class="token operator">:</span> <span class="token base-clause"><span class="token keyword keyword-public">public</span> <span class="token class-name">Base</span></span> <span class="token punctuation">{</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token keyword keyword-int">int</span> v<span class="token punctuation">;</span>
    <span class="token function">Derived</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> i<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">Base</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">v</span><span class="token punctuation">(</span><span class="token number">2</span> <span class="token operator">*</span> i<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Derived constructed"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token operator">~</span><span class="token function">Derived</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Derived destructed"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-void">void</span> <span class="token function">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token keyword keyword-void">void</span> <span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Derived:v="</span> <span class="token operator">&lt;&lt;</span> v <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
        cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Derived:n="</span> <span class="token operator">&lt;&lt;</span> n <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>   
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    Base <span class="token function">objBase</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    Derived <span class="token function">objDerived</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    Base <span class="token operator">*</span>pBase <span class="token operator">=</span> <span class="token operator">&amp;</span>objDerived<span class="token punctuation">;</span>
    <span class="token comment">//pBase-&gt;func(); //é”™è¯¯ï¼ŒBaseç±»æ²¡æœ‰func()æˆå‘˜å‡½æ•°</span>
    <span class="token comment">//pBase-&gt;v = 5; //é”™è¯¯ï¼ŒBaseç±»æ²¡æœ‰væˆå‘˜å˜é‡</span>
    pBase<span class="token operator">-&gt;</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//è°ƒç”¨åŸºç±»å‡½æ•°print()</span>
    <span class="token comment">//Derived *pDerived = &amp;objBase; //é”™è¯¯</span>
    Derived <span class="token operator">*</span>pDerived <span class="token operator">=</span> <span class="token punctuation">(</span>Derived <span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token operator">&amp;</span> objBase<span class="token punctuation">)</span><span class="token punctuation">;</span>
    pDerived<span class="token operator">-&gt;</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//æ…ç”¨ï¼Œå¯èƒ½å‡ºç°ä¸å¯é¢„æœŸçš„é”™è¯¯</span>
    <span class="token comment">//å¾€åˆ«äººçš„ç©ºé—´é‡Œå†™å…¥æ•°æ®ï¼Œå¯èƒ½å¼•èµ·é—®é¢˜</span>
    pDerived<span class="token operator">-&gt;</span>v <span class="token operator">=</span> <span class="token number">128</span><span class="token punctuation">;</span>
    objDerived<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//è¾“å‡ºï¼š</span>
Base <span class="token number">5</span> constructed
Base <span class="token number">3</span> constructed
Derived constructed
Base<span class="token operator">:</span>n<span class="token operator">=</span><span class="token number">3</span>
Derived<span class="token operator">:</span>v<span class="token operator">=</span><span class="token number">0</span>
Derived<span class="token operator">:</span>n<span class="token operator">=</span><span class="token number">5</span>
Derived<span class="token operator">:</span>v<span class="token operator">=</span><span class="token number">6</span>
Derived<span class="token operator">:</span>n<span class="token operator">=</span><span class="token number">3</span>
Derived destructed
Base <span class="token number">3</span> destructed
Base <span class="token number">5</span> destructed
</code></pre><h4 id="å…¬æœ‰ç»§æ‰¿çš„è½¬æ¢æ€»ç»“">å…¬æœ‰ç»§æ‰¿çš„è½¬æ¢æ€»ç»“ï¼š </h4>
<ul>
<li>æ´¾ç”Ÿç±»å¯¹è±¡å¯ä»¥ç›´æ¥<strong>èµ‹å€¼</strong>ç»™åŸºç±»å¯¹è±¡</li>
<li>æ´¾ç”Ÿç±»å¯¹è±¡å¯ä»¥åˆå§‹åŒ–åŸºç±»<strong>å¼•ç”¨</strong></li>
<li>æ´¾ç”Ÿç±»å¯¹è±¡åœ°å€å¯ä»¥èµ‹ç»™åŸºç±»<strong>æŒ‡é’ˆ</strong></li>
</ul>
<h3 id="äº”å¤šç»§æ‰¿">ï¼ˆäº”ï¼‰å¤šç»§æ‰¿ </h3>
<h4 id="ç›´æ¥åŸºç±»å’Œé—´æ¥åŸºç±»">ç›´æ¥åŸºç±»å’Œé—´æ¥åŸºç±» </h4>
<p>åœ¨å£°æ˜æ´¾ç”Ÿç±»æ—¶, æ´¾ç”Ÿç±»çš„é¦–éƒ¨åªéœ€è¦åˆ—å‡ºå®ƒçš„ç›´æ¥åŸºç±»ã€‚</p>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">A</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword keyword-class">class</span> <span class="token class-name">B</span> <span class="token operator">:</span> <span class="token base-clause"><span class="token keyword keyword-public">public</span> <span class="token class-name">A</span></span> <span class="token punctuation">{</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword keyword-class">class</span> <span class="token class-name">C</span> <span class="token operator">:</span> <span class="token base-clause"><span class="token keyword keyword-public">public</span> <span class="token class-name">B</span></span> <span class="token punctuation">{</span> <span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token comment">//Cçš„ç›´æ¥åŸºç±»æ˜¯Bï¼Œé—´æ¥åŸºç±»æ˜¯A</span>
</code></pre><p><code>final</code>å…³é”®å­—ï¼šä¸€ä¸ªç±»ååŠ äº†<code>final</code>å…³é”®å­—ï¼Œåˆ™è¯¥ç±»ä¸èƒ½è¢«ç»§æ‰¿ï¼ˆ<strong>å°é—­ç±»</strong>ï¼‰</p>
<p><strong>æ„é€ é¡ºåº</strong></p>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">Base</span> <span class="token punctuation">{</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token keyword keyword-int">int</span> n<span class="token punctuation">;</span> 
    <span class="token function">Base</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> i<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">n</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Base "</span> <span class="token operator">&lt;&lt;</span> n <span class="token operator">&lt;&lt;</span> <span class="token string">" constructed"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token operator">~</span><span class="token function">Base</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Base "</span> <span class="token operator">&lt;&lt;</span> n <span class="token operator">&lt;&lt;</span> <span class="token string">"destructed"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">Derived</span> <span class="token operator">:</span> <span class="token base-clause"><span class="token keyword keyword-public">public</span> <span class="token class-name">Base</span></span> <span class="token punctuation">{</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token function">Derived</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> i<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">Base</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Derived Constructed"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token operator">~</span><span class="token function">Derived</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Derived Destructed"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">MoreDerived</span> <span class="token operator">:</span> <span class="token base-clause"><span class="token keyword keyword-public">public</span> <span class="token class-name">Derived</span></span> <span class="token punctuation">{</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token function">MoreDerived</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> i<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">Derived</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        cout <span class="token operator">&lt;&lt;</span> <span class="token string">"MoreDerived Constructed"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token operator">~</span><span class="token function">MoreDerived</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        cout <span class="token operator">&lt;&lt;</span> <span class="token string">"MoreDerived Destructed"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    MoreDerived <span class="token function">obj</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//è¾“å‡ºï¼š</span>
Base <span class="token number">10</span> constructed
Derived Constructed
MoreDerived Constructed
MoreDerived Destructed
Derived Destructed
Base <span class="token number">10</span> destructed
</code></pre><h4 id="å¤šç»§æ‰¿">å¤šç»§æ‰¿ </h4>
<p>ä¸€ä¸ªç±»å¯ä»¥ä»å¤šä¸ªåŸºç±»æ´¾ç”Ÿè€Œæ¥ï¼Œä»¥ç»§æ‰¿å¤šä¸ªåŸºç±»çš„æˆå‘˜</p>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">Derived</span><span class="token operator">:</span> <span class="token base-clause"><span class="token keyword keyword-public">public</span> <span class="token class-name">Base1</span><span class="token punctuation">,</span> <span class="token keyword keyword-private">private</span> <span class="token class-name">Base2</span></span> <span class="token punctuation">{</span>
    â€¦
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><p><strong>å¤šç»§æ‰¿çš„æ´¾ç”Ÿç±»æ„é€ å‡½æ•°</strong></p>
<ul>
<li>æŒ‰ç»§æ‰¿é¡ºåºè°ƒç”¨åŸºç±»çš„æ„é€ å‡½æ•°</li>
<li>ä¾æ¬¡è°ƒç”¨æ´¾ç”Ÿç±»æˆå‘˜å¯¹è±¡çš„æ„é€ å‡½æ•°</li>
<li>è°ƒç”¨æ´¾ç”Ÿç±»çš„æ„é€ å‡½æ•°</li>
</ul>
<h4 id="å¤šç»§æ‰¿çš„äºŒä¹‰æ€§">å¤šç»§æ‰¿çš„äºŒä¹‰æ€§ </h4>
<p>c++åœ¨ç¼–è¯‘æ—¶æ£€æŸ¥äºŒä¹‰æ€§ï¼Œå¹¶ä¸”è¿™ä¸ªæ£€æŸ¥æ˜¯åœ¨è®¿é—®æƒé™æ£€æŸ¥ä¹‹å‰ï¼Œå› æ­¤ä¸èƒ½é€šè¿‡æˆå‘˜çš„è®¿é—®æƒé™æ¥æ¶ˆé™¤äºŒä¹‰æ€§ã€‚</p>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">Base1</span> <span class="token punctuation">{</span>
<span class="token keyword keyword-private">private</span><span class="token operator">:</span>
    <span class="token keyword keyword-int">int</span> b1<span class="token punctuation">;</span>
    <span class="token keyword keyword-void">void</span> <span class="token function">set</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> i<span class="token punctuation">)</span> <span class="token punctuation">{</span> b1 <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token keyword keyword-int">int</span> i<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">Base2</span> <span class="token punctuation">{</span>
<span class="token keyword keyword-private">private</span><span class="token operator">:</span>
    <span class="token keyword keyword-int">int</span> b2<span class="token punctuation">;</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token keyword keyword-void">void</span> <span class="token function">set</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> i<span class="token punctuation">)</span> <span class="token punctuation">{</span> b2 <span class="token operator">=</span> i<span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-int">int</span> <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword keyword-return">return</span> b2<span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-int">int</span> i<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">Derived</span><span class="token operator">:</span> <span class="token base-clause"><span class="token keyword keyword-public">public</span> <span class="token class-name">Base1</span><span class="token punctuation">,</span> <span class="token keyword keyword-public">public</span> <span class="token class-name">Base2</span></span> <span class="token punctuation">{</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token keyword keyword-void">void</span> <span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        cout <span class="token operator">&lt;&lt;</span> <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">set</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//äºŒä¹‰æ€§, error</span>
        <span class="token class-name">Base2</span><span class="token double-colon punctuation">::</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token punctuation">;</span> <span class="token comment">//ok</span>
        <span class="token class-name">Base1</span><span class="token double-colon punctuation">::</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//ä¸èƒ½è®¿é—®åŸºç±»privateæˆå‘˜ï¼Œerror</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    Derived d<span class="token punctuation">;</span>
    d<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//äºŒä¹‰æ€§ï¼Œerror</span>
    d<span class="token punctuation">.</span><span class="token class-name">Base1</span><span class="token double-colon punctuation">::</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//ä¸èƒ½è®¿é—®privateæˆå‘˜ï¼Œerror</span>
    d<span class="token punctuation">.</span><span class="token class-name">Base2</span><span class="token double-colon punctuation">::</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    d<span class="token punctuation">.</span>Base1<span class="token double-colon punctuation">::</span>i<span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">;</span>
    d<span class="token punctuation">.</span>Base2<span class="token double-colon punctuation">::</span>i<span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><h3 id="å…­å¯¹è±¡ä¹‹é—´çš„å…³ç³»oopè®¾è®¡æ€è·¯">ï¼ˆå…­ï¼‰å¯¹è±¡ä¹‹é—´çš„å…³ç³»ï¼šOOPè®¾è®¡æ€è·¯ </h3>
<h4 id="æ³›åŒ–ä¸€èˆ¬ä¸ç‰¹æ®Š">æ³›åŒ–ï¼šä¸€èˆ¬ä¸ç‰¹æ®Š </h4>
<p>â€œæ˜¯â€çš„å…³ç³»ï¼šä½¿ç”¨<strong>å…¬æœ‰ç»§æ‰¿</strong>æœºåˆ¶å®ç°</p>
<h4 id="å…³è”é™æ€ç»“æ„çš„é•¿æœŸç¨³å®šå…³ç³»">å…³è”ï¼šé™æ€ç»“æ„çš„é•¿æœŸç¨³å®šå…³ç³» </h4>
<p>â€œæœ‰â€çš„å…³ç³»ï¼šä½¿ç”¨<strong>ç±»ç±»å‹å¯¹è±¡</strong>ï¼ˆéƒ¨åˆ†äºï¼‰/<strong>ç±»ç±»å‹æŒ‡é’ˆ</strong>ï¼ˆåŒ…å«ï¼‰å®ç°</p>
<h4 id="ä¾èµ–åŠ¨æ€è¡Œä¸ºçš„å¶å‘å…³è”">ä¾èµ–ï¼šåŠ¨æ€è¡Œä¸ºçš„å¶å‘å…³è” </h4>
<p>â€œç”¨â€çš„å…³ç³»ï¼šä½¿ç”¨<strong>æˆå‘˜å‡½æ•°</strong>å®ç°</p>
<h2 id="ä¸ƒ-å¤šæ€">ä¸ƒã€å¤šæ€ </h2>
<h3 id="ä¸€è™šå‡½æ•°å’Œå¤šæ€">ï¼ˆä¸€ï¼‰è™šå‡½æ•°å’Œå¤šæ€ </h3>
<p><strong>è™šå‡½æ•°</strong>ï¼šåœ¨ç±»çš„å®šä¹‰ä¸­ï¼Œå‰é¢æœ‰<code>virtual</code>å…³é”®å­—çš„æˆå‘˜å‡½æ•°ï¼Œç§°ä¸ºè™šå‡½æ•°ã€‚</p>
<ul>
<li><code>virtual</code>å…³é”®å­—åªéœ€åœ¨ç±»å®šä¹‰é‡Œçš„å‡½æ•°å£°æ˜ä¸­å†™ã€‚</li>
<li>åœ¨ç±»å¤–å®šä¹‰è™šå‡½æ•°çš„æ—¶å€™ä¸éœ€è¦å†™<code>virtual</code>å…³é”®å­—ã€‚</li>
<li>é™æ€æˆå‘˜å‡½æ•°ä¸èƒ½æ˜¯è™šå‡½æ•°ã€‚</li>
</ul>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">Base</span><span class="token punctuation">{</span>
    <span class="token keyword keyword-virtual">virtual</span> <span class="token keyword keyword-int">int</span> <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword keyword-int">int</span> <span class="token class-name">Base</span><span class="token double-colon punctuation">::</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    â€¦
<span class="token punctuation">}</span>
</code></pre><h4 id="å¤šæ€çš„è¡¨ç°å½¢å¼1">å¤šæ€çš„è¡¨ç°å½¢å¼1 </h4>
<p><strong>å³ï¼šæ ¹æ®æŒ‡é’ˆæŒ‡å‘çš„å¯¹è±¡ç±»å‹æ¥å†³å®šè°ƒç”¨çš„å‡½æ•°</strong></p>
<p>åŸºç±»å‹çš„æŒ‡é’ˆå¯ä»¥æŒ‡å‘åŸºç±»ç±»å‹çš„å¯¹è±¡ï¼Œä¹Ÿå¯ä»¥æŒ‡å‘æ´¾ç”Ÿç±»ç±»å‹çš„å¯¹è±¡ã€‚</p>
<p>åœ¨æŒ‡é’ˆï¼ˆå¼•ç”¨ï¼‰ä¸­ï¼Œå£°æ˜æ—¶æ‰€ä½¿ç”¨çš„ç±»å‹ï¼Œç§°ä¸º<strong>é™æ€ç±»å‹</strong>ï¼Œå®é™…æŒ‡å‘ï¼ˆç»‘å®šï¼‰çš„ç±»å‹ï¼Œç§°ä¸º<strong>åŠ¨æ€ç±»å‹</strong>ã€‚</p>
<p><img src="file:///Users/lishouhe/Desktop/Cpp/è½¯è®¾/çŸ¥è¯†ç‚¹æ€»ç»“/2.png" alt="alt text"></p>
<p>å½“é€šè¿‡<strong>åŸºç±»æŒ‡é’ˆ</strong>è°ƒç”¨åŸºç±»å’Œæ´¾ç”Ÿç±»çš„<strong>åŒåè™šå‡½æ•°</strong>æ—¶ï¼š<br>
è‹¥æŒ‡é’ˆæŒ‡å‘çš„æ˜¯åŸºç±»å¯¹è±¡ï¼Œåˆ™è°ƒç”¨åŸºç±»çš„è™šå‡½æ•°ï¼›<br>
è‹¥æŒ‡é’ˆæŒ‡å‘çš„æ˜¯æ´¾ç”Ÿç±»å¯¹è±¡ï¼Œåˆ™è°ƒç”¨æ´¾ç”Ÿç±»çš„è™šå‡½æ•°ã€‚</p>
<p>ç¤ºä¾‹ï¼š</p>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">Base</span> <span class="token punctuation">{</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token keyword keyword-virtual">virtual</span> <span class="token keyword keyword-void">void</span> <span class="token function">someVirtualFunction</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> cout <span class="token operator">&lt;&lt;</span> <span class="token string">"base function"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword keyword-class">class</span> <span class="token class-name">Derived</span> <span class="token operator">:</span> <span class="token base-clause"><span class="token keyword keyword-public">public</span> <span class="token class-name">Base</span></span> <span class="token punctuation">{</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token keyword keyword-virtual">virtual</span> <span class="token keyword keyword-void">void</span> <span class="token function">someVirtualFunction</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> cout <span class="token operator">&lt;&lt;</span> <span class="token string">"derived function"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    Derived oDerived<span class="token punctuation">;</span>
    Base <span class="token operator">*</span>p <span class="token operator">=</span> <span class="token operator">&amp;</span>oDerived<span class="token punctuation">;</span>
    p<span class="token operator">-&gt;</span><span class="token function">someVirtualFunction</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è°ƒç”¨æ´¾ç”Ÿç±»çš„è™šå‡½æ•°</span>
    <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><h4 id="å¤šæ€çš„è¡¨ç°å½¢å¼2">å¤šæ€çš„è¡¨ç°å½¢å¼2 </h4>
<p><strong>å³ï¼šæ ¹æ®å¼•ç”¨ç»‘å®šçš„å¯¹è±¡ç±»å‹æ¥å†³å®šè°ƒç”¨çš„å‡½æ•°</strong></p>
<p>åŸºç±»ç±»å‹çš„å¼•ç”¨å¯ä»¥ç»‘å®šåˆ°åŸºç±»ç±»å‹çš„å¯¹è±¡ï¼Œä¹Ÿå¯ä»¥ç»‘å®šåˆ°æ´¾ç”Ÿç±»ç±»å‹çš„å¯¹è±¡ã€‚<br>
<img src="file:///Users/lishouhe/Desktop/Cpp/è½¯è®¾/çŸ¥è¯†ç‚¹æ€»ç»“/3.png" alt="alt text"></p>
<p>å½“é€šè¿‡åŸºç±»å¼•ç”¨è°ƒç”¨åŸºç±»å’Œæ´¾ç”Ÿç±»çš„<strong>åŒåè™šå‡½æ•°</strong>æ—¶ï¼š<br>
è‹¥å¼•ç”¨ç»‘å®šçš„æ˜¯åŸºç±»å¯¹è±¡ï¼Œåˆ™è°ƒç”¨åŸºç±»çš„è™šå‡½æ•°ï¼›<br>
è‹¥å¼•ç”¨ç»‘å®šçš„æ˜¯æ´¾ç”Ÿç±»å¯¹è±¡ï¼Œåˆ™è°ƒç”¨æ´¾ç”Ÿç±»çš„è™šå‡½æ•°ã€‚</p>
<p>ç¤ºä¾‹ï¼š</p>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">Base</span> <span class="token punctuation">{</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token keyword keyword-virtual">virtual</span> <span class="token keyword keyword-void">void</span> <span class="token function">someVirtualFunction</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> cout <span class="token operator">&lt;&lt;</span> <span class="token string">"base function"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword keyword-class">class</span> <span class="token class-name">Derived</span> <span class="token operator">:</span> <span class="token base-clause"><span class="token keyword keyword-public">public</span> <span class="token class-name">Base</span></span> <span class="token punctuation">{</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token keyword keyword-virtual">virtual</span> <span class="token keyword keyword-void">void</span> <span class="token function">someVirtualFunction</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> cout <span class="token operator">&lt;&lt;</span> <span class="token string">"derived function"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    Derived oDerived<span class="token punctuation">;</span>
    Base <span class="token operator">&amp;</span>r <span class="token operator">=</span> oDerived<span class="token punctuation">;</span>
    r<span class="token punctuation">.</span><span class="token function">someVirtualFunction</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è°ƒç”¨æ´¾ç”Ÿç±»çš„è™šå‡½æ•°</span>
    <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><h4 id="è™šå‡½æ•°æ€§è´¨çš„ä¼ é€’">è™šå‡½æ•°æ€§è´¨çš„ä¼ é€’ </h4>
<ul>
<li>ä»»ä½•è¦†ç›–è™šå‡½æ•°çš„æ´¾ç”Ÿç±»åŒåå‡½æ•°ï¼Œä¹Ÿæ˜¯è™šå‡½æ•°ï¼ˆæ— è®ºè¿™äº›åŒåå‡½æ•°å‰é¢æ˜¯å¦æ˜¾å¼åŠ äº†<code>virtual</code>å…³é”®å­—ï¼‰ã€‚</li>
<li><code>override</code>å…³é”®å­—ï¼šåœ¨æ´¾ç”Ÿç±»ä¸­ï¼Œå¦‚æœä¸€ä¸ªå‡½æ•°åé¢åŠ äº†<code>override</code>å…³é”®å­—ï¼Œåˆ™è¡¨ç¤ºå®ƒè¦†ç›–äº†åŸºç±»ä¸­çš„è™šå‡½æ•°ï¼Œå¦åˆ™ç¼–è¯‘å‡ºé”™ã€‚</li>
<li><code>final</code>å…³é”®å­—ï¼šåœ¨æ´¾ç”Ÿç±»ä¸­ï¼Œå¦‚æœä¸€ä¸ªå‡½æ•°åé¢åŠ äº†<code>final</code>å…³é”®å­—ï¼Œåˆ™è¡¨ç¤ºå®ƒä¸èƒ½è¢«åé¢çš„æ´¾ç”Ÿç±»ç»§ç»­è¦†ç›–ï¼Œå¦åˆ™ç¼–è¯‘å‡ºé”™ã€‚</li>
</ul>
<h4 id="æ™®é€šå‡½æ•°ä¸­è°ƒç”¨è™šå‡½æ•°">æ™®é€šå‡½æ•°ä¸­è°ƒç”¨è™šå‡½æ•° </h4>
<p>åŸºç±»çš„æ™®é€šæˆå‘˜å‡½æ•°ä¸­è°ƒç”¨è™šå‡½æ•°ä¹Ÿä¼šæœ‰å¤šæ€ã€‚</p>
<p>ç›¸å½“äºéšå«äº†åŸºç±»ç±»å‹æŒ‡é’ˆ<strong>this</strong></p>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">Base</span> <span class="token punctuation">{</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token keyword keyword-void">void</span> <span class="token function">callF</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//ç›¸å½“äº this-&gt;f(); thisæ˜¯åŸºç±»æŒ‡é’ˆ</span>
<span class="token punctuation">}</span>
    <span class="token keyword keyword-virtual">virtual</span> <span class="token keyword keyword-void">void</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">//è™šå‡½æ•°ï¼Œå¯è¢«å­ç±»è¦†ç›–</span>
        cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Base called"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword keyword-class">class</span> <span class="token class-name">Derived</span><span class="token operator">:</span> <span class="token base-clause"><span class="token keyword keyword-public">public</span> <span class="token class-name">Base</span></span> <span class="token punctuation">{</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token keyword keyword-void">void</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Derived called"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    Base<span class="token operator">*</span> b <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> Derived<span class="token punctuation">;</span>
    b<span class="token operator">-&gt;</span><span class="token function">callF</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è¾“å‡º Derived called</span>
<span class="token punctuation">}</span>
</code></pre><h4 id="æ„é€ å‡½æ•°å’Œææ„å‡½æ•°ä¸­è°ƒç”¨è™šå‡½æ•°">æ„é€ å‡½æ•°å’Œææ„å‡½æ•°ä¸­è°ƒç”¨è™šå‡½æ•° </h4>
<p>åœ¨åŸºç±»çš„æ„é€ å‡½æ•°å’Œææ„å‡½æ•°ä¸­è°ƒç”¨è™šå‡½æ•°æ—¶ï¼Œè°ƒç”¨çš„æ˜¯è‡ªå·±çš„ç±»ä¸­å®šä¹‰çš„å‡½æ•°ã€‚</p>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;iostream&gt;</span></span>
<span class="token keyword keyword-using">using</span> <span class="token keyword keyword-namespace">namespace</span> std<span class="token punctuation">;</span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">Base</span><span class="token punctuation">{</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token function">Base</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Base constructor"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
        <span class="token function">hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-virtual">virtual</span> <span class="token operator">~</span><span class="token function">Base</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Base destructor"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
        <span class="token function">bye</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-virtual">virtual</span> <span class="token keyword keyword-void">void</span> <span class="token function">hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        cout <span class="token operator">&lt;&lt;</span> <span class="token string">"hello from Base"</span> <span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-virtual">virtual</span> <span class="token keyword keyword-void">void</span> <span class="token function">bye</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        cout <span class="token operator">&lt;&lt;</span> <span class="token string">"bye from Base"</span> <span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">Derived</span> <span class="token operator">:</span> <span class="token base-clause"><span class="token keyword keyword-public">public</span> <span class="token class-name">Base</span></span><span class="token punctuation">{</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token function">Derived</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Derived constructor"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
        <span class="token function">hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token operator">~</span><span class="token function">Derived</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Derived destructor"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
        <span class="token function">bye</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-void">void</span> <span class="token function">hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        cout <span class="token operator">&lt;&lt;</span> <span class="token string">"hello from Derived"</span> <span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-void">void</span> <span class="token function">bye</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        cout <span class="token operator">&lt;&lt;</span> <span class="token string">"bye from Derived"</span> <span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    Derived d<span class="token punctuation">;</span>
    Base<span class="token operator">*</span> b <span class="token operator">=</span> <span class="token operator">&amp;</span>d<span class="token punctuation">;</span>
    b<span class="token operator">-&gt;</span><span class="token function">hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//è¾“å‡ºï¼š</span>
Base constructor <span class="token comment">//å…ˆæ„é€ åŸºç±»</span>
hello from Base <span class="token comment">//åŸºç±»æ„é€ é‡Œçš„hello()è°ƒç”¨åŸºç±»çš„hello()è™šå‡½æ•°</span>
Derived constructor <span class="token comment">//å†æ„é€ æ´¾ç”Ÿç±»</span>
hello from Derived <span class="token comment">//æ´¾ç”Ÿç±»æ„é€ é‡Œçš„hello()è°ƒç”¨æ´¾ç”Ÿç±»çš„hello()è™šå‡½æ•°</span>
hello from Derived <span class="token comment">//æŒ‡é’ˆæŒ‡å‘æ´¾ç”Ÿç±»å¯¹è±¡ï¼Œè°ƒç”¨æ´¾ç”Ÿç±»çš„hello()è™šå‡½æ•°</span>
Derived destructor <span class="token comment">//å…ˆææ„æ´¾ç”Ÿç±»</span>
bye from Derived <span class="token comment">//æ´¾ç”Ÿç±»ææ„é‡Œçš„bye()è°ƒç”¨æ´¾ç”Ÿç±»çš„bye()è™šå‡½æ•°</span>
Base destructor <span class="token comment">//å†ææ„åŸºç±»</span>
bye from Base <span class="token comment">//åŸºç±»ææ„é‡Œçš„bye()è°ƒç”¨åŸºç±»çš„bye()è™šå‡½æ•°</span>
</code></pre><h4 id="è™šå‡½æ•°çš„è®¿é—®æƒé™">è™šå‡½æ•°çš„è®¿é—®æƒé™ </h4>
<p>è™šå‡½æ•°çš„è®¿é—®æƒé™æ ¹æ®<strong>æŒ‡é’ˆç±»å‹</strong>ç¡®å®š</p>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">Base</span> <span class="token punctuation">{</span>
<span class="token keyword keyword-private">private</span><span class="token operator">:</span>
    <span class="token keyword keyword-virtual">virtual</span> <span class="token keyword keyword-void">void</span> <span class="token function">fun1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> cout<span class="token operator">&lt;&lt;</span>    <span class="token string">"Base::fun1()"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token keyword keyword-void">void</span> <span class="token function">fun2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Base::fun2()"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">Derived</span><span class="token operator">:</span> <span class="token base-clause"><span class="token keyword keyword-public">public</span> <span class="token class-name">Base</span></span> <span class="token punctuation">{</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token keyword keyword-virtual">virtual</span> <span class="token keyword keyword-void">void</span> <span class="token function">fun1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> cout<span class="token operator">&lt;&lt;</span> <span class="token string">"Derived:fun1()"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token keyword keyword-private">private</span><span class="token operator">:</span>
    <span class="token keyword keyword-void">void</span> <span class="token function">fun2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Derived::fun2()"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

Derived d<span class="token punctuation">;</span>
Base <span class="token operator">*</span>pBase <span class="token operator">=</span> <span class="token operator">&amp;</span>d<span class="token punctuation">;</span>
pBase<span class="token operator">-&gt;</span><span class="token function">fun1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ç¼–è¯‘å‡ºé”™ï¼Œfun2()æ˜¯Baseçš„ç§æœ‰æˆå‘˜</span>
pBase<span class="token operator">-&gt;</span><span class="token function">fun2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ç¼–è¯‘é€šè¿‡ï¼Œæ­£å¸¸è°ƒç”¨Derived::fun2()</span>
</code></pre><h3 id="äºŒè™šææ„å‡½æ•°">ï¼ˆäºŒï¼‰è™šææ„å‡½æ•° </h3>
<p>é€šè¿‡åŸºç±»çš„æŒ‡é’ˆåˆ é™¤æ´¾ç”Ÿç±»å¯¹è±¡æ—¶ï¼Œé€šå¸¸æƒ…å†µä¸‹åªè°ƒç”¨åŸºç±»çš„ææ„å‡½æ•°ã€‚</p>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">Son</span><span class="token punctuation">{</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token operator">~</span><span class="token function">Son</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> cout<span class="token operator">&lt;&lt;</span><span class="token string">"bye from Son"</span><span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword keyword-class">class</span> <span class="token class-name">Grandson</span><span class="token operator">:</span> <span class="token base-clause"><span class="token keyword keyword-public">public</span> <span class="token class-name">Son</span></span><span class="token punctuation">{</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token operator">~</span><span class="token function">Grandson</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span> cout<span class="token operator">&lt;&lt;</span><span class="token string">"bye from Grandson"</span><span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    Son <span class="token operator">*</span>pSon<span class="token punctuation">;</span>
    pSon <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> Grandson<span class="token punctuation">;</span>
    <span class="token keyword keyword-delete">delete</span> pSon<span class="token punctuation">;</span>
    <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//è¾“å‡ºï¼š</span>
bye from Son <span class="token comment">//æ²¡æœ‰æ‰§è¡ŒGrandson::~Grandson()</span>
</code></pre><p>ä½†æœ‰æ—¶ï¼Œåˆ é™¤ä¸€ä¸ªæ´¾ç”Ÿç±»çš„å¯¹è±¡æ—¶ï¼Œåº”è¯¥å…ˆè°ƒç”¨æ´¾ç”Ÿç±»çš„ææ„å‡½æ•°ï¼Œç„¶åè°ƒç”¨åŸºç±»çš„ææ„å‡½æ•°ï¼Œ<strong>ç‰¹åˆ«æ˜¯æ´¾ç”Ÿç±»ä¸­æœ‰åŠ¨æ€åˆ†é…çš„å†…å­˜éœ€è¦åœ¨ææ„å‡½æ•°ä¸­é‡Šæ”¾</strong></p>
<p>è§£å†³æ–¹æ³•ï¼šæŠŠåŸºç±»çš„ææ„å‡½æ•°å£°æ˜ä¸º<code>virtual</code></p>
<ul>
<li>æ´¾ç”Ÿç±»çš„ææ„å‡½æ•°å¯ä»¥ä¸å£°æ˜ä¸º<code>virtual</code></li>
<li>ä¸€èˆ¬æ¥è¯´ï¼Œä¸€ä¸ªç±»å¦‚æœå®šä¹‰äº†è™šå‡½æ•°ï¼Œ<strong>åˆ™åº”è¯¥å°†ææ„å‡½æ•°ä¹Ÿå®šä¹‰æˆè™šå‡½æ•°</strong></li>
</ul>
<p>ç¤ºä¾‹ä¿®æ”¹åï¼š</p>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">Son</span><span class="token punctuation">{</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token keyword keyword-virtual">virtual</span> <span class="token operator">~</span><span class="token function">Son</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> cout<span class="token operator">&lt;&lt;</span><span class="token string">"bye from Son"</span><span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword keyword-class">class</span> <span class="token class-name">Grandson</span><span class="token operator">:</span> <span class="token base-clause"><span class="token keyword keyword-public">public</span> <span class="token class-name">Son</span></span><span class="token punctuation">{</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token operator">~</span><span class="token function">Grandson</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span> cout<span class="token operator">&lt;&lt;</span><span class="token string">"bye from Grandson"</span><span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    Son <span class="token operator">*</span>pSon<span class="token punctuation">;</span>
    pSon <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> Grandson<span class="token punctuation">;</span>
    <span class="token keyword keyword-delete">delete</span> pSon<span class="token punctuation">;</span>
    <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//è¾“å‡ºï¼š</span>
bye from Grandson <span class="token comment">//æ‰§è¡Œäº†ï¼Œä¸”å…ˆæ‰§è¡Œäº†æ´¾ç”Ÿç±»ææ„å‡½æ•°Grandson::~Grandson()</span>
bye from Son
</code></pre><h3 id="ä¸‰çº¯è™šå‡½æ•°å’ŒæŠ½è±¡ç±»">ï¼ˆä¸‰ï¼‰çº¯è™šå‡½æ•°å’ŒæŠ½è±¡ç±» </h3>
<p><strong>çº¯è™šå‡½æ•°</strong>ï¼šåœ¨ç±»å®šä¹‰ä¸­ï¼Œå¸¦æœ‰çº¯è¯´æ˜ç¬¦<code>= 0</code>çš„æˆå‘˜å‡½æ•°ï¼Œç§°ä¸ºçº¯è™šå‡½æ•°ã€‚</p>
<ul>
<li>ç”±äºè¯­æ³•é™åˆ¶ï¼Œçº¯è¯´æ˜ç¬¦<code>= 0</code>å’Œå‡½æ•°ä½“æ— æ³•åŒæ—¶å‡ºç°ï¼Œæ‰€ä»¥çº¯è™šå‡½æ•°ä¸èƒ½åœ¨ç±»å†…å®šä¹‰ã€‚</li>
<li>å¦‚æœä¸€ä¸ªçº¯è™šå‡½æ•°å§‹ç»ˆä¸ä¼šè¢«è°ƒç”¨ï¼Œå°±æ— éœ€ç»™å‡ºå®ƒçš„å®šä¹‰ã€‚</li>
<li>å¯ä»¥ä¸ºçº¯è™šå‡½æ•°æä¾›ç±»å¤–å®šä¹‰ã€‚ç‰¹åˆ«çš„ï¼Œå¦‚æœè™šæ„å‡½æ•°æ˜¯çº¯è™šå‡½æ•°ï¼Œåˆ™<strong>å¿…é¡»ç»™å‡ºç±»å¤–å®šä¹‰</strong>ã€‚</li>
</ul>
<p><strong>æŠ½è±¡ç±»</strong>ï¼šå«æœ‰çº¯è™šå‡½æ•°çš„ç±»ï¼Œç§°ä¸ºæŠ½è±¡ç±»ã€‚</p>
<ul>
<li>æŠ½è±¡ç±»<strong>ä¸èƒ½å®ä¾‹åŒ–</strong>ï¼Œåªèƒ½ä½œä¸ºåŸºç±»è¢«æ´¾ç”Ÿã€‚</li>
<li>æŠ½è±¡ç±»çš„æŒ‡é’ˆå’Œå¼•ç”¨å¯ä»¥æŒ‡å‘ç”±æŠ½è±¡ç±»æ´¾ç”Ÿå‡ºæ¥çš„ç±»çš„å¯¹è±¡ã€‚</li>
<li>åœ¨æŠ½è±¡ç±»çš„<strong>æˆå‘˜å‡½æ•°</strong>å†…å¯ä»¥è°ƒç”¨çº¯è™šå‡½æ•°ï¼Œä½†åœ¨æ„é€ å‡½æ•°æˆ–ææ„å‡½æ•°å†…éƒ¨ä¸èƒ½è°ƒç”¨çº¯è™šå‡½æ•°ã€‚</li>
<li>å¦‚æœä¸€ä¸ªç±»ä»æŠ½è±¡ç±»æ´¾ç”Ÿè€Œæ¥ï¼Œé‚£ä¹ˆ<strong>å½“ä¸”ä»…å½“å®ƒå®ç°äº†åŸºç±»ä¸­çš„æ‰€æœ‰çº¯è™šå‡½æ•°</strong>ï¼Œå®ƒæ‰èƒ½æˆä¸ºéæŠ½è±¡ç±»ã€‚</li>
<li>æŠ½è±¡ç±»ç»å¸¸ä½œä¸ºä¸€ä¸ª<strong>ä¸€èˆ¬æ€§æ¦‚å¿µ</strong>è€Œå­˜åœ¨ï¼›å®ƒä¼šåŒ…å«è‹¥å¹²ä¸ªå…·ä½“çš„æ´¾ç”Ÿç±»ä½œä¸ºè¿™ä¸ªä¸€èˆ¬æ€§æ¦‚å¿µçš„å…·ä½“è§£é‡Šã€‚</li>
<li>æŠ½è±¡ç±»çš„çº¯è™šå‡½æ•°åˆ™ä½œä¸ºä¸€ä¸ªçº¦æŸï¼Œè¦æ±‚å…¶æ´¾ç”Ÿç±»å¿…é¡»å®ç°è¿™äº›çº¯è™šå‡½æ•°çš„å®šä¹‰ã€‚</li>
</ul>
<p><strong>ç¤ºä¾‹</strong>ï¼š</p>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">Shape</span><span class="token punctuation">{</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token keyword keyword-virtual">virtual</span> <span class="token keyword keyword-double">double</span> <span class="token function">area</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">//çº¯è™šå‡½æ•°</span>
    <span class="token keyword keyword-virtual">virtual</span> <span class="token keyword keyword-double">double</span> <span class="token function">perimeter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">//çº¯è™šå‡½æ•°</span>
    <span class="token keyword keyword-virtual">virtual</span> <span class="token keyword keyword-void">void</span> <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">//çº¯è™šå‡½æ•°</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">Circle</span><span class="token operator">:</span> <span class="token base-clause"><span class="token keyword keyword-public">public</span> <span class="token class-name">Shape</span></span><span class="token punctuation">{</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token keyword keyword-double">double</span> radius<span class="token punctuation">;</span>
    <span class="token function">Circle</span><span class="token punctuation">(</span><span class="token keyword keyword-double">double</span> r<span class="token punctuation">)</span><span class="token operator">:</span><span class="token function">radius</span><span class="token punctuation">(</span>r<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-double">double</span> <span class="token function">area</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword keyword-return">return</span> <span class="token number">3.1415926</span><span class="token operator">*</span>radius<span class="token operator">*</span>radius<span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-double">double</span> <span class="token function">perimeter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword keyword-return">return</span> <span class="token number">2</span><span class="token operator">*</span><span class="token number">3.1415926</span><span class="token operator">*</span>radius<span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-void">void</span> <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Drawing a circle"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">Rectangle</span><span class="token operator">:</span> <span class="token base-clause"><span class="token keyword keyword-public">public</span> <span class="token class-name">Shape</span></span><span class="token punctuation">{</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token keyword keyword-double">double</span> length<span class="token punctuation">,</span> width<span class="token punctuation">;</span>
    <span class="token function">Rectangle</span><span class="token punctuation">(</span><span class="token keyword keyword-double">double</span> l<span class="token punctuation">,</span> <span class="token keyword keyword-double">double</span> w<span class="token punctuation">)</span><span class="token operator">:</span><span class="token function">length</span><span class="token punctuation">(</span>l<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">width</span><span class="token punctuation">(</span>w<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-double">double</span> <span class="token function">area</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword keyword-return">return</span> length<span class="token operator">*</span>width<span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-double">double</span> <span class="token function">perimeter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword keyword-return">return</span> <span class="token number">2</span><span class="token operator">*</span><span class="token punctuation">(</span>length<span class="token operator">+</span>width<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-void">void</span> <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Drawing a rectangle"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    Shape <span class="token operator">*</span>pShape<span class="token punctuation">;</span> <span class="token comment">//æŠ½è±¡ç±»å¯ä»¥ä½œä¸ºæŒ‡é’ˆæˆ–å¼•ç”¨</span>
    Circle <span class="token function">c</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    pShape <span class="token operator">=</span> <span class="token operator">&amp;</span>c<span class="token punctuation">;</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Area: "</span> <span class="token operator">&lt;&lt;</span> pShape<span class="token operator">-&gt;</span><span class="token function">area</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Perimeter: "</span> <span class="token operator">&lt;&lt;</span> pShape<span class="token operator">-&gt;</span><span class="token function">perimeter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    pShape<span class="token operator">-&gt;</span><span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><h3 id="å››å¤šæ€å’Œå¯æ‰©å±•æ€§">ï¼ˆå››ï¼‰å¤šæ€å’Œå¯æ‰©å±•æ€§ </h3>
<p><strong>å¤šæ€çš„ä½œç”¨</strong></p>
<ul>
<li>çˆ¶ç±»å®šä¹‰å…±åŒ<strong>æ¥å£</strong>ï¼Œå­ç±»ä¸åŒå®ç°</li>
<li>é€šè¿‡çˆ¶ç±»ä»¥ç›¸åŒçš„æ–¹å¼æ“ä½œä¸åŒå­ç±»çš„è¡Œä¸º</li>
</ul>
<p><strong>å¯æ‰©å±•æ€§</strong></p>
<ul>
<li>å¢åŠ æ–°çš„å­ç±»ï¼Œä¸å½±å“çˆ¶ç±»</li>
<li>å¢åŠ æ–°çš„çˆ¶ç±»ï¼Œä¸å½±å“å­ç±»</li>
</ul>
<p><strong>å¸¸ç”¨æŠ€å·§</strong></p>
<p>ä½¿ç”¨åŸºç±»æŒ‡é’ˆæ•°ç»„å­˜æ”¾æŒ‡å‘å„ç§æ´¾ç”Ÿç±»å¯¹è±¡çš„æŒ‡é’ˆï¼Œç„¶åéå†è¯¥æ•°ç»„ï¼Œå°±èƒ½å¯¹å„ä¸ªæ´¾ç”Ÿç±»å¯¹è±¡åšå„ç§æ“ä½œã€‚</p>
<h3 id="äº”è¿è¡Œæ—¶ç±»å‹è¯†åˆ«rtti">ï¼ˆäº”ï¼‰è¿è¡Œæ—¶ç±»å‹è¯†åˆ«ï¼ˆRTTIï¼‰ </h3>
<p>å½“æ´¾ç”Ÿç±»æœ‰è‡ªå·±ç‹¬æœ‰çš„æˆå‘˜å‡½æ•°æ—¶ï¼Œå¦‚ä½•åœ¨è¿è¡Œæ—¶åŠ¨æ€è°ƒç”¨ï¼Ÿ</p>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token keyword keyword-virtual">virtual</span> string <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> <span class="token string">"animal"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">Cat</span> <span class="token operator">:</span> <span class="token base-clause"><span class="token keyword keyword-public">public</span> <span class="token class-name">Animal</span></span> <span class="token punctuation">{</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    string <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> <span class="token string">"cat"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-void">void</span> <span class="token function">meow</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">Dog</span> <span class="token operator">:</span> <span class="token base-clause"><span class="token keyword keyword-public">public</span> <span class="token class-name">Animal</span></span> <span class="token punctuation">{</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    string <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> <span class="token string">"dog"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-void">void</span> <span class="token function">bark</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword keyword-const">const</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><p>æ£€æŸ¥ä¸€ä¸ª<code>Animal</code>æ˜¯ä¸æ˜¯<code>Dog</code>ï¼Œå¦‚æœæ˜¯çš„è¯å°±è®©å®ƒbark()ï¼Œå¦åˆ™ä»€ä¹ˆéƒ½ä¸åšã€‚å¦‚ä½•å®ç°ï¼Ÿ</p>
<p>åˆ©ç”¨è¿è¡Œæ—¶ç±»å‹è¯†åˆ«<strong>RTTI</strong>æœºåˆ¶ã€‚</p>
<ul>
<li><code>typeid()</code>å‡½æ•°ï¼šè¿”å›ä¸€ä¸ª<code>type_info</code>å¯¹è±¡ï¼ŒåŒ…å«äº†å¯¹è±¡çš„ç±»å‹ä¿¡æ¯ã€‚</li>
<li>å¯¹äºç›¸åŒâ€œè¡¨è¾¾å¼â€çš„ç±»å‹æˆ–ç›¸åŒâ€œç±»å‹â€ï¼Œ<code>typeid</code>è¿ç®—ç¬¦æ€»æ˜¯å¾—åˆ°ç›¸åŒçš„å€¼ï¼ˆå³<code>==</code>ä¸ºçœŸï¼‰</li>
<li>å¯ä»¥å¾—åˆ°æ´¾ç”Ÿç±»å¯¹è±¡çš„è¿è¡Œæ—¶â€œå®é™…â€ç±»å‹</li>
</ul>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;typeinfo&gt;</span></span>

â€¦â€¦

<span class="token keyword keyword-void">void</span> <span class="token function">tryBark</span><span class="token punctuation">(</span><span class="token keyword keyword-const">const</span> Animal<span class="token operator">*</span> a<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span><span class="token keyword keyword-typeid">typeid</span><span class="token punctuation">(</span><span class="token operator">*</span>a<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token keyword keyword-typeid">typeid</span><span class="token punctuation">(</span>Dog<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword keyword-const">const</span> Dog<span class="token operator">*</span> dog <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword keyword-const">const</span> Dog<span class="token operator">*</span><span class="token punctuation">)</span>a<span class="token punctuation">;</span>
        og<span class="token operator">-&gt;</span><span class="token function">bark</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><p>C++åªå…è®¸æ‹¥æœ‰è™šå‡½æ•°çš„ç±»ä½¿ç”¨RTTIã€‚</p>
<h2 id="å…«-ç±»å‹è½¬æ¢ä¸ç§»åŠ¨è¯­ä¹‰">å…«ã€ç±»å‹è½¬æ¢ä¸ç§»åŠ¨è¯­ä¹‰ </h2>
<h3 id="ä¸€cé£æ ¼çš„ç±»å‹è½¬æ¢">ï¼ˆä¸€ï¼‰c++é£æ ¼çš„ç±»å‹è½¬æ¢ </h3>
<h4 id="cé£æ ¼çš„ç±»å‹è½¬æ¢">cé£æ ¼çš„ç±»å‹è½¬æ¢ </h4>
<ol>
<li>å¼ºåˆ¶ç±»å‹è½¬æ¢ï¼š<code>(type)value</code></li>
<li>é™æ€ç±»å‹è½¬æ¢ï¼š<code>type(value)</code></li>
</ol>
<h4 id="cé£æ ¼çš„ç±»å‹è½¬æ¢-1">c++é£æ ¼çš„ç±»å‹è½¬æ¢ </h4>
<p><strong>ï¼ˆ1ï¼‰åŸºæœ¬å®‰å…¨çš„è½¬æ¢ï¼Œæ¶‰åŠæŒ‡é’ˆ/å¼•ç”¨</strong><br>
<code>static_cast&lt;type&gt;(value)</code></p>
<ul>
<li>çª„ç¼©è½¬æ¢ï¼šä»ä¸€ä¸ªèŒƒå›´è¾ƒå¤§çš„ç±»å‹è½¬æ¢descnameä¸ºè¾ƒå°çš„ç±»å‹ï¼Œå¦‚<code>int</code>åˆ°<code>char</code></li>
<li>æšä¸¾çš„è½¬æ¢</li>
<li>å°†åŸºç±»æŒ‡é’ˆæˆ–å¼•ç”¨è½¬ä¸ºæ´¾ç”Ÿç±»æŒ‡é’ˆæˆ–å¼•ç”¨ã€‚<br>
å‰æï¼šå¿…é¡»ä¿è¯åŸºç±»æŒ‡é’ˆï¼ˆå¼•ç”¨ï¼‰æŒ‡å‘çš„ï¼ˆç»‘å®šçš„ï¼‰ç¡®å®æ˜¯é‚£ä¸ªæ´¾ç”Ÿç±»çš„å¯¹è±¡ã€‚</li>
</ul>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">Base</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword keyword-class">class</span> <span class="token class-name">Derived</span><span class="token operator">:</span> <span class="token base-clause"><span class="token keyword keyword-public">public</span> <span class="token class-name">Base</span></span> <span class="token punctuation">{</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
Base<span class="token operator">*</span> bptr <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> Derived<span class="token punctuation">;</span>
Derived<span class="token operator">*</span> dptr <span class="token operator">=</span> <span class="token generic-function"><span class="token function">static_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span>Derived<span class="token operator">*</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>ptr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// é™æ€ç±»å‹è½¬æ¢</span>
</code></pre><p><strong>ï¼ˆ2ï¼‰éå¸¸å®‰å…¨çš„è½¬æ¢ï¼Œä¸“ç”¨äºç»§æ‰¿å’Œå¤šæ€</strong><br>
<code>dynamic_cast&lt;type&gt;(value)</code></p>
<ul>
<li>å…·æœ‰è™šå‡½æ•°çš„ç±»å¯ä»¥è¿›è¡Œè¿è¡Œæ—¶ç±»å‹è¯†åˆ«ï¼ˆRTTIï¼‰ï¼Œä»è€Œå¸®åŠ©ç¨‹åºå‘˜ç¡®å®šç±»å‹ä¿¡æ¯ã€‚</li>
<li>åŸºç±»æŒ‡é’ˆå¯ä»¥ç›´æ¥æŒ‡å‘æ´¾ç”Ÿç±»å¯¹è±¡ï¼Œä¸ç”¨åŠ å¼ºåˆ¶è½¬æ¢ã€‚</li>
<li>æ´¾ç”Ÿç±»æŒ‡é’ˆè‹¥æƒ³æŒ‡å‘åŸºç±»å¯¹è±¡ï¼Œåˆ™å¯ä½¿ç”¨<code>dynamic_cast</code>è¿›è¡Œè½¬æ¢ã€‚<strong>å¦‚æœå®ƒå†…éƒ¨çš„å¯¹è±¡ä¸æ˜¯è¿™ä¸ªç±»å‹çš„æ´¾ç”Ÿç±»ï¼Œé‚£ä¹ˆä¼šè¿”å›<code>nullptr</code></strong></li>
</ul>
<p>ç¤ºä¾‹ï¼šä¸‹é¢æ˜¯ä¸€ä¸ªä»åŸºç±»æŒ‡é’ˆï¼ˆ<code>A*</code>ï¼‰è½¬æ¢ä¸ºæ´¾ç”Ÿç±»æŒ‡é’ˆï¼ˆ<code>B*ï¼ŒC*ï¼ŒD*</code>ï¼‰çš„ä¾‹å­ã€‚</p>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">A</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword keyword-class">class</span> <span class="token class-name">B</span><span class="token operator">:</span> <span class="token base-clause"><span class="token keyword keyword-public">public</span> <span class="token class-name">A</span></span> <span class="token punctuation">{</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword keyword-class">class</span> <span class="token class-name">C</span><span class="token operator">:</span> <span class="token base-clause"><span class="token keyword keyword-public">public</span> <span class="token class-name">B</span></span> <span class="token punctuation">{</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword keyword-class">class</span> <span class="token class-name">D</span><span class="token operator">:</span> <span class="token base-clause"><span class="token keyword keyword-public">public</span> <span class="token class-name">C</span></span> <span class="token punctuation">{</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

A<span class="token operator">*</span> aptr <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> C<span class="token punctuation">;</span>
B<span class="token operator">*</span> bptr <span class="token operator">=</span> <span class="token generic-function"><span class="token function">dynamic_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span>B<span class="token operator">*</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>aptr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è¿è¡Œæ—¶ç±»å‹è¯†åˆ«ï¼Œè½¬æ¢æˆåŠŸï¼ˆCæ˜¯ä¸€ä¸ªBï¼‰</span>
C<span class="token operator">*</span> cptr <span class="token operator">=</span> <span class="token generic-function"><span class="token function">dynamic_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span>C<span class="token operator">*</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>aptr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è¿è¡Œæ—¶ç±»å‹è¯†åˆ«ï¼Œè½¬æ¢æˆåŠŸï¼ˆCæ˜¯ä¸€ä¸ªCï¼‰</span>
D<span class="token operator">*</span> dptr <span class="token operator">=</span> <span class="token generic-function"><span class="token function">dynamic_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span>D<span class="token operator">*</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>aptr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è¿è¡Œæ—¶ç±»å‹è¯†åˆ«ï¼Œè½¬æ¢å¤±è´¥ï¼Œè¿”å›nullptrï¼ˆCä¸æ˜¯ä¸€ä¸ªDï¼‰</span>
</code></pre><p><strong>ï¼ˆ3ï¼‰æ¯”è¾ƒå±é™©çš„è½¬æ¢ï¼Œæ¶‰åŠå»åªè¯»</strong><br>
<code>const_cast&lt;type&gt;(value)</code></p>
<ul>
<li>å°†<code>const type*</code>è½¬æ¢ä¸º<code>type*</code>ï¼Œæˆ–å°†<code>const type&amp;</code>è½¬æ¢ä¸º<code>type&amp;</code>ã€‚</li>
<li>é€šå¸¸å‡ºç°åœ¨ä¸€ä¸ªåº“çš„å‡½æ•°çš„æŸä¸ªå‚æ•°å¿˜è®°äº†<code>const</code>å±æ€§ï¼Œè€Œäº‹å®ä¸Šä»£ç å¹¶æ²¡æœ‰å¯¹å®ƒåšä¿®æ”¹ï¼Œæ­¤æ—¶æˆ‘ä»¬å¯ä»¥æŠŠæ‰‹é‡Œçš„<code>const A* ptr</code>å¼ºè¡Œé€šè¿‡<code>const_cast&lt;A*&gt;(ptr)</code>æä¾›ç»™è¿™ä¸ªå‡½æ•°ã€‚</li>
</ul>
<p><strong>ï¼ˆ4ï¼‰éå¸¸å±é™©çš„è½¬æ¢ï¼ŒåŸºæœ¬ä¸ä¼šä½¿ç”¨</strong><br>
<code>reinterpret_cast&lt;type&gt;(value)</code></p>
<ul>
<li>è¿™é—¨è¯¾å¹¶ä¸ä¼šåªç”¨è¿™ä¸ªï¼Œæ•…æ è¿‡ã€‚</li>
</ul>
<h4 id="ä¾‹slicing-problem">ä¾‹ï¼šSlicing Problem </h4>
<p>åˆ†æä¸‹é¢çš„ä»£ç ï¼š</p>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">Base</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-int">int</span> bvalue_<span class="token punctuation">;</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token keyword keyword-auto">auto</span> <span class="token function">getBaseVal</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword keyword-const">const</span><span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> bvalue<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">Base</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> a<span class="token punctuation">)</span><span class="token operator">:</span><span class="token function">a_</span><span class="token punctuation">(</span>bvalue<span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-virtual">virtual</span> <span class="token operator">~</span><span class="token function">Base</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">Derived</span><span class="token operator">:</span> <span class="token base-clause"><span class="token keyword keyword-public">public</span> <span class="token class-name">Base</span></span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-int">int</span> dvalue<span class="token punctuation">;</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token keyword keyword-auto">auto</span> <span class="token function">getDerivedVal</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword keyword-const">const</span><span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> dvalue<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">Derived</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> a<span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span> b<span class="token punctuation">)</span><span class="token operator">:</span><span class="token function">Base</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">dvalue</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

Derived d1<span class="token punctuation">{</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">,</span>d2<span class="token punctuation">{</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
Base<span class="token operator">&amp;</span> b <span class="token operator">=</span> d2<span class="token punctuation">;</span>
b <span class="token operator">=</span> d1<span class="token punctuation">;</span>

std<span class="token double-colon punctuation">::</span> cout <span class="token operator">&lt;&lt;</span> d1<span class="token punctuation">.</span><span class="token function">getBaseVal</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span> <span class="token comment">// 4</span>
std<span class="token double-colon punctuation">::</span> cout <span class="token operator">&lt;&lt;</span> d2<span class="token punctuation">.</span><span class="token function">getDerivedVal</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span> <span class="token comment">// 3</span>
</code></pre><ul>
<li>æ³¨æ„åˆ°è™½ç„¶<code>b</code>å¼•ç”¨çš„æ˜¯<code>Derived</code>ç±»å‹çš„å¯¹è±¡ï¼Œä½†æ˜¯å®ƒç°åœ¨å…·æœ‰çš„ç±»å‹æ˜¯<code>Base&amp;</code>ï¼Œå› æ­¤è°ƒç”¨çš„æ˜¯<code>Base</code>çš„é»˜è®¤<code>operator=(const Base&amp;)</code>ã€‚<code>d2</code>å‘ç”Ÿäº†ä»<code>Derived</code>å‘<code>const Base&amp;</code>çš„éšå¼ç±»å‹è½¬æ¢ã€‚</li>
<li><strong>Slicing</strong>å°±æ˜¯æŒ‡ï¼Œèµ‹å€¼ä»…å‘ç”Ÿåœ¨åŸºç±»çš„åˆ‡ç‰‡ä¸Šï¼Œå¯¹æ´¾ç”Ÿç±»çš„æˆå‘˜æ²¡æœ‰äº§ç”Ÿæ•ˆæœï¼ˆå³æ²¡æœ‰è°ƒç”¨æ´¾ç”Ÿç±»çš„<code>operator=</code>ï¼‰ã€‚</li>
</ul>
<p>è§£å†³æ–¹æ³•ï¼šåœ¨åŸºç±»å®šä¹‰ä¸€ä¸ª<code>Clone</code>æ–¹æ³•ï¼Œå®ƒç»Ÿä¸€æ¥å—<code>const Base&amp;</code>ï¼Œè¿”å›<code>Base&amp;</code>ï¼Œä»è€Œå¯ä»¥æ„æˆè™šå‡½æ•°ã€‚</p>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">Base</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-int">int</span> bvalue_<span class="token punctuation">;</span>
<span class="token keyword keyword-protected">protected</span><span class="token operator">:</span>
    Base<span class="token operator">&amp;</span> <span class="token keyword keyword-operator">operator</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token keyword keyword-const">const</span> Base<span class="token operator">&amp;</span> other<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token keyword keyword-default">default</span><span class="token punctuation">;</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token keyword keyword-auto">auto</span> <span class="token function">getBaseVal</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword keyword-const">const</span><span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> bvalue<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">Base</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> a<span class="token punctuation">)</span><span class="token operator">:</span><span class="token function">a_</span><span class="token punctuation">(</span>bvalue<span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-virtual">virtual</span> <span class="token operator">~</span><span class="token function">Base</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-virtual">virtual</span> Base<span class="token operator">&amp;</span> <span class="token function">Clone</span><span class="token punctuation">(</span><span class="token keyword keyword-const">const</span> Base<span class="token operator">&amp;</span> other<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> Base<span class="token double-colon punctuation">::</span><span class="token keyword keyword-operator">operator</span><span class="token operator">=</span><span class="token punctuation">(</span>other<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è°ƒç”¨åŸºç±»çš„å¤åˆ¶æ„é€ å‡½æ•°</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">Derived</span><span class="token operator">:</span> <span class="token base-clause"><span class="token keyword keyword-public">public</span> <span class="token class-name">Base</span></span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-int">int</span> dvalue<span class="token punctuation">;</span>
    Derived<span class="token operator">&amp;</span> <span class="token keyword keyword-operator">operator</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token keyword keyword-const">const</span> Derived<span class="token operator">&amp;</span> other<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token keyword keyword-default">default</span><span class="token punctuation">;</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token keyword keyword-auto">auto</span> <span class="token function">getDerivedVal</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword keyword-const">const</span><span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> dvalue<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">Derived</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> a<span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span> b<span class="token punctuation">)</span><span class="token operator">:</span><span class="token function">Base</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">dvalue</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token punctuation">}</span>
    Base<span class="token operator">&amp;</span> <span class="token function">Clone</span><span class="token punctuation">(</span><span class="token keyword keyword-const">const</span> Base<span class="token operator">&amp;</span> other<span class="token punctuation">)</span> <span class="token keyword keyword-override">override</span><span class="token punctuation">{</span> <span class="token comment">//è™šå‡½æ•°å¤šæ€</span>
        <span class="token keyword keyword-auto">auto</span> DerivedRef <span class="token operator">=</span> <span class="token generic-function"><span class="token function">dynamic_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span>Derived<span class="token operator">&amp;</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>other<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-return">return</span> Derived<span class="token double-colon punctuation">::</span><span class="token keyword keyword-operator">operator</span><span class="token operator">=</span><span class="token punctuation">(</span>DerivedRef<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è°ƒç”¨æ´¾ç”Ÿç±»çš„å¤åˆ¶æ„é€ å‡½æ•°</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

Derived d1<span class="token punctuation">{</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">,</span>d2<span class="token punctuation">{</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
Base<span class="token operator">&amp;</span> b <span class="token operator">=</span> d2<span class="token punctuation">;</span>
b <span class="token operator">=</span> d1<span class="token punctuation">;</span> <span class="token comment">//è°ƒç”¨çš„æ˜¯Derivedç±»çš„Cloneæ–¹æ³•ï¼ˆå¤šæ€æœºåˆ¶ï¼‰</span>

std<span class="token double-colon punctuation">::</span> cout <span class="token operator">&lt;&lt;</span> d1<span class="token punctuation">.</span><span class="token function">getBaseVal</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span> <span class="token comment">// 4</span>
std<span class="token double-colon punctuation">::</span> cout <span class="token operator">&lt;&lt;</span> d2<span class="token punctuation">.</span><span class="token function">getDerivedVal</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span> <span class="token comment">// 5</span>
</code></pre><h3 id="äºŒç§»åŠ¨è¯­ä¹‰åˆæ­¥">ï¼ˆäºŒï¼‰ç§»åŠ¨è¯­ä¹‰åˆæ­¥ </h3>
<h4 id="å·¦å€¼ä¸å³å€¼">å·¦å€¼ä¸å³å€¼ </h4>
<ul>
<li><strong>å·¦å€¼</strong>ï¼šå¯ä»¥å‡ºç°åœ¨èµ‹å€¼å·å·¦è¾¹çš„è¡¨è¾¾å¼ï¼Œå¦‚å˜é‡ã€æ•°ç»„å…ƒç´ ã€å‡½æ•°è°ƒç”¨çš„ç»“æœç­‰ã€‚</li>
<li><strong>å³å€¼</strong>ï¼šä¸èƒ½å‡ºç°åœ¨èµ‹å€¼å·å·¦è¾¹çš„è¡¨è¾¾å¼ï¼Œå¦‚å­—é¢å€¼ã€å¸¸é‡ã€è¡¨è¾¾å¼è¿ç®—ç»“æœç­‰ï¼ˆåŒ…æ‹¬<strong>äº¡å€¼</strong>å’Œ<strong>çº¯å³å€¼</strong>ï¼‰</li>
</ul>
<h4 id="ç§»åŠ¨è¯­ä¹‰">ç§»åŠ¨è¯­ä¹‰ </h4>
<ul>
<li>å½“ä¸€ä¸ªå¯¹è±¡è¢«ç§»åŠ¨æ—¶ï¼Œå…¶èµ„æºçš„æ‰€æœ‰æƒè½¬ç§»åˆ°å¦ä¸€ä¸ªå¯¹è±¡ï¼Œè€ŒåŸå¯¹è±¡è¢«é”€æ¯ã€‚</li>
</ul>
<p><strong>ä¾‹é¢˜1ï¼šç®€å•çš„ç§»åŠ¨è¯­ä¹‰</strong></p>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>

<span class="token keyword keyword-struct">struct</span> <span class="token class-name">A</span> <span class="token punctuation">{</span>
    <span class="token function">A</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token keyword keyword-default">default</span><span class="token punctuation">;</span>
    <span class="token function">A</span><span class="token punctuation">(</span><span class="token keyword keyword-const">const</span> A<span class="token operator">&amp;</span> other<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Copy A\n"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-struct">struct</span> <span class="token class-name">B</span> <span class="token punctuation">{</span>
    A<span class="token operator">*</span> a<span class="token punctuation">;</span>
    <span class="token function">B</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">:</span> a<span class="token punctuation">{</span><span class="token keyword keyword-new">new</span> A<span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">}</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>
    <span class="token function">B</span><span class="token punctuation">(</span><span class="token keyword keyword-const">const</span> B<span class="token operator">&amp;</span> other<span class="token punctuation">)</span> <span class="token operator">:</span> a<span class="token punctuation">{</span><span class="token keyword keyword-new">new</span> <span class="token function">A</span><span class="token punctuation">(</span><span class="token operator">*</span>other<span class="token punctuation">.</span>a<span class="token punctuation">)</span><span class="token punctuation">}</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>
    <span class="token function">B</span><span class="token punctuation">(</span>B<span class="token operator">&amp;&amp;</span> other<span class="token punctuation">)</span> <span class="token keyword keyword-noexcept">noexcept</span><span class="token operator">:</span> <span class="token function">a</span><span class="token punctuation">(</span>other<span class="token punctuation">.</span>a<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        other<span class="token punctuation">.</span>a <span class="token operator">=</span> <span class="token keyword keyword-nullptr">nullptr</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token operator">~</span><span class="token function">B</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword keyword-delete">delete</span> a<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-struct">struct</span> <span class="token class-name">C</span> <span class="token punctuation">{</span>
    B b<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>


<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">{</span>
        B b<span class="token punctuation">;</span>
        B <span class="token function">b_copied</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"---\n"</span><span class="token punctuation">;</span>
    <span class="token punctuation">{</span>
        B <span class="token function">b_moved</span><span class="token punctuation">(</span>C<span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">.</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"---\n"</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><p><strong>ä¾‹é¢˜2ï¼šå®ç°å­—ç¬¦ä¸²çš„ç§»åŠ¨èµ‹å€¼</strong></p>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;cassert&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;cstring&gt;</span></span>
<span class="token keyword keyword-using">using</span> std<span class="token double-colon punctuation">::</span>cout<span class="token punctuation">,</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
<span class="token keyword keyword-class">class</span> <span class="token class-name">String</span><span class="token punctuation">{</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token keyword keyword-int">int</span> len<span class="token punctuation">;</span>
    <span class="token keyword keyword-char">char</span><span class="token operator">*</span> str<span class="token punctuation">;</span>
    <span class="token function">String</span><span class="token punctuation">(</span><span class="token keyword keyword-const">const</span> <span class="token keyword keyword-char">char</span><span class="token operator">*</span> x<span class="token punctuation">)</span><span class="token punctuation">{</span>
        len <span class="token operator">=</span> <span class="token function">strlen</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>
        str <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token keyword keyword-char">char</span><span class="token punctuation">[</span>len <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token function">strcpy</span><span class="token punctuation">(</span>str<span class="token punctuation">,</span> x<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
   String<span class="token operator">&amp;</span> <span class="token keyword keyword-operator">operator</span><span class="token operator">=</span><span class="token punctuation">(</span>String<span class="token operator">&amp;&amp;</span> s<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span><span class="token keyword keyword-this">this</span> <span class="token operator">==</span> <span class="token operator">&amp;</span>s<span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword keyword-return">return</span> <span class="token operator">*</span><span class="token keyword keyword-this">this</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword keyword-delete">delete</span><span class="token punctuation">[</span><span class="token punctuation">]</span> str<span class="token punctuation">;</span>
        len <span class="token operator">=</span> s<span class="token punctuation">.</span>len<span class="token punctuation">;</span>
        str <span class="token operator">=</span> s<span class="token punctuation">.</span>str<span class="token punctuation">;</span>
        s<span class="token punctuation">.</span>str <span class="token operator">=</span> <span class="token keyword keyword-nullptr">nullptr</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-return">return</span> <span class="token operator">*</span><span class="token keyword keyword-this">this</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    String<span class="token operator">&amp;</span> <span class="token keyword keyword-operator">operator</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token keyword keyword-const">const</span> String<span class="token operator">&amp;</span> s<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span><span class="token keyword keyword-this">this</span> <span class="token operator">==</span> <span class="token operator">&amp;</span>s<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-return">return</span> <span class="token operator">*</span><span class="token keyword keyword-this">this</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword keyword-delete">delete</span><span class="token punctuation">[</span><span class="token punctuation">]</span> str<span class="token punctuation">;</span>
        len <span class="token operator">=</span> s<span class="token punctuation">.</span>len<span class="token punctuation">;</span>
        str <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token keyword keyword-char">char</span><span class="token punctuation">[</span>len <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token function">strcpy</span><span class="token punctuation">(</span>str<span class="token punctuation">,</span> s<span class="token punctuation">.</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-return">return</span> <span class="token operator">*</span><span class="token keyword keyword-this">this</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token operator">~</span><span class="token function">String</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword keyword-delete">delete</span><span class="token punctuation">[</span><span class="token punctuation">]</span> str<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>    
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-int">int</span> newCount<span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword keyword-int">int</span> nowUsed<span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">//ä¸‹åˆ—ä»£ç æ˜¯å†…å­˜åˆ†é…è®¡æ•°å™¨çš„å®ç°ï¼Œä¸ç”¨ç®¡</span>
<span class="token keyword keyword-void">void</span><span class="token operator">*</span> <span class="token keyword keyword-operator">operator</span> <span class="token keyword keyword-new">new</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">(</span>std<span class="token double-colon punctuation">::</span>size_t size<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span><span class="token keyword keyword-void">void</span><span class="token operator">*</span> ptr <span class="token operator">=</span> std<span class="token double-colon punctuation">::</span><span class="token function">malloc</span><span class="token punctuation">(</span>size<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        newCount<span class="token operator">++</span><span class="token punctuation">;</span>
        nowUsed<span class="token operator">++</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-return">return</span> ptr<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-throw">throw</span> std<span class="token double-colon punctuation">::</span><span class="token function">bad_alloc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword keyword-void">void</span> <span class="token keyword keyword-operator">operator</span> <span class="token keyword keyword-delete">delete</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token keyword keyword-void">void</span><span class="token operator">*</span> ptr<span class="token punctuation">)</span> <span class="token keyword keyword-noexcept">noexcept</span> <span class="token punctuation">{</span>
    std<span class="token double-colon punctuation">::</span><span class="token function">free</span><span class="token punctuation">(</span>ptr<span class="token punctuation">)</span><span class="token punctuation">;</span>
    nowUsed<span class="token operator">--</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token punctuation">{</span>
    String <span class="token function">a</span><span class="token punctuation">(</span><span class="token string">"Hello"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    String <span class="token function">b</span><span class="token punctuation">(</span><span class="token string">"World"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    String <span class="token function">c</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    c <span class="token operator">=</span> <span class="token function">String</span><span class="token punctuation">(</span><span class="token string">"Hi"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    cout <span class="token operator">&lt;&lt;</span> c<span class="token punctuation">.</span>str <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    c <span class="token operator">=</span> a<span class="token punctuation">;</span>
    cout <span class="token operator">&lt;&lt;</span> c<span class="token punctuation">.</span>str <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    cout <span class="token operator">&lt;&lt;</span> a<span class="token punctuation">.</span>str <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    <span class="token punctuation">(</span>c <span class="token operator">=</span> a<span class="token punctuation">)</span> <span class="token operator">=</span> b<span class="token punctuation">;</span>
    cout <span class="token operator">&lt;&lt;</span> c<span class="token punctuation">.</span>str <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    cout <span class="token operator">&lt;&lt;</span> b<span class="token punctuation">.</span>str <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    <span class="token punctuation">(</span>c <span class="token operator">=</span> <span class="token string">"Hi"</span><span class="token punctuation">)</span> <span class="token operator">=</span> a<span class="token punctuation">;</span>
    cout <span class="token operator">&lt;&lt;</span> c<span class="token punctuation">.</span>str <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// assert: è‹¥æ¡ä»¶ä¸æ»¡è¶³ï¼Œåˆ™è¿è¡Œæ—¶é”™è¯¯</span>
    <span class="token comment">// æ•´ä»½ä»£ç åº”å½“åˆ†é… 9 æ¬¡å†…å­˜ï¼Œä¸”ä¸åº”å†…å­˜æ³„æ¼</span>
    <span class="token function">assert</span><span class="token punctuation">(</span>newCount <span class="token operator">==</span> <span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">assert</span><span class="token punctuation">(</span>nowUsed <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><p><strong>ä¾‹é¢˜3ï¼šå·¦å€¼å¼ºåˆ¶è½¬æ¢ä¸ºå³å€¼</strong></p>
<p>è¯­æ³•ï¼š<code>std::move(lvalue)</code></p>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;cassert&gt;</span></span>
<span class="token keyword keyword-using">using</span> std<span class="token double-colon punctuation">::</span>cout<span class="token punctuation">,</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
<span class="token keyword keyword-class">class</span> <span class="token class-name">A</span> <span class="token punctuation">{</span>
<span class="token keyword keyword-private">private</span><span class="token operator">:</span>
    <span class="token keyword keyword-int">int</span> val<span class="token punctuation">;</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token keyword keyword-static">static</span> <span class="token keyword keyword-int">int</span> constructorCount<span class="token punctuation">;</span>
    <span class="token function">A</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> x<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        constructorCount<span class="token operator">++</span><span class="token punctuation">;</span>
        val <span class="token operator">=</span> x<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// æœ¬é¢˜ä¸åº”è°ƒç”¨å¤åˆ¶æ„é€ å‡½æ•°å’Œå¤åˆ¶èµ‹å€¼è¿ç®—ç¬¦</span>
    <span class="token function">A</span><span class="token punctuation">(</span>A<span class="token operator">&amp;</span> x<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token keyword keyword-delete">delete</span><span class="token punctuation">;</span>
    A<span class="token operator">&amp;</span> <span class="token keyword keyword-operator">operator</span><span class="token operator">=</span><span class="token punctuation">(</span>A<span class="token operator">&amp;</span> x<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token keyword keyword-delete">delete</span><span class="token punctuation">;</span>
    <span class="token function">A</span><span class="token punctuation">(</span>A<span class="token operator">&amp;&amp;</span> x<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        val <span class="token operator">=</span> x<span class="token punctuation">.</span>val<span class="token punctuation">;</span>
        x<span class="token punctuation">.</span>val <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">// å°†x.valèµ‹0æ¨¡æ‹Ÿ"ç§»åŠ¨"è¯­ä¹‰</span>
    <span class="token punctuation">}</span>
    A<span class="token operator">&amp;</span> <span class="token keyword keyword-operator">operator</span><span class="token operator">=</span><span class="token punctuation">(</span>A<span class="token operator">&amp;&amp;</span> x<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        val <span class="token operator">=</span> x<span class="token punctuation">.</span>val<span class="token punctuation">;</span>
        x<span class="token punctuation">.</span>val <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">// å°†x.valèµ‹0æ¨¡æ‹Ÿ"ç§»åŠ¨"è¯­ä¹‰</span>
        <span class="token keyword keyword-return">return</span> <span class="token operator">*</span><span class="token keyword keyword-this">this</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-int">int</span> <span class="token function">getVal</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword keyword-const">const</span> <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> val<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword keyword-int">int</span> A<span class="token double-colon punctuation">::</span>constructorCount <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

<span class="token keyword keyword-void">void</span> <span class="token function">swap</span><span class="token punctuation">(</span>A<span class="token operator">&amp;</span> x<span class="token punctuation">,</span> A<span class="token operator">&amp;</span> y<span class="token punctuation">)</span><span class="token punctuation">{</span>
    A temp <span class="token operator">=</span> std<span class="token double-colon punctuation">::</span><span class="token function">move</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>
    x <span class="token operator">=</span> std<span class="token double-colon punctuation">::</span><span class="token function">move</span><span class="token punctuation">(</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span>
    y <span class="token operator">=</span> std<span class="token double-colon punctuation">::</span><span class="token function">move</span><span class="token punctuation">(</span>temp<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    A <span class="token function">a</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">b</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">swap</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>
    cout <span class="token operator">&lt;&lt;</span> a<span class="token punctuation">.</span><span class="token function">getVal</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span> <span class="token operator">&lt;&lt;</span> b<span class="token punctuation">.</span><span class="token function">getVal</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    <span class="token comment">// æ•´ä»½ä»£ç ä¸åº”å½“å†é¢å¤–è°ƒç”¨æ„é€ å‡½æ•°</span>
    <span class="token function">assert</span><span class="token punctuation">(</span>A<span class="token double-colon punctuation">::</span>constructorCount <span class="token operator">==</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><h2 id="ä¹-æ¨¡ç‰ˆ">ä¹ã€æ¨¡ç‰ˆ </h2>
<h3 id="ä¸€å‡½æ•°æ¨¡ç‰ˆ">ï¼ˆä¸€ï¼‰å‡½æ•°æ¨¡ç‰ˆ </h3>
<h4 id="å‡½æ•°æ¨¡ç‰ˆ">å‡½æ•°æ¨¡ç‰ˆ </h4>
<p><strong>å‡½æ•°æ¨¡ç‰ˆæ˜¯æä¾›ç”Ÿæˆå‡½æ•°èƒ½åŠ›çš„æ¨¡ç‰ˆ</strong></p>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token keyword keyword-template">template</span><span class="token operator">&lt;</span>æ¨¡ç‰ˆå½¢å‚è¡¨<span class="token operator">&gt;</span>
è¿”å›å€¼ç±»å‹ å‡½æ•°æ¨¡ç‰ˆå<span class="token punctuation">(</span>å‡½æ•°å½¢å‚è¡¨<span class="token punctuation">)</span><span class="token punctuation">{</span>
    å‡½æ•°ä½“
<span class="token punctuation">}</span>
</code></pre><h4 id="å‡½æ•°æ¨¡ç‰ˆçš„å®ä¾‹åŒ–">å‡½æ•°æ¨¡ç‰ˆçš„å®ä¾‹åŒ– </h4>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token keyword keyword-template">template</span><span class="token operator">&lt;</span><span class="token keyword keyword-typename">typename</span> <span class="token class-name">T</span><span class="token operator">&gt;</span>
<span class="token keyword keyword-void">void</span> <span class="token function">print</span><span class="token punctuation">(</span>T x<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    cout <span class="token operator">&lt;&lt;</span> x <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword keyword-template">template</span><span class="token operator">&lt;</span><span class="token keyword keyword-typename">typename</span> <span class="token class-name">T</span><span class="token punctuation">,</span><span class="token keyword keyword-typename">typename</span> <span class="token class-name">U</span><span class="token operator">&gt;</span>
T <span class="token function">add</span><span class="token punctuation">(</span>T a<span class="token punctuation">,</span>U b<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword keyword-return">return</span> a<span class="token operator">+</span>b<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">print</span><span class="token punctuation">(</span><span class="token number">42</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//ä½¿printæ¨¡æ¿å®ä¾‹åŒ–å‡º void print(int x);</span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token number">3.14</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//ä½¿printæ¨¡æ¿å®ä¾‹åŒ–å‡º void print(double x);</span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"Hello"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//ä½¿printæ¨¡æ¿å®ä¾‹åŒ–å‡º void print(const char* x);</span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token number">56</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//ç”±äºå·²å®ä¾‹åŒ–å‡ºvoid print(int x); ä¸å†é‡æ–°å®ä¾‹åŒ–</span>
<span class="token generic-function"><span class="token function">print</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token keyword keyword-char">char</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token char">'@'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//åˆ©ç”¨æ¨¡ç‰ˆå®å‚è¿›è¡Œå®ä¾‹åŒ–</span>
cout <span class="token operator">&lt;&lt;</span> <span class="token generic-function"><span class="token function">add</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token keyword keyword-float">float</span><span class="token punctuation">,</span><span class="token keyword keyword-int">int</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><h4 id="å‡½æ•°æ¨¡ç‰ˆå®å‚æ¨å¯¼ftad">å‡½æ•°æ¨¡ç‰ˆå®å‚æ¨å¯¼ï¼ˆFTADï¼‰ </h4>
<ul>
<li>ç”±ç¼–è¯‘å™¨æ ¹æ®ä½¿ç”¨ä¸Šä¸‹æ–‡æ¥æ¨æ–­æ‰€è°ƒç”¨çš„æ¨¡æ¿å‡½æ•°çš„æ¨¡æ¿å‚æ•°</li>
</ul>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token keyword keyword-template">template</span> <span class="token operator">&lt;</span><span class="token keyword keyword-typename">typename</span> <span class="token class-name">T</span><span class="token operator">&gt;</span>
<span class="token keyword keyword-void">void</span> <span class="token function">call3</span><span class="token punctuation">(</span>T f<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//ç±»å‹Téœ€è¦å¯ä»¥è¿›è¡Œ()è¿ç®—</span>
<span class="token punctuation">}</span>

<span class="token keyword keyword-void">void</span> <span class="token function">f1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-int">int</span> x <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token operator">++</span>x <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword keyword-void">void</span> <span class="token function">f2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-static">static</span> <span class="token keyword keyword-int">int</span> x <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token operator">++</span>x <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword keyword-struct">struct</span> <span class="token class-name">F34</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-int">int</span> x<span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-void">void</span> <span class="token keyword keyword-operator">operator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token operator">++</span>x <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token comment">//ä¸ºç±»F34å®šä¹‰äº†()è¿ç®—ç¬¦é‡è½½</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
F34 f3<span class="token punctuation">,</span> f4<span class="token punctuation">;</span>
<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-int">int</span> v <span class="token operator">=</span> <span class="token number">42</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-auto">auto</span> f5 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">&amp;</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token operator">++</span>v <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">//lambdaè¡¨è¾¾å¼å…·æœ‰()è¿ç®—ç¬¦</span>
    <span class="token function">call3</span><span class="token punctuation">(</span>f1<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">call3</span><span class="token punctuation">(</span>f2<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">call3</span><span class="token punctuation">(</span>f3<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">call3</span><span class="token punctuation">(</span>f4<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">call3</span><span class="token punctuation">(</span>f5<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><ul>
<li>èµ‹å€¼å…¼å®¹åŸåˆ™å¼•èµ·å‡½æ•°æ¨¡æ¿ä¸­ç±»å‹å‚æ•°çš„äºŒä¹‰æ€§</li>
</ul>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token keyword keyword-template">template</span><span class="token operator">&lt;</span><span class="token keyword keyword-typename">typename</span> <span class="token class-name">T</span><span class="token operator">&gt;</span>
T <span class="token function">myFunction</span><span class="token punctuation">(</span>T arg1<span class="token punctuation">,</span> T arg2<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    cout <span class="token operator">&lt;&lt;</span> arg1 <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span> <span class="token operator">&lt;&lt;</span> arg2 <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    <span class="token keyword keyword-return">return</span> arg1<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">myFunction</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//okï¼ŒTè¢«æ›¿æ¢ä¸ºint</span>
<span class="token function">myFunction</span><span class="token punctuation">(</span><span class="token number">5.8</span><span class="token punctuation">,</span> <span class="token number">8.4</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//okï¼ŒTè¢«æ›¿æ¢ä¸ºdouble</span>
<span class="token function">myFunction</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">8.4</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//errorï¼Œå°†Tæ›¿æ¢ä¸ºintè¿˜æ˜¯doubleå‘¢? äºŒä¹‰æ€§ï¼</span>
</code></pre><ul>
<li>æ¨å¯¼æŒ‡é’ˆï¼Œä¸æ¨å¯¼å¼•ç”¨å’Œ<code>const</code>ï¼ˆç±»ä¼¼<code>auto</code>ï¼‰</li>
</ul>
<p><strong>ç¤ºä¾‹1</strong> å¼•ç”¨</p>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token keyword keyword-template">template</span> <span class="token operator">&lt;</span><span class="token keyword keyword-typename">typename</span> <span class="token class-name">T</span><span class="token operator">&gt;</span>
<span class="token keyword keyword-void">void</span> <span class="token function">f</span><span class="token punctuation">(</span>T<span class="token operator">&amp;</span> x<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>  <span class="token comment">//è¿™é‡Œå¯¹Tè¿›è¡Œäº†&amp;çš„é™åˆ¶ï¼Œåªèƒ½æ¨å¯¼èƒ½ç»‘å®šåˆ°å·¦å€¼å¼•ç”¨çš„å€¼</span>
<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword keyword-double">double</span> b <span class="token operator">=</span> <span class="token number">2.0</span><span class="token punctuation">;</span>
    <span class="token function">f</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// T = double</span>
    <span class="token function">f</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// æŠ¥é”™ï¼Œ2ä¸èƒ½ç»‘å®šåˆ°ä»»ä½•ç±»å‹çš„å·¦å€¼å¼•ç”¨</span>
<span class="token punctuation">}</span>
</code></pre><p><strong>ç¤ºä¾‹2</strong> è‡ªåŠ¨æ¨å¯¼å‡½æ•°æŒ‡é’ˆ</p>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token keyword keyword-constexpr">constexpr</span> <span class="token keyword keyword-double">double</span> DX <span class="token operator">=</span> <span class="token number">1e-6</span><span class="token punctuation">;</span>

<span class="token comment">// using func = double (*)(double);  //ä¸èƒ½è¿™æ ·ä½¿ç”¨ï¼Œlambdaè¡¨è¾¾å¼ï¼ˆfï¼Œgï¼‰çš„ç±»å‹å¹¶ä¸èƒ½ç®€å•å½’ä½funcï¼Œæ‰€ä»¥å¿…é¡»ç”¨å‡½æ•°æ¨¡ç‰ˆè¿›è¡Œæ¨å¯¼</span>
<span class="token keyword keyword-template">template</span><span class="token operator">&lt;</span><span class="token keyword keyword-typename">typename</span> <span class="token class-name">T</span><span class="token operator">&gt;</span>
<span class="token keyword keyword-auto">auto</span> <span class="token function">d</span><span class="token punctuation">(</span>T f<span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token comment">//è¿™é‡Œä¸èƒ½å†™ä½œT&amp;ï¼Œå¦åˆ™å°†æŒ‰T&amp;æ¨å¯¼ï¼Œå¯¼è‡´ä¸èƒ½å°†lambdaè¡¨è¾¾å¼æ¨å¯¼æˆå‡½æ•°æŒ‡é’ˆ</span>
    <span class="token keyword keyword-return">return</span> <span class="token punctuation">[</span><span class="token operator">=</span><span class="token punctuation">]</span> <span class="token punctuation">(</span><span class="token keyword keyword-double">double</span> x<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token keyword keyword-double">double</span><span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> <span class="token punctuation">(</span><span class="token function">f</span><span class="token punctuation">(</span>x<span class="token operator">+</span>DX<span class="token punctuation">)</span><span class="token operator">-</span><span class="token function">f</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">/</span>DX<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-auto">auto</span> f <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">&amp;</span><span class="token punctuation">]</span> <span class="token punctuation">(</span><span class="token keyword keyword-double">double</span> x<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword keyword-return">return</span> x <span class="token operator">*</span> x<span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-auto">auto</span> g <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">=</span><span class="token punctuation">]</span> <span class="token punctuation">(</span><span class="token keyword keyword-double">double</span> x<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword keyword-return">return</span> std<span class="token double-colon punctuation">::</span><span class="token function">sin</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-double">double</span> x<span class="token punctuation">;</span>
    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>fixed <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span><span class="token function">setprecision</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-while">while</span> <span class="token punctuation">(</span>std<span class="token double-colon punctuation">::</span>cin <span class="token operator">&gt;&gt;</span> x<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token function">d</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token char">' '</span><span class="token punctuation">;</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token function">d</span><span class="token punctuation">(</span>g<span class="token punctuation">)</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><h4 id="å‡½æ•°æ¨¡ç‰ˆçš„é‡è½½">å‡½æ•°æ¨¡ç‰ˆçš„é‡è½½ </h4>
<p>å‡½æ•°å½¢å‚è¡¨/æ¨¡ç‰ˆå½¢å‚è¡¨ä¸åŒï¼Œå³å¯è¿›è¡Œå‡½æ•°æ¨¡ç‰ˆçš„é‡è½½ã€‚</p>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token keyword keyword-template">template</span><span class="token operator">&lt;</span><span class="token keyword keyword-typename">typename</span> <span class="token class-name">T</span><span class="token operator">&gt;</span>
T <span class="token function">myFunction</span><span class="token punctuation">(</span>T arg<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"one argument"</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-return">return</span> arg<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword keyword-template">template</span><span class="token operator">&lt;</span><span class="token keyword keyword-typename">typename</span> <span class="token class-name">T1</span><span class="token punctuation">,</span> <span class="token keyword keyword-typename">typename</span> <span class="token class-name">T2</span><span class="token operator">&gt;</span>
T1 <span class="token function">myFunction</span><span class="token punctuation">(</span>T1 arg1<span class="token punctuation">,</span> T2 arg2<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"two arguments"</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-return">return</span> arg1<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">myFunction</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//okï¼ŒTæ›¿æ¢ä¸ºint</span>
<span class="token function">myFunction</span><span class="token punctuation">(</span><span class="token number">5.8</span><span class="token punctuation">,</span> <span class="token number">8.4</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//okï¼ŒT1å’ŒT2æ›¿æ¢ä¸ºdouble</span>
<span class="token function">myFunction</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">8.4</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//okï¼ŒT1æ›¿æ¢ä¸ºint, T2æ›¿æ¢ä¸ºdouble</span>
</code></pre><ul>
<li>å‡½æ•°å’Œæ¨¡ç‰ˆçš„åŒ¹é…é¡ºåºï¼š</li>
</ul>
<blockquote>
<ol>
<li>å…ˆæ‰¾ä¸€ä¸ªå‚æ•°å®Œå…¨åŒ¹é…çš„æ™®é€šå‡½æ•°ï¼ˆéç”±æ¨¡æ¿å®ä¾‹åŒ–è€Œå¾—çš„å‡½æ•°ï¼‰ï¼›</li>
<li>è‹¥æ‰¾ä¸åˆ°ï¼Œåˆ™æ‰¾ä¸€ä¸ªå‚æ•°å®Œå…¨åŒ¹é…çš„ç”±å‡½æ•°æ¨¡æ¿å®ä¾‹åŒ–å‡ºæ¥çš„å‡½æ•°ï¼›</li>
<li>è‹¥è¿˜æ²¡æ‰¾åˆ°ï¼Œåˆ™åœ¨æ²¡æœ‰äºŒä¹‰æ€§çš„å‰æä¸‹ï¼Œå†æ‰¾ä¸€ä¸ªå‚æ•°ç»è¿‡è‡ªåŠ¨ç±»å‹è½¬æ¢åèƒ½å¤ŸåŒ¹é…çš„æ™®é€šå‡½æ•°ï¼›</li>
<li>ä¸Šé¢çš„éƒ½æ‰¾ä¸åˆ°ï¼Œåˆ™æŠ¥é”™ã€‚</li>
</ol>
</blockquote>
<h3 id="äºŒç±»æ¨¡ç‰ˆ">ï¼ˆäºŒï¼‰ç±»æ¨¡ç‰ˆ </h3>
<h4 id="ç±»æ¨¡ç‰ˆ">ç±»æ¨¡ç‰ˆ </h4>
<p><strong>ç±»æ¨¡ç‰ˆæ˜¯èƒ½ç”Ÿæˆç±»çš„è¯­æ³•</strong>ï¼Œè§„åˆ™ä¸å‡½æ•°æ¨¡ç‰ˆç›¸åŒ</p>
<ul>
<li>ç±»æ¨¡ç‰ˆçš„å®šä¹‰</li>
</ul>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token keyword keyword-template">template</span><span class="token operator">&lt;</span><span class="token keyword keyword-typename">typename</span> <span class="token class-name">T</span><span class="token operator">&gt;</span>
<span class="token keyword keyword-class">class</span> <span class="token class-name">CArray</span><span class="token punctuation">{</span>
    T<span class="token operator">*</span> ptrElement<span class="token punctuation">;</span>
    <span class="token keyword keyword-int">int</span> size<span class="token punctuation">;</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token function">CArray</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> length<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token operator">~</span><span class="token function">CArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-int">int</span> len<span class="token punctuation">;</span>
    <span class="token keyword keyword-void">void</span> <span class="token function">setElement</span><span class="token punctuation">(</span>T arg<span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span> index<span class="token punctuation">)</span><span class="token punctuation">;</span>
    T <span class="token function">getElement</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> index<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><p>å®ä¾‹åŒ–åçš„ç±»çš„åç§°è¦å¸¦ä¸Šç±»æ¨¡ç‰ˆçš„å®å‚ã€‚</p>
<ul>
<li>ç±»æ¨¡æ¿çš„æˆå‘˜å‡½æ•°åœ¨ç±»å¤–å®šä¹‰æ—¶çš„å†™æ³•</li>
<li>ç”¨ç±»æ¨¡ç‰ˆå®šä¹‰å¯¹è±¡çš„å†™æ³•</li>
<li>ç±»æ¨¡ç‰ˆå®šä¹‰é™æ€æˆå‘˜å˜é‡çš„å†™æ³•</li>
</ul>
<p><strong>ç¤ºä¾‹1</strong></p>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token keyword keyword-template">template</span><span class="token operator">&lt;</span><span class="token keyword keyword-typename">typename</span> <span class="token class-name">T1</span><span class="token punctuation">,</span> <span class="token keyword keyword-typename">typename</span> <span class="token class-name">T2</span><span class="token operator">&gt;</span>
<span class="token keyword keyword-class">class</span> <span class="token class-name">Pair</span> <span class="token punctuation">{</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token keyword keyword-static">static</span> <span class="token keyword keyword-int">int</span> V<span class="token punctuation">;</span>
    T1 key<span class="token punctuation">;</span> <span class="token comment">//å…³é”®å­—</span>
    T2 value<span class="token punctuation">;</span> <span class="token comment">//å€¼</span>
    <span class="token function">Pair</span><span class="token punctuation">(</span>T1 k<span class="token punctuation">,</span>T2 v<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token function">key</span><span class="token punctuation">(</span>k<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">value</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-bool">bool</span> <span class="token keyword keyword-operator">operator</span><span class="token operator">&lt;</span><span class="token punctuation">(</span><span class="token keyword keyword-const">const</span> Pair<span class="token operator">&lt;</span>T1<span class="token punctuation">,</span>T2<span class="token operator">&gt;</span> <span class="token operator">&amp;</span>p<span class="token punctuation">)</span> <span class="token keyword keyword-const">const</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">//ç±»å¤–å®šä¹‰æˆå‘˜å‡½æ•°</span>
<span class="token keyword keyword-template">template</span><span class="token operator">&lt;</span><span class="token keyword keyword-typename">typename</span> <span class="token class-name">T1</span><span class="token punctuation">,</span> <span class="token keyword keyword-typename">typename</span> <span class="token class-name">T2</span><span class="token operator">&gt;</span>
<span class="token keyword keyword-bool">bool</span> Pair<span class="token operator">&lt;</span>T1<span class="token punctuation">,</span>T2<span class="token operator">&gt;</span><span class="token double-colon punctuation">::</span><span class="token keyword keyword-operator">operator</span><span class="token operator">&lt;</span><span class="token punctuation">(</span><span class="token keyword keyword-const">const</span> Pair<span class="token operator">&lt;</span>T1<span class="token punctuation">,</span>T2<span class="token operator">&gt;</span> <span class="token operator">&amp;</span>p<span class="token punctuation">)</span> <span class="token keyword keyword-const">const</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-return">return</span> key <span class="token operator">&lt;</span> p<span class="token punctuation">.</span>key<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//ç±»å¤–å®šä¹‰é™æ€æˆå‘˜å˜é‡</span>
<span class="token keyword keyword-template">template</span><span class="token operator">&lt;</span><span class="token keyword keyword-typename">typename</span> <span class="token class-name">T1</span><span class="token punctuation">,</span> <span class="token keyword keyword-typename">typename</span> <span class="token class-name">T2</span><span class="token operator">&gt;</span>
<span class="token keyword keyword-int">int</span> Pair<span class="token operator">&lt;</span>T1<span class="token punctuation">,</span>T2<span class="token operator">&gt;</span><span class="token double-colon punctuation">::</span>V<span class="token punctuation">{</span><span class="token number">42</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    Pair<span class="token operator">&lt;</span>string<span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span><span class="token operator">&gt;</span> <span class="token function">student</span><span class="token punctuation">(</span><span class="token string">"Tom"</span><span class="token punctuation">,</span> <span class="token number">19</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//å®ä¾‹åŒ–å‡ºä¸€ä¸ªç±»Pair&lt;string, int&gt;</span>
    cout <span class="token operator">&lt;&lt;</span> student<span class="token punctuation">.</span>key <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span> <span class="token operator">&lt;&lt;</span> student<span class="token punctuation">.</span>value<span class="token punctuation">;</span>
    <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><p><strong>ç¤ºä¾‹2</strong> å˜å‚æ¨¡ç‰ˆ</p>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token keyword keyword-template">template</span><span class="token operator">&lt;</span><span class="token keyword keyword-int">int</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>Ts<span class="token operator">&gt;</span>
<span class="token keyword keyword-class">class</span> <span class="token class-name">Sum</span><span class="token punctuation">{</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token keyword keyword-static">static</span> <span class="token keyword keyword-int">int</span> value<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-template">template</span><span class="token operator">&lt;</span><span class="token keyword keyword-int">int</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>Ts<span class="token operator">&gt;</span>
<span class="token keyword keyword-int">int</span> Sum<span class="token operator">&lt;</span>Ts<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token operator">&gt;</span><span class="token double-colon punctuation">::</span>value<span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token operator">+</span> Ts<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">//å˜å‚æ¨¡ç‰ˆä¸­çš„æŠ˜å è¡¨è¾¾å¼å†™æ³•</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> Sum<span class="token operator">&lt;</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token operator">&gt;</span><span class="token double-colon punctuation">::</span>value <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span> <span class="token comment">//è¾“å‡º25</span>
<span class="token punctuation">}</span>
</code></pre><h4 id="ç±»æ¨¡ç‰ˆå®å‚æ¨å¯¼ctad">ç±»æ¨¡ç‰ˆå®å‚æ¨å¯¼ï¼ˆCTADï¼‰ </h4>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token keyword keyword-template">template</span><span class="token operator">&lt;</span><span class="token keyword keyword-typename">typename</span> <span class="token class-name">T</span><span class="token operator">&gt;</span>
<span class="token keyword keyword-class">class</span> <span class="token class-name">C</span> <span class="token punctuation">{</span>
    T mem<span class="token punctuation">;</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token function">C</span><span class="token punctuation">(</span>T mem<span class="token punctuation">)</span> <span class="token operator">:</span> mem<span class="token punctuation">{</span>mem<span class="token punctuation">}</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    C <span class="token function">a</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//æ— éœ€æ¨¡æ¿å®å‚ï¼Œæ¨å¯¼å‡ºåº”ç”Ÿæˆ C&lt;int&gt; ç±»</span>
<span class="token punctuation">}</span>
</code></pre><h4 id="å‡½æ•°æ¨¡ç‰ˆä½œä¸ºç±»æ¨¡ç‰ˆçš„æˆå‘˜">å‡½æ•°æ¨¡ç‰ˆä½œä¸ºç±»æ¨¡ç‰ˆçš„æˆå‘˜ </h4>
<p>ç±»æ¨¡ç‰ˆä¸­çš„å‡½æ•°æ¨¡ç‰ˆæˆå‘˜åªæœ‰åœ¨è¢«è°ƒç”¨æ—¶æ‰ä¼šè¢«å®ä¾‹åŒ–ã€‚</p>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token keyword keyword-template">template</span> <span class="token operator">&lt;</span><span class="token keyword keyword-typename">typename</span> <span class="token class-name">T</span><span class="token operator">&gt;</span>
<span class="token keyword keyword-class">class</span> <span class="token class-name">A</span> <span class="token punctuation">{</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token keyword keyword-template">template</span><span class="token operator">&lt;</span><span class="token keyword keyword-typename">typename</span> <span class="token class-name">T2</span><span class="token operator">&gt;</span> <span class="token comment">//T2ä¸èƒ½æ›¿æ¢ä¸ºTï¼Œå› ä¸ºç±»ä¸­å‡½æ•°æ¨¡ç‰ˆçš„å®å‚å¯ä»¥ä¸ç±»æœ¬èº«çš„å®å‚ä¸åŒ</span>
    <span class="token keyword keyword-void">void</span> <span class="token function">func</span><span class="token punctuation">(</span>T2 t<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        cout<span class="token operator">&lt;&lt;</span> t<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    A<span class="token operator">&lt;</span><span class="token keyword keyword-int">int</span><span class="token operator">&gt;</span> a<span class="token punctuation">;</span>
    a<span class="token punctuation">.</span><span class="token function">func</span><span class="token punctuation">(</span><span class="token char">'K'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//æˆå‘˜å‡½æ•°æ¨¡æ¿func&lt;char&gt;è¢«å®ä¾‹åŒ–</span>
    a<span class="token punctuation">.</span><span class="token function">func</span><span class="token punctuation">(</span><span class="token string">"Hello"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//æˆå‘˜å‡½æ•°æ¨¡æ¿func&lt;const char*&gt;è¢«å®ä¾‹åŒ–</span>
    <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><h4 id="æ¨¡ç‰ˆç±»">æ¨¡ç‰ˆç±» </h4>
<p>ä¸º<strong>ç±»æ¨¡æ¿</strong>ä¸­å„ç±»å‹å‚æ•°æŒ‡å®šäº†å…·ä½“çš„æ•°æ®ç±»å‹åï¼Œå³å¾—åˆ°ä¸€ä¸ª<strong>æ¨¡æ¿ç±»</strong></p>
<ul>
<li>ç¼–è¯‘å™¨è‡ªåŠ¨ç”¨æ¨¡æ¿å®å‚æ›¿æ¢ç±»æ¨¡æ¿ä¸­çš„æ¨¡æ¿å½¢å‚ï¼Œç”Ÿæˆæ¨¡æ¿ç±»çš„ä»£ç ï¼›</li>
<li>å¦‚æœæ¨¡æ¿å®å‚ä¸åŒï¼Œåˆ™å¾—åˆ°çš„æ¨¡æ¿ç±»æ˜¯ä¸åŒçš„ï¼Œå³åŒä¸€ä¸ªç±»æ¨¡æ¿çš„ä¸¤ä¸ªæ¨¡æ¿ç±»æ˜¯ä¸å…¼å®¹çš„ã€‚</li>
</ul>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token keyword keyword-template">template</span><span class="token operator">&lt;</span><span class="token keyword keyword-typename">typename</span> <span class="token class-name">T</span><span class="token punctuation">,</span> <span class="token keyword keyword-typename">typename</span> <span class="token class-name">U</span><span class="token operator">&gt;</span>
<span class="token keyword keyword-class">class</span> <span class="token class-name">Pair</span><span class="token punctuation">{</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
Pair<span class="token operator">&lt;</span>string<span class="token punctuation">,</span><span class="token keyword keyword-int">int</span><span class="token operator">&gt;</span> <span class="token operator">*</span>p<span class="token punctuation">;</span>
Pair<span class="token operator">&lt;</span>string<span class="token punctuation">,</span><span class="token keyword keyword-double">double</span><span class="token operator">&gt;</span> s<span class="token punctuation">;</span>
p <span class="token operator">=</span> <span class="token operator">&amp;</span>s<span class="token punctuation">;</span> <span class="token comment">//é”™è¯¯</span>
</code></pre><h4 id="ç±»æ¨¡ç‰ˆä¸æ´¾ç”Ÿ">ç±»æ¨¡ç‰ˆä¸æ´¾ç”Ÿ </h4>
<p><strong>ç±»æ¨¡ç‰ˆä»ç±»æ¨¡ç‰ˆæ´¾ç”Ÿ</strong></p>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token keyword keyword-template">template</span><span class="token operator">&lt;</span><span class="token keyword keyword-typename">typename</span> <span class="token class-name">T1</span><span class="token punctuation">,</span><span class="token keyword keyword-typename">typename</span> <span class="token class-name">T2</span><span class="token operator">&gt;</span>
<span class="token keyword keyword-class">class</span> <span class="token class-name">Base</span><span class="token punctuation">{</span>
    T1 v1<span class="token punctuation">;</span>
    T2 v2<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-template">template</span><span class="token operator">&lt;</span><span class="token keyword keyword-typename">typename</span> <span class="token class-name">T1</span><span class="token punctuation">,</span> <span class="token keyword keyword-typename">typename</span> <span class="token class-name">T2</span><span class="token punctuation">,</span> <span class="token keyword keyword-typename">typename</span> <span class="token class-name">T3</span><span class="token operator">&gt;</span>
<span class="token keyword keyword-class">class</span> <span class="token class-name">Derive</span><span class="token operator">:</span> <span class="token base-clause"><span class="token keyword keyword-public">public</span> <span class="token class-name">Base</span><span class="token operator">&lt;</span><span class="token class-name">T1</span><span class="token punctuation">,</span><span class="token class-name">T2</span><span class="token operator">&gt;</span></span><span class="token punctuation">{</span>
    T2 v3<span class="token punctuation">;</span>
    T3 v4<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    Derive<span class="token operator">&lt;</span><span class="token keyword keyword-int">int</span><span class="token punctuation">,</span><span class="token keyword keyword-double">double</span><span class="token punctuation">,</span><span class="token keyword keyword-char">char</span><span class="token operator">&gt;</span> obj<span class="token punctuation">;</span> <span class="token comment">//åˆ™objä¸­å«æœ‰intç±»å‹çš„v1ï¼Œdoubleç±»å‹çš„v2å’Œv3ï¼Œcharç±»å‹çš„v4</span>
<span class="token punctuation">}</span>
</code></pre><p><strong>ç±»æ¨¡æ¿ä»æ¨¡æ¿ç±»æ´¾ç”Ÿ</strong></p>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token keyword keyword-template">template</span><span class="token operator">&lt;</span><span class="token keyword keyword-typename">typename</span> <span class="token class-name">T1</span><span class="token punctuation">,</span> <span class="token keyword keyword-typename">typename</span> <span class="token class-name">T2</span><span class="token operator">&gt;</span>
<span class="token keyword keyword-class">class</span> <span class="token class-name">Base</span><span class="token punctuation">{</span>
    T1 v1<span class="token punctuation">;</span>
    T2 v2<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-template">template</span><span class="token operator">&lt;</span><span class="token keyword keyword-typename">typename</span> <span class="token class-name">T1</span><span class="token operator">&gt;</span>
<span class="token keyword keyword-class">class</span> <span class="token class-name">Derive</span><span class="token operator">:</span><span class="token base-clause"><span class="token keyword keyword-public">public</span> <span class="token class-name">Base</span><span class="token operator">&lt;</span><span class="token keyword keyword-int">int</span><span class="token punctuation">,</span><span class="token keyword keyword-double">double</span><span class="token operator">&gt;</span></span><span class="token punctuation">{</span>
    T1 v3<span class="token punctuation">;</span>    
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    Derive<span class="token operator">&lt;</span><span class="token keyword keyword-double">double</span><span class="token operator">&gt;</span> obj<span class="token punctuation">;</span><span class="token comment">//åˆ™objä¸­å«æœ‰intç±»å‹çš„v1ï¼Œdoubleç±»å‹çš„v2å’Œv3</span>
<span class="token punctuation">}</span>
</code></pre><p><strong>ç±»æ¨¡ç‰ˆä»æ™®é€šç±»æ´¾ç”Ÿ</strong></p>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">Base</span><span class="token punctuation">{</span>
    <span class="token keyword keyword-int">int</span> v1<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-template">template</span><span class="token operator">&lt;</span><span class="token keyword keyword-typename">typename</span> <span class="token class-name">T1</span><span class="token operator">&gt;</span>
<span class="token keyword keyword-class">class</span> <span class="token class-name">Derive</span><span class="token operator">:</span> <span class="token base-clause"><span class="token keyword keyword-public">public</span> <span class="token class-name">Base</span></span><span class="token punctuation">{</span>
    T1 v2<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><p><strong>æ™®é€šç±»ä»ç±»æ¨¡ç‰ˆæ´¾ç”Ÿ</strong></p>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token keyword keyword-template">template</span><span class="token operator">&lt;</span><span class="token keyword keyword-typename">typename</span> <span class="token class-name">T</span><span class="token operator">&gt;</span>
<span class="token keyword keyword-class">class</span> <span class="token class-name">Base</span><span class="token punctuation">{</span>
    T v1<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">Derive</span><span class="token operator">:</span> <span class="token base-clause"><span class="token keyword keyword-public">public</span> <span class="token class-name">Base</span><span class="token operator">&lt;</span><span class="token keyword keyword-int">int</span><span class="token operator">&gt;</span></span><span class="token punctuation">{</span>
    <span class="token keyword keyword-double">double</span> v2<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><h4 id="æ¨¡ç‰ˆç‰¹åŒ–">æ¨¡ç‰ˆç‰¹åŒ– </h4>
<p><strong>ä¾‹é¢˜1</strong></p>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>

<span class="token keyword keyword-template">template</span> <span class="token operator">&lt;</span><span class="token keyword keyword-typename">typename</span> <span class="token class-name">T</span><span class="token operator">&gt;</span>
<span class="token keyword keyword-struct">struct</span> <span class="token class-name">IsInt</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-constexpr">constexpr</span> <span class="token keyword keyword-static">static</span> <span class="token keyword keyword-bool">bool</span> value<span class="token punctuation">{</span><span class="token boolean">false</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-template">template</span> <span class="token operator">&lt;</span><span class="token operator">&gt;</span> <span class="token comment">//è¿™é‡Œæ˜¯æ¨¡ç‰ˆç‰¹åŒ–</span>
<span class="token keyword keyword-struct">struct</span> <span class="token class-name">IsInt</span><span class="token operator">&lt;</span><span class="token keyword keyword-int">int</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-constexpr">constexpr</span> <span class="token keyword keyword-static">static</span> <span class="token keyword keyword-bool">bool</span> value<span class="token punctuation">{</span><span class="token boolean">true</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    IsInt<span class="token operator">&lt;</span><span class="token keyword keyword-int">int</span><span class="token operator">&gt;</span> obj1<span class="token punctuation">;</span>
    IsInt<span class="token operator">&lt;</span><span class="token keyword keyword-double">double</span><span class="token operator">&gt;</span> obj2<span class="token punctuation">;</span>
    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>boolalpha <span class="token operator">&lt;&lt;</span> obj1<span class="token punctuation">.</span>value <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span> <span class="token operator">&lt;&lt;</span> obj2<span class="token punctuation">.</span>value <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>

    <span class="token keyword keyword-using">using</span> AlsoInt <span class="token operator">=</span> <span class="token keyword keyword-int">int</span><span class="token punctuation">;</span>
    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> IsInt<span class="token operator">&lt;</span>AlsoInt<span class="token operator">&gt;</span><span class="token double-colon punctuation">::</span>value <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span> <span class="token operator">&lt;&lt;</span> IsInt<span class="token operator">&lt;</span><span class="token keyword keyword-bool">bool</span><span class="token operator">&gt;</span><span class="token double-colon punctuation">::</span>value <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><p><strong>ä¾‹é¢˜2</strong> åˆ©ç”¨æ¨¡ç‰ˆç‰¹åŒ–è®¡ç®—æ–æ³¢é‚£å¥‘æ•°åˆ—</p>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token keyword keyword-template">template</span><span class="token operator">&lt;</span><span class="token keyword keyword-int">int</span> N<span class="token operator">&gt;</span>
<span class="token keyword keyword-class">class</span> <span class="token class-name">Fibonacci</span><span class="token punctuation">{</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token keyword keyword-static">static</span> <span class="token keyword keyword-const">const</span> <span class="token keyword keyword-int">int</span> value <span class="token punctuation">{</span>Fibonacci<span class="token operator">&lt;</span>N<span class="token operator">-</span><span class="token number">1</span><span class="token operator">&gt;</span><span class="token double-colon punctuation">::</span>value <span class="token operator">+</span> Fibonacci<span class="token operator">&lt;</span>N<span class="token operator">-</span><span class="token number">2</span><span class="token operator">&gt;</span><span class="token double-colon punctuation">::</span>value<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-template">template</span><span class="token operator">&lt;</span><span class="token operator">&gt;</span>
<span class="token keyword keyword-class">class</span> <span class="token class-name">Fibonacci</span><span class="token operator">&lt;</span><span class="token number">0</span><span class="token operator">&gt;</span><span class="token punctuation">{</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token keyword keyword-static">static</span> <span class="token keyword keyword-const">const</span> <span class="token keyword keyword-int">int</span> value<span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-template">template</span><span class="token operator">&lt;</span><span class="token operator">&gt;</span>
<span class="token keyword keyword-class">class</span> <span class="token class-name">Fibonacci</span><span class="token operator">&lt;</span><span class="token number">1</span><span class="token operator">&gt;</span><span class="token punctuation">{</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token keyword keyword-static">static</span> <span class="token keyword keyword-const">const</span> <span class="token keyword keyword-int">int</span> value<span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-const">const</span> <span class="token keyword keyword-int">int</span> f<span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">{</span>
        Fibonacci<span class="token operator">&lt;</span><span class="token number">1</span><span class="token operator">&gt;</span><span class="token double-colon punctuation">::</span>value<span class="token punctuation">,</span>
        Fibonacci<span class="token operator">&lt;</span><span class="token number">2</span><span class="token operator">&gt;</span><span class="token double-colon punctuation">::</span>value<span class="token punctuation">,</span>
        Fibonacci<span class="token operator">&lt;</span><span class="token number">3</span><span class="token operator">&gt;</span><span class="token double-colon punctuation">::</span>value<span class="token punctuation">,</span>
        Fibonacci<span class="token operator">&lt;</span><span class="token number">4</span><span class="token operator">&gt;</span><span class="token double-colon punctuation">::</span>value<span class="token punctuation">,</span>
        Fibonacci<span class="token operator">&lt;</span><span class="token number">5</span><span class="token operator">&gt;</span><span class="token double-colon punctuation">::</span>value<span class="token punctuation">,</span>
        Fibonacci<span class="token operator">&lt;</span><span class="token number">6</span><span class="token operator">&gt;</span><span class="token double-colon punctuation">::</span>value<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-for">for</span> <span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">6</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> f<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// é™æ€æ–­è¨€ï¼šç¼–è¯‘å™¨æ£€æŸ¥æ¡ä»¶æ˜¯å¦æˆç«‹ã€‚ä¸æˆç«‹æ—¶å¼•å‘ç¼–è¯‘é”™è¯¯</span>
    <span class="token keyword keyword-static_assert">static_assert</span><span class="token punctuation">(</span>Fibonacci<span class="token operator">&lt;</span><span class="token number">30</span><span class="token operator">&gt;</span><span class="token double-colon punctuation">::</span>value <span class="token operator">==</span> <span class="token number">832040</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><h3 id="ä¸‰éç±»å‹æ¨¡ç‰ˆå‚æ•°">ï¼ˆä¸‰ï¼‰éç±»å‹æ¨¡ç‰ˆå‚æ•° </h3>
<p>æ¨¡æ¿å‚æ•°å¹¶ä¸ä¸€å®šæ˜¯ç±»å‹ï¼Œè¿˜å¯ä»¥æ˜¯å˜é‡ï¼Œç§°ä¸ºéç±»å‹æ¨¡æ¿å‚æ•°ã€‚</p>
<ul>
<li>ç”±äºæ¨¡æ¿çš„å®ä¾‹åŒ–æ˜¯åœ¨ç¼–è¯‘æœŸé—´å®Œæˆçš„ï¼Œæ‰€ä»¥æ¨¡æ¿å®å‚å¿…é¡»æ˜¯å¸¸é‡</li>
</ul>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token keyword keyword-template">template</span><span class="token operator">&lt;</span><span class="token keyword keyword-typename">typename</span> <span class="token class-name">T</span><span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span> N<span class="token operator">&gt;</span>
<span class="token keyword keyword-class">class</span> <span class="token class-name">Array</span> <span class="token punctuation">{</span>
<span class="token keyword keyword-private">private</span><span class="token operator">:</span>
    T data<span class="token punctuation">[</span>N<span class="token punctuation">]</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token keyword keyword-void">void</span> <span class="token function">fill</span><span class="token punctuation">(</span><span class="token keyword keyword-const">const</span> T<span class="token operator">&amp;</span> value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword keyword-for">for</span> <span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> N<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            data<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> value<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    Array<span class="token operator">&lt;</span><span class="token keyword keyword-int">int</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token operator">&gt;</span> a<span class="token punctuation">;</span>
    a<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token number">42</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-int">int</span> n <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">//næ˜¯å¸¸é‡</span>
    Array<span class="token operator">&lt;</span><span class="token keyword keyword-int">int</span><span class="token punctuation">,</span> n<span class="token operator">&gt;</span> ex1<span class="token punctuation">;</span><span class="token comment">//æŠ¥é”™</span>
    <span class="token keyword keyword-constexpr">constexpr</span> m <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token comment">//ç”¨constexprå®šä¹‰çš„ä¹Ÿæ˜¯å¸¸é‡</span>
    Array<span class="token operator">&lt;</span><span class="token keyword keyword-int">int</span><span class="token punctuation">,</span> m<span class="token operator">&gt;</span> ex2<span class="token punctuation">;</span><span class="token comment">//ä¸æŠ¥é”™</span>
    <span class="token keyword keyword-const">const</span> <span class="token keyword keyword-int">int</span> p <span class="token operator">=</span> n<span class="token punctuation">;</span> <span class="token comment">//ç”¨å˜é‡ç»™åªè¯»ç±»å‹èµ‹å€¼ï¼Œå¾—åˆ°çš„æ˜¯åªè¯»å˜é‡ï¼Œä¹Ÿä¸æ˜¯å¸¸é‡</span>
    Array<span class="token operator">&lt;</span><span class="token keyword keyword-int">int</span><span class="token punctuation">,</span> p<span class="token operator">&gt;</span> ex3<span class="token punctuation">;</span><span class="token comment">//æŠ¥é”™</span>
    <span class="token keyword keyword-const">const</span> <span class="token keyword keyword-int">int</span> q <span class="token operator">=</span> m<span class="token punctuation">;</span> <span class="token comment">//ç”¨å¸¸é‡ç»™åªè¯»ç±»å‹èµ‹å€¼ï¼Œå¾—åˆ°çš„æ˜¯å¸¸é‡</span>
    Array<span class="token operator">&lt;</span><span class="token keyword keyword-int">int</span><span class="token punctuation">,</span> q<span class="token operator">&gt;</span> ex4<span class="token punctuation">;</span><span class="token comment">//ä¸æŠ¥é”™</span>
<span class="token punctuation">}</span>
</code></pre><h3 id="å››å˜å‚æ¨¡ç‰ˆ">ï¼ˆå››ï¼‰å˜å‚æ¨¡ç‰ˆ </h3>
<h4 id="å˜å‚æ¨¡ç‰ˆ">å˜å‚æ¨¡ç‰ˆ </h4>
<p>å˜å‚æ¨¡ç‰ˆæ˜¯æŒ‡æ¨¡ç‰ˆå‚æ•°ä¸å®šé•¿çš„æ¨¡ç‰ˆã€‚</p>
<ul>
<li>åœ¨æ¨¡æ¿å½¢å‚åˆ—è¡¨ä¸­ï¼Œå¯ä»¥ç”¨ <code>typename... Ts</code> å¼•å…¥æ¨¡æ¿å½¢å‚åŒ… <code>Ts</code></li>
</ul>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token keyword keyword-template">template</span> ï¼œ<span class="token keyword keyword-typename">typename</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> Tsï¼
<span class="token keyword keyword-struct">struct</span> <span class="token class-name">S</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
ã€€
Sï¼œï¼ s1<span class="token punctuation">;</span> <span class="token comment">// OK</span>
Sï¼œ<span class="token keyword keyword-int">int</span>ï¼ s2<span class="token punctuation">;</span> <span class="token comment">// OK</span>
Sï¼œ<span class="token keyword keyword-int">int</span><span class="token punctuation">,</span> <span class="token keyword keyword-bool">bool</span>ï¼ s3<span class="token punctuation">;</span> <span class="token comment">// OK</span>
Sï¼œ<span class="token keyword keyword-char">char</span><span class="token punctuation">,</span> <span class="token keyword keyword-bool">bool</span><span class="token punctuation">,</span> <span class="token keyword keyword-double">double</span><span class="token punctuation">,</span> <span class="token keyword keyword-long">long</span><span class="token punctuation">,</span> <span class="token keyword keyword-unsigned">unsigned</span>ï¼ s4<span class="token punctuation">;</span> <span class="token comment">// OK</span>
</code></pre><ul>
<li><strong>å‡½æ•°å½¢å‚åŒ…</strong></li>
</ul>
<p><code>æ¨¡æ¿å½¢å‚åŒ…å + ... + å½¢å‚å</code>ï¼ˆ<code>Ts... args</code>ï¼‰</p>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token keyword keyword-template">template</span> ï¼œ<span class="token keyword keyword-typename">typename</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> Tsï¼
<span class="token keyword keyword-void">void</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> a<span class="token punctuation">,</span> Ts<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//æ³¨æ„ç¬¬ä¸€ä¸ªå‚æ•°ä¸æ˜¯å˜å‚ï¼Œå®ƒå›ºå®šåœ°å£°æ˜ä¸º intï¼›å‰©ä½™çš„éƒ¨åˆ†æ˜¯å¯å˜çš„ã€‚æ­¤å¤–ï¼Œå‡½æ•°å½¢å‚åŒ…åªèƒ½å‡ºç°ä¸€æ¬¡ï¼Œè€Œä¸”æ˜¯å½¢å‚åˆ—è¡¨çš„ç»“å°¾ã€‚</span>

<span class="token function">f</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//è°ƒç”¨ fï¼œï¼</span>
<span class="token function">f</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">42</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è°ƒç”¨fï¼œintï¼</span>
<span class="token function">f</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token char">'@'</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token number">3.14</span><span class="token punctuation">,</span> <span class="token number">42L</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//è°ƒç”¨ fï¼œchar, bool, double, longï¼</span>

</code></pre><p><code>sizeof...()</code>è¿ç®—ç¬¦ï¼šè¿”å›å½¢å‚åŒ…ä¸­çš„ç±»å‹/å½¢å‚ä¸ªæ•°</p>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token keyword keyword-template">template</span><span class="token operator">&lt;</span><span class="token keyword keyword-typename">typename</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> Ts<span class="token operator">&gt;</span>
<span class="token keyword keyword-void">void</span> <span class="token function">count</span><span class="token punctuation">(</span>Ts<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> args<span class="token punctuation">)</span><span class="token punctuation">{</span>
    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token keyword keyword-sizeof">sizeof</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">count</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//0</span>
    <span class="token function">count</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//1</span>
    <span class="token function">count</span><span class="token punctuation">(</span><span class="token string">"hello"</span><span class="token punctuation">,</span> <span class="token string">"world"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//2</span>
    <span class="token function">count</span><span class="token punctuation">(</span><span class="token string">"do not"</span><span class="token punctuation">,</span> <span class="token string">"dereference"</span><span class="token punctuation">,</span> <span class="token keyword keyword-nullptr">nullptr</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//3</span>
    <span class="token function">count</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token char">'+'</span><span class="token punctuation">,</span> <span class="token number">1LL</span><span class="token punctuation">,</span> <span class="token string">"="</span><span class="token punctuation">,</span> <span class="token number">2.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//5</span>
<span class="token punctuation">}</span>
</code></pre><ul>
<li><strong>åŒ…å±•å¼€</strong>ï¼š<code>å½¢å‚åŒ…...</code> ä¼šè¢«æ›¿æ¢ä¸ºæ¯ä¸€ä¸ªå½¢å‚çš„å…·ä½“å€¼ç”¨é€—å·åˆ†éš”å¼€æ¥çš„å½¢å¼ã€‚</li>
</ul>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token keyword keyword-template">template</span> ï¼œ<span class="token keyword keyword-typename">typename</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> Tsï¼
std<span class="token double-colon punctuation">::</span>vectorï¼œ<span class="token keyword keyword-int">int</span>ï¼ <span class="token function">f</span><span class="token punctuation">(</span>Ts<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-return">return</span> <span class="token punctuation">{</span> args<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">f</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è¿”å›åŒ…å« {1, 2, 3} çš„ std::vector</span>

<span class="token keyword keyword-template">template</span> <span class="token operator">&lt;</span><span class="token keyword keyword-typename">typename</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> Ts<span class="token operator">&gt;</span>
<span class="token keyword keyword-void">void</span> <span class="token function">print</span><span class="token punctuation">(</span>Ts<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    std<span class="token double-colon punctuation">::</span>vector<span class="token operator">&lt;</span><span class="token keyword keyword-int">int</span><span class="token operator">&gt;</span> v<span class="token punctuation">{</span>args<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-for">for</span> <span class="token punctuation">(</span><span class="token keyword keyword-auto">auto</span><span class="token operator">&amp;</span> i<span class="token operator">:</span>v<span class="token punctuation">)</span><span class="token punctuation">{</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> i <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token char">'@'</span><span class="token punctuation">,</span> <span class="token number">3.15</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre><p><strong>ä¾‹é¢˜</strong> print()å‡½æ•°çš„é€’å½’å®ç°</p>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token keyword keyword-template">template</span><span class="token operator">&lt;</span><span class="token keyword keyword-typename">typename</span> <span class="token class-name">T</span><span class="token punctuation">,</span><span class="token keyword keyword-typename">typename</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> Ts<span class="token operator">&gt;</span>
<span class="token keyword keyword-void">void</span> <span class="token function">outputFirst</span><span class="token punctuation">(</span>T x<span class="token punctuation">,</span> Ts<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> args<span class="token punctuation">)</span><span class="token punctuation">{</span>
    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> x<span class="token punctuation">;</span>
    <span class="token keyword keyword-if">if</span> <span class="token keyword keyword-constexpr">constexpr</span> <span class="token punctuation">(</span><span class="token keyword keyword-sizeof">sizeof</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">outputFirst</span><span class="token punctuation">(</span>args<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-else">else</span><span class="token punctuation">{</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword keyword-template">template</span><span class="token operator">&lt;</span><span class="token keyword keyword-typename">typename</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> Us<span class="token operator">&gt;</span>
<span class="token keyword keyword-void">void</span> <span class="token function">print</span><span class="token punctuation">(</span>Us<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> args<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token function">outputFirst</span><span class="token punctuation">(</span>args<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><h4 id="å±•å¼€æ¨¡å¼">å±•å¼€æ¨¡å¼ </h4>
<p><code>args ...</code>åªæ˜¯æœ€ç®€å•çš„ä¸€ç§åŒ…å±•å¼€å½¢å¼ï¼Œæ›´é€šç”¨çš„æ˜¯<strong>å±•å¼€æ¨¡å¼</strong><br>
å½¢å¼ä¸ºï¼š<code>(argsçš„æŸç§è¡¨è¾¾å¼) ...</code></p>
<p>ä¾‹å¦‚ï¼Œ<code>args + 1 ...</code>ä¼šå°†æ¯ä¸ªå½¢å‚éƒ½ä»¥ + 1çš„å½¢å¼å†™å‡ºã€‚</p>
<p><strong>ä¾‹é¢˜</strong></p>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;vector&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;cmath&gt;</span></span>

<span class="token keyword keyword-int">int</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> x<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword keyword-return">return</span> <span class="token number">2</span><span class="token operator">*</span>x <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword keyword-template">template</span><span class="token operator">&lt;</span><span class="token keyword keyword-typename">typename</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> Ts<span class="token operator">&gt;</span>
std<span class="token double-colon punctuation">::</span>vector<span class="token operator">&lt;</span><span class="token keyword keyword-double">double</span><span class="token operator">&gt;</span> <span class="token function">makeSqrtVec</span><span class="token punctuation">(</span>Ts<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> args<span class="token punctuation">)</span><span class="token punctuation">{</span>
    std<span class="token double-colon punctuation">::</span>vector<span class="token operator">&lt;</span><span class="token keyword keyword-double">double</span><span class="token operator">&gt;</span> v<span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token function">sqrt</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-return">return</span> v<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword keyword-template">template</span><span class="token operator">&lt;</span><span class="token keyword keyword-typename">typename</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> Ts<span class="token operator">&gt;</span>
std<span class="token double-colon punctuation">::</span>vector<span class="token operator">&lt;</span><span class="token keyword keyword-int">int</span><span class="token operator">&gt;</span> <span class="token function">F</span><span class="token punctuation">(</span>Ts<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> args<span class="token punctuation">)</span><span class="token punctuation">{</span>
    std<span class="token double-colon punctuation">::</span>vector<span class="token operator">&lt;</span><span class="token keyword keyword-int">int</span><span class="token operator">&gt;</span> v<span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token function">f</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-return">return</span> v<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-for">for</span> <span class="token punctuation">(</span><span class="token keyword keyword-auto">auto</span> i <span class="token operator">:</span> <span class="token function">makeSqrtVec</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> i <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span><span class="token punctuation">;</span> <span class="token comment">//è¾“å‡º1ï¼Œ2ï¼Œ3ï¼Œ4ï¼Œ5</span>
    <span class="token punctuation">}</span>
    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>

    <span class="token keyword keyword-for">for</span> <span class="token punctuation">(</span><span class="token keyword keyword-auto">auto</span> i <span class="token operator">:</span> <span class="token function">F</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> i <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span><span class="token punctuation">;</span> <span class="token comment">//è¾“å‡º17ï¼Œ15ï¼Œ13</span>
    <span class="token punctuation">}</span>
    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>

    <span class="token keyword keyword-for">for</span> <span class="token punctuation">(</span><span class="token keyword keyword-auto">auto</span> i <span class="token operator">:</span> <span class="token function">makeSqrtVec</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> i <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><h4 id="æŠ˜å è¡¨è¾¾å¼">æŠ˜å è¡¨è¾¾å¼ </h4>
<p>æŠ˜å è¡¨è¾¾å¼å…è®¸åœ¨å‚æ•°åŒ…ä¸­è¿ç»­â€œæŠ˜å â€åœ°åšäºŒå…ƒè¿ç®—ï¼Œå¹¶å¾—åˆ°ä¸€ä¸ªæœ€ç»ˆçš„ç»“æœã€‚æ¯”å¦‚å¯¹äºå½¢å‚åŒ… 1, 2, 3, 4ï¼Œåœ¨å…¶ä¸Š<strong>å·¦æŠ˜å </strong>åœ°åšâ€œåŠ æ³•â€ï¼Œæ•ˆæœå°±å¦‚åŒ (((1+2)+3)+4)ã€‚ç±»ä¼¼åœ°è¿˜æœ‰<strong>å³æŠ˜å </strong>ï¼Œåªä¸è¿‡æ˜¯å…ˆå¯¹æœ€åä¸¤ä¸ªå½¢å‚åšè¿ç®—ã€‚</p>
<p>å·¦æŠ˜å çš„æŠ˜å è¡¨è¾¾å¼å†™æˆ <code>(... op args)</code>ï¼Œå…¶ä¸­ <code>op</code> æ˜¯äºŒå…ƒè¿ç®—ç¬¦ï¼Œ<code>args</code> æ˜¯å½¢å‚åŒ…ï¼Œå¦‚ <code>(... + args)</code> å°±æ˜¯å·¦æŠ˜å åœ°åšåŠ æ³•ã€‚å³æŠ˜å å°±æ˜¯å°†çœç•¥å·æ”¾åœ¨è¿ç®—ç¬¦å³ä¾§ï¼š<code>(args op ...)</code>ã€‚æ³¨æ„æŠ˜å è¡¨è¾¾å¼çš„å¤–å›´æ‹¬å·æ˜¯å¿…éœ€çš„ã€‚</p>
<p>æŠ˜å è¡¨è¾¾å¼æ—¢å¯ä»¥ä½œç”¨åœ¨å‡½æ•°å½¢å‚åŒ…ä¸Šï¼Œä¹Ÿå¯ä»¥ä½œç”¨åœ¨æ¨¡æ¿å½¢å‚åŒ…ä¸Šã€‚æ¯”å¦‚å¯¹äº <code>template ï¼œint... Nsï¼ /* ... */</code> è¿™ç§æ¨¡æ¿ï¼Œå‡ºç°<code> (... * Ns)</code> çš„åœºåˆå°±ä¼šè¢«æ›¿æ¢ä¸ºæ‰€æœ‰ <code>Ns</code> éç±»å‹å®å‚çš„ä¹˜ç§¯ã€‚</p>
<p><strong>ä¾‹é¢˜</strong></p>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string&gt;</span></span>

<span class="token keyword keyword-template">template</span><span class="token operator">&lt;</span><span class="token keyword keyword-typename">typename</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>Ts<span class="token operator">&gt;</span>
<span class="token keyword keyword-auto">auto</span> <span class="token function">sum</span><span class="token punctuation">(</span>Ts <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> args<span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token comment">//ç”¨autoè‡ªåŠ¨æ¨å¯¼è¿”å›å€¼ç±»å‹</span>
    <span class="token keyword keyword-return">return</span> <span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token operator">+</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword keyword-template">template</span><span class="token operator">&lt;</span><span class="token keyword keyword-typename">typename</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>Ts<span class="token operator">&gt;</span>
<span class="token keyword keyword-int">int</span> <span class="token function">sumOfSquare</span><span class="token punctuation">(</span>Ts <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> args<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword keyword-return">return</span> <span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token operator">+</span> <span class="token punctuation">(</span>args<span class="token operator">*</span>args<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword keyword-template">template</span><span class="token operator">&lt;</span><span class="token keyword keyword-int">int</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>Ts<span class="token operator">&gt;</span> <span class="token comment">//è¿™é‡Œç±»æ¨¡ç‰ˆçš„å‚æ•°æ˜¯éç±»å‹å‚æ•°</span>
<span class="token keyword keyword-class">class</span> <span class="token class-name">Sum</span><span class="token punctuation">{</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token keyword keyword-static">static</span> <span class="token keyword keyword-int">int</span> value<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-template">template</span><span class="token operator">&lt;</span><span class="token keyword keyword-int">int</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>Ts<span class="token operator">&gt;</span> 
<span class="token keyword keyword-int">int</span> Sum<span class="token operator">&lt;</span>Ts<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token operator">&gt;</span><span class="token double-colon punctuation">::</span>value<span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token operator">+</span>Ts<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">//å¯¹ç±»æ¨¡ç‰ˆçš„é™æ€å˜é‡è¿›è¡Œåˆå§‹åŒ–</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token function">sum</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> Sum<span class="token operator">&lt;</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token operator">&gt;</span><span class="token double-colon punctuation">::</span>value <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token function">sum</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> Sum<span class="token operator">&lt;</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token operator">&gt;</span><span class="token double-colon punctuation">::</span>value <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token function">sum</span><span class="token punctuation">(</span>std<span class="token double-colon punctuation">::</span>string<span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">"Hello"</span><span class="token punctuation">,</span> <span class="token string">", "</span><span class="token punctuation">,</span> <span class="token string">"world"</span><span class="token punctuation">,</span> <span class="token char">'!'</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token function">sumOfSquare</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">13</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><h2 id="å-æ ‡å‡†æ¨¡ç‰ˆåº“stl">åã€æ ‡å‡†æ¨¡ç‰ˆåº“ï¼ˆSTLï¼‰ </h2>
<h3 id="ä¸€stlçš„è®¾è®¡ç†å¿µ">ï¼ˆä¸€ï¼‰STLçš„è®¾è®¡ç†å¿µ </h3>
<table>
<thead>
<tr>
<th style="text-align:center">ç¨‹åºçš„éœ€æ±‚</th>
<th style="text-align:center">STLçš„æŠ½è±¡</th>
<th style="text-align:center">åŠŸèƒ½</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">å­˜å‚¨æ•°æ®</td>
<td style="text-align:center">å®¹å™¨</td>
<td style="text-align:center">å®¹çº³å„ç§æ•°æ®ç±»å‹çš„é€šç”¨æ•°æ®ç»“æ„ï¼Œæ˜¯<strong>ç±»æ¨¡æ¿</strong>ã€‚</td>
</tr>
<tr>
<td style="text-align:center">è¯»å†™æ•°æ®</td>
<td style="text-align:center">è¿­ä»£å™¨</td>
<td style="text-align:center">å¯ç”¨äºä¾æ¬¡å­˜å–å®¹å™¨ä¸­å…ƒç´ ï¼Œ<strong>ç±»ä¼¼äºæŒ‡é’ˆ</strong>ã€‚</td>
</tr>
<tr>
<td style="text-align:center">æ“ä½œæ•°æ®</td>
<td style="text-align:center">ç®—æ³•</td>
<td style="text-align:center">ç”¨äºæ“ä½œå®¹å™¨ä¸­çš„å…ƒç´ çš„å‡½æ•°<strong>æ¨¡æ¿</strong>ã€‚</td>
</tr>
</tbody>
</table>
<h3 id="äºŒå®¹å™¨">ï¼ˆäºŒï¼‰å®¹å™¨ </h3>
<ul>
<li>å¯ä»¥ç”¨äºå­˜æ”¾å„ç§ç±»å‹çš„æ•°æ®ï¼ˆåŸºæœ¬ç±»å‹çš„å˜é‡ï¼Œå¯¹è±¡ç­‰ï¼‰çš„æ•°æ®ç»“æ„ï¼Œéƒ½æ˜¯ç±»æ¨¡æ¿ã€‚</li>
<li>å®¹å™¨åˆ†ä¸ºä¸‰ç§ï¼š
<ul>
<li>é¡ºåºå®¹å™¨ï¼ˆ<code>vector</code>,<code>deque</code>,<code>list</code>ï¼‰</li>
<li>å…³è”å®¹å™¨
<ul>
<li>æœ‰åºå…³è”å®¹å™¨ï¼ˆ<code>set</code>,<code>multiset</code>,<code>map</code>,<code>multimap</code>ï¼‰</li>
<li>æ— åºå…³è”å®¹å™¨ï¼ˆ<code>unordered_set</code>,<code>unordered_multiset</code>,<code>unordered_map</code>,<code>unordered_multimap</code>ï¼‰</li>
</ul>
</li>
<li>å®¹å™¨é€‚é…å™¨ï¼ˆ<code>stack</code>,<code>queue</code>,<code>priority_queue</code>ï¼‰</li>
</ul>
</li>
<li>å¯¹è±¡è¢«æ’å…¥å®¹å™¨ä¸­æ—¶ï¼Œè¢«æ’å…¥çš„æ˜¯å¯¹è±¡çš„ä¸€ä¸ª<strong>å¤åˆ¶å“</strong>ã€‚</li>
</ul>
<p><strong>å®šä¹‰ä¸€ä¸ªå®¹å™¨</strong></p>
<p><code>å®¹å™¨å&lt;å¯¹è±¡ç±»å‹&gt; å®¹å™¨å˜é‡å</code></p>
<h4 id="å®¹å™¨çš„æˆå‘˜å‡½æ•°">å®¹å™¨çš„æˆå‘˜å‡½æ•° </h4>
<p>å¤§éƒ¨åˆ†æ ‡å‡†åº“å®¹å™¨å…±æœ‰çš„æˆå‘˜å‡½æ•°ï¼š</p>
<table>
<thead>
<tr>
<th style="text-align:center">å‡½æ•°å</th>
<th style="text-align:center">å‡½æ•°åŠŸèƒ½</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><code>empty</code></td>
<td style="text-align:center">åˆ¤æ–­å®¹å™¨ä¸­æ˜¯å¦æœ‰å…ƒç´ </td>
</tr>
<tr>
<td style="text-align:center"><code>max_size</code></td>
<td style="text-align:center">å®¹å™¨ä¸­æœ€å¤šèƒ½è£…å¤šå°‘å…ƒç´ </td>
</tr>
<tr>
<td style="text-align:center"><code>size</code></td>
<td style="text-align:center">å®¹å™¨ä¸­å…ƒç´ ä¸ªæ•°</td>
</tr>
<tr>
<td style="text-align:center"><code>swap</code></td>
<td style="text-align:center">äº¤æ¢ä¸¤ä¸ªå®¹å™¨çš„å†…å®¹</td>
</tr>
<tr>
<td style="text-align:center"><code>&gt; &gt;= &lt; &lt;= == != </code></td>
<td style="text-align:center">ç›¸å½“äºæŒ‰è¯å…¸é¡ºåºæ¯”è¾ƒä¸¤ä¸ªå®¹å™¨çš„è¿ç®—ç¬¦</td>
</tr>
</tbody>
</table>
<h3 id="é¡ºåºå®¹å™¨">é¡ºåºå®¹å™¨ </h3>
<p>å®¹å™¨å†…çš„å…ƒç´ å¹¶éæ’åºçš„ï¼Œå…ƒç´ çš„æ’å…¥ä½ç½®åŒå…ƒç´ çš„å€¼æ— å…³ï¼Œå…ƒç´ çš„é¡ºåºå¯ä»¥è¢«æ§åˆ¶ã€‚</p>
<h4 id="é¡ºåºå®¹å™¨çš„å¸¸ç”¨æˆå‘˜å‡½æ•°">é¡ºåºå®¹å™¨çš„å¸¸ç”¨æˆå‘˜å‡½æ•° </h4>
<table>
<thead>
<tr>
<th style="text-align:center">å‡½æ•°å</th>
<th style="text-align:center">å‡½æ•°åŠŸèƒ½</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><code>front</code></td>
<td style="text-align:center">è¿”å›å®¹å™¨ä¸­ç¬¬ä¸€ä¸ªå…ƒç´ çš„å¼•ç”¨</td>
</tr>
<tr>
<td style="text-align:center"><code>back</code></td>
<td style="text-align:center">è¿”å›å®¹å™¨ä¸­æœ€åä¸€ä¸ªå…ƒç´ çš„å¼•ç”¨</td>
</tr>
<tr>
<td style="text-align:center"><code>push_back</code></td>
<td style="text-align:center">åœ¨å®¹å™¨æœ«å°¾å¢åŠ æ–°å…ƒç´ </td>
</tr>
<tr>
<td style="text-align:center"><code>pop_back</code></td>
<td style="text-align:center">åœ¨å®¹å™¨æœ«å°¾åˆ é™¤å…ƒç´ </td>
</tr>
<tr>
<td style="text-align:center"><code>clear</code></td>
<td style="text-align:center">ä»å®¹å™¨ä¸­åˆ é™¤æ‰€æœ‰å…ƒç´ </td>
</tr>
</tbody>
</table>
<h4 id="vectorå¤´æ–‡ä»¶vector">vectorï¼šå¤´æ–‡ä»¶<code>&lt;vector&gt;</code> </h4>
<p><strong>åŠ¨æ€æ•°ç»„</strong>ï¼Œ<strong>éšæœº</strong>å­˜å–ä»»ä½•å…ƒç´ éƒ½èƒ½åœ¨å¸¸æ•°æ—¶é—´å®Œæˆã€‚åœ¨<strong>å°¾ç«¯å¢åˆ å…ƒç´ </strong>å…·æœ‰è¾ƒä½³çš„æ€§èƒ½ã€‚</p>
<p><strong>ç¤ºä¾‹</strong></p>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;vector&gt;</span> <span class="token comment">//vectorå®šä¹‰äº&lt;vector&gt;å¤´æ–‡ä»¶</span></span>
<span class="token keyword keyword-using">using</span> <span class="token keyword keyword-namespace">namespace</span> std<span class="token punctuation">;</span>
<span class="token keyword keyword-void">void</span> <span class="token function">print</span><span class="token punctuation">(</span><span class="token keyword keyword-const">const</span> vector<span class="token operator">&lt;</span><span class="token keyword keyword-int">int</span><span class="token operator">&gt;</span><span class="token operator">&amp;</span> a<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword keyword-for">for</span> <span class="token punctuation">(</span><span class="token keyword keyword-auto">auto</span> i<span class="token operator">:</span>a<span class="token punctuation">)</span><span class="token punctuation">{</span>
        cout <span class="token operator">&lt;&lt;</span> i <span class="token operator">&lt;&lt;</span> <span class="token char">' '</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    cout <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    vector<span class="token operator">&lt;</span><span class="token keyword keyword-int">int</span><span class="token operator">&gt;</span> a<span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">//å®šä¹‰vectorå¯¹è±¡</span>
    vector b<span class="token punctuation">{</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">//å¯çœç•¥ç±»å‹å®å‚</span>
<span class="token comment">//å¯åƒæ•°ç»„ä¸€æ ·ä½¿ç”¨vector</span>
    cout <span class="token operator">&lt;&lt;</span> a<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token comment">// è¾“å‡º 1</span>
    <span class="token function">print</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è¾“å‡º 1 2 3</span>
    a<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">print</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è¾“å‡º 1 2 3 4</span>
    a<span class="token punctuation">.</span><span class="token function">front</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
    <span class="token function">print</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è¾“å‡º 3 2 3 4</span>
<span class="token punctuation">}</span>
</code></pre><p><strong>ç¤ºä¾‹</strong> ç”¨<code>vector</code>å®ç°äºŒç»´æ•°ç»„</p>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;vector&gt;</span></span>
<span class="token keyword keyword-using">using</span> <span class="token keyword keyword-namespace">namespace</span> std<span class="token punctuation">;</span>
<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    vector<span class="token operator">&lt;</span>vector<span class="token operator">&lt;</span><span class="token keyword keyword-int">int</span><span class="token operator">&gt;&gt;</span> <span class="token function">v</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// væœ‰3ä¸ªå…ƒç´ ï¼Œæ¯ä¸ªå…ƒç´ æ˜¯ä¸€ä¸ªvector&lt;int&gt;å®¹å™¨</span>

    <span class="token keyword keyword-for">for</span> <span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>i <span class="token operator">&lt;</span> v<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token operator">++</span>i<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword keyword-for">for</span> <span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>j <span class="token operator">&lt;</span> <span class="token number">4</span><span class="token punctuation">;</span><span class="token operator">++</span>j<span class="token punctuation">)</span><span class="token punctuation">{</span>
            v<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">pushback</span><span class="token punctuation">(</span>j<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-for">for</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> v<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword keyword-for">for</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> v<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token operator">++</span>j<span class="token punctuation">)</span>
            cout <span class="token operator">&lt;&lt;</span> v<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span><span class="token punctuation">;</span>
        cout <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><h4 id="dequeå¤´æ–‡ä»¶deque">dequeï¼šå¤´æ–‡ä»¶<code>&lt;deque&gt;</code> </h4>
<p><strong>åŒå‘é˜Ÿåˆ—</strong>ï¼ˆä¹Ÿæ˜¯ä¸€ä¸ªåŠ¨æ€æ•°ç»„ï¼‰ã€‚<strong>éšæœº</strong>å­˜å–ä»»ä½•å…ƒç´ éƒ½èƒ½åœ¨å¸¸æ•°æ—¶é—´å®Œæˆï¼ˆæ¬¡äº<code>vector</code>ï¼‰ã€‚åœ¨<strong>ä¸¤ç«¯å¢åˆ å…ƒç´ </strong>å…·æœ‰è¾ƒä½³çš„æ€§èƒ½ã€‚</p>
<p>ä¸<code>vector</code>ç›¸æ¯”ï¼Œå¤šæä¾›äº†ä¸¤ä¸ªæˆå‘˜å‡½æ•°<code>push_front</code>å’Œ<code>pop_front</code>ï¼Œå³ä»å¤´éƒ¨æ’å…¥æˆ–åˆ é™¤å…ƒç´ ã€‚å…ƒç´ è®¿é—®ï¼ˆå³<code>operator[]</code>ï¼‰ç¨æ…¢äº<code>vector</code>ã€‚</p>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;deque&gt;</span> <span class="token comment">// std::deque å®šä¹‰äº &lt;deque&gt; å¤´æ–‡ä»¶</span></span>
<span class="token keyword keyword-using">using</span> <span class="token keyword keyword-namespace">namespace</span> std<span class="token punctuation">;</span>
<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    deque<span class="token operator">&lt;</span><span class="token keyword keyword-int">int</span><span class="token operator">&gt;</span> a<span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// å®å‚ &lt;int&gt; å¯çœç•¥</span>
    a<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ç°åœ¨ a æ˜¯ {1, 2, 3, 4}</span>
    a<span class="token punctuation">.</span><span class="token function">pop_front</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ç°åœ¨ a æ˜¯ {2, 3, 4}</span>
    a<span class="token punctuation">.</span><span class="token function">pop_back</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ç°åœ¨ a æ˜¯ {2, 3}</span>
    a<span class="token punctuation">.</span><span class="token function">push_front</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ç°åœ¨ a æ˜¯ {5, 2, 3}</span>
    <span class="token keyword keyword-for">for</span> <span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> a<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        cout <span class="token operator">&lt;&lt;</span> a<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span><span class="token punctuation">;</span> <span class="token comment">// éå†</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><h4 id="listå¤´æ–‡ä»¶list">listï¼šå¤´æ–‡ä»¶<code>&lt;list&gt;</code> </h4>
<p><strong>åŒå‘é“¾è¡¨</strong>ã€‚åœ¨ä»»ä½•ä½ç½®å¢åˆ å…ƒç´ éƒ½èƒ½åœ¨å¸¸æ•°æ—¶é—´å®Œæˆã€‚<strong>ä¸æ”¯æŒéšæœºå­˜å–</strong>ã€‚</p>
<p>ä¸æ”¯æŒéšæœºå­˜å–ï¼ˆå³ä¸èƒ½ä½¿ç”¨<code>[]</code>è¿ç®—ç¬¦ï¼‰ã€‚é™¤äº†å…·æœ‰æ‰€æœ‰é¡ºåºå®¹å™¨éƒ½æœ‰çš„æˆå‘˜å‡½æ•°ä»¥å¤–ï¼Œè¿˜æ”¯æŒ8ä¸ªæˆå‘˜å‡½æ•°ï¼š<code>pop_front</code>,<code>push_front</code>,<code>sort</code>ï¼ˆæ’åºï¼Œ<strong><code>list</code>ä¸æ”¯æŒSTLçš„ç®—æ³•<code>sort</code></strong>ï¼‰,<code>remove</code>ï¼ˆåˆ é™¤å’ŒæŒ‡å®šå€¼ç›¸ç­‰çš„æ‰€æœ‰å…ƒç´ ï¼‰,<code>unique</code>ï¼ˆåˆ é™¤å’Œå‰ä¸€ä¸ªå…ƒç´ å€¼ç›¸åŒçš„æ‰€æœ‰å…ƒç´ ï¼‰,<code>merge</code>ï¼ˆåˆå¹¶ä¸¤ä¸ªé“¾è¡¨ï¼Œå¹¶æ¸…ç©ºè¢«åˆå¹¶çš„é‚£ä¸ªï¼‰,<code>reverse</code>ï¼ˆé¢ å€’é“¾è¡¨ï¼‰,<code>splice</code>ï¼ˆåœ¨æŒ‡å®šä½ç½®å‰é¢æ’å…¥å¦ä¸€é“¾è¡¨ä¸­çš„ä¸€ä¸ªæˆ–å¤šä¸ªå…ƒç´ ï¼Œå¹¶åœ¨å¦ä¸€é“¾è¡¨ä¸­åˆ é™¤è¢«æ’å…¥çš„å…ƒç´ ï¼‰ã€‚</p>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;list&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;algorithm&gt;</span></span>
<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    std<span class="token double-colon punctuation">::</span>list<span class="token operator">&lt;</span><span class="token keyword keyword-int">int</span><span class="token operator">&gt;</span> l <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">18</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

    l<span class="token punctuation">.</span><span class="token function">push_front</span><span class="token punctuation">(</span><span class="token number">24</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    l<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">13</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-auto">auto</span> it <span class="token operator">=</span> std<span class="token double-colon punctuation">::</span><span class="token function">find</span><span class="token punctuation">(</span>l<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>l<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>it <span class="token operator">!=</span> l<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        l<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>it<span class="token punctuation">,</span><span class="token number">42</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//insert(const_iterator pos, T&amp;&amp; value); åœ¨poså‰æ’å…¥valueçš„å‰¯æœ¬ã€‚</span>
    <span class="token keyword keyword-for">for</span> <span class="token punctuation">(</span><span class="token keyword keyword-auto">auto</span> i<span class="token operator">:</span>l<span class="token punctuation">)</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> i <span class="token operator">&lt;&lt;</span> <span class="token char">' '</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><h3 id="ä¸‰è¿­ä»£å™¨">ï¼ˆä¸‰ï¼‰è¿­ä»£å™¨ </h3>
<p><strong>åªè¦++itå’Œ*itæ˜¯åˆæ³•è¡¨è¾¾å¼</strong>ï¼Œitå°±æ˜¯è¿­ä»£å™¨ã€‚</p>
<ul>
<li>è¿­ä»£å™¨å¯ä»¥æ‰§è¡Œ<code>++</code>æ“ä½œï¼ŒæŒ‡å‘å®¹å™¨ä¸­çš„ä¸‹ä¸€ä¸ªå…ƒç´ ã€‚</li>
<li>é€šè¿‡<code>*it</code>å¯ä»¥è®¿é—®å®ƒâ€œæŒ‡å‘â€çš„å…ƒç´ ã€‚</li>
<li>ç”¨äºæŒ‡å‘é¡ºåºå®¹å™¨å’Œå…³è”å®¹å™¨ä¸­çš„å…ƒç´ ã€‚</li>
<li>è¿­ä»£å™¨ç”¨æ³•å’ŒæŒ‡é’ˆç±»ä¼¼ï¼ˆè£¸æŒ‡é’ˆå°±æ˜¯ä¸€ç§è¿­ä»£å™¨ï¼‰ã€‚</li>
<li>æœ‰<code>const</code>å’Œ<code>éconst</code>ä¸¤ç§ï¼Œé€šè¿‡è¿­ä»£å™¨å¯ä»¥è¯»å–å®ƒæŒ‡å‘çš„å…ƒç´ ï¼Œé€šè¿‡<code>éconst</code>è¿­ä»£å™¨è¿˜èƒ½ä¿®æ”¹å…¶æŒ‡å‘çš„å…ƒç´ ã€‚</li>
</ul>
<p><strong>å®šä¹‰ä¸€ä¸ªå®¹å™¨ç±»è¿­ä»£å™¨çš„æ–¹æ³•</strong></p>
<p>éconstè¿­ä»£å™¨ï¼š<code>å®¹å™¨ç±»å::iterator è¿­ä»£å™¨å˜é‡å</code><br>
constè¿­ä»£å™¨ï¼š<code>å®¹å™¨ç±»å::const_iterator è¿­ä»£å™¨å˜é‡å</code></p>
<h4 id="å®¹å™¨ä¸­æœ‰å…³è¿­ä»£å™¨çš„æˆå‘˜å‡½æ•°">å®¹å™¨ä¸­æœ‰å…³è¿­ä»£å™¨çš„æˆå‘˜å‡½æ•° </h4>
<p>é¡ºåºå®¹å™¨å’Œå…³è”å®¹å™¨ä¸­éƒ½æœ‰çš„æˆå‘˜å‡½æ•°ï¼š</p>
<table>
<thead>
<tr>
<th style="text-align:center">å‡½æ•°å</th>
<th style="text-align:center">å‡½æ•°åŠŸèƒ½</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><code>begin</code></td>
<td style="text-align:center">è¿”å›æŒ‡å‘å®¹å™¨ä¸­ç¬¬ä¸€ä¸ªå…ƒç´ çš„è¿­ä»£å™¨</td>
</tr>
<tr>
<td style="text-align:center"><code>end</code></td>
<td style="text-align:center">è¿”å›æŒ‡å‘å®¹å™¨ä¸­æœ€åä¸€ä¸ªå…ƒç´ åé¢çš„ä½ç½®çš„è¿­ä»£å™¨</td>
</tr>
<tr>
<td style="text-align:center"><code>rbegin</code></td>
<td style="text-align:center">è¿”å›æŒ‡å‘å®¹å™¨ä¸­æœ€åä¸€ä¸ªå…ƒç´ çš„è¿­ä»£å™¨</td>
</tr>
<tr>
<td style="text-align:center"><code>rend</code></td>
<td style="text-align:center">è¿”å›æŒ‡å‘å®¹å™¨ä¸­ç¬¬ä¸€ä¸ªå…ƒç´ å‰é¢çš„ä½ç½®çš„è¿­ä»£å™¨</td>
</tr>
<tr>
<td style="text-align:center"><code>erase</code></td>
<td style="text-align:center">åˆ é™¤è¿­ä»£å™¨æŒ‡å‘çš„å…ƒç´ ï¼ˆå¯èƒ½ä¼šä½¿è¯¥è¿­ä»£å™¨å¤±æ•ˆï¼‰ï¼Œæˆ–åˆ é™¤ä¸€ä¸ªåŒºé—´ï¼Œè¿”å›è¢«åˆ é™¤å…ƒç´ åé¢çš„é‚£ä¸ªå…ƒç´ çš„è¿­ä»£å™¨</td>
</tr>
</tbody>
</table>
<h4 id="åŸºäºèŒƒå›´çš„forå¾ªç¯">åŸºäºèŒƒå›´çš„forå¾ªç¯ </h4>
<ul>
<li>ä¸åœ¨å¾ªç¯ä¸­æ”¹å˜å…ƒç´ çš„å€¼ï¼š</li>
</ul>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code>std<span class="token double-colon punctuation">::</span>vector<span class="token operator">&lt;</span><span class="token keyword keyword-int">int</span><span class="token operator">&gt;</span> x <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword keyword-for">for</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> i<span class="token operator">:</span> x<span class="token punctuation">)</span><span class="token punctuation">{</span>
    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> i <span class="token operator">&lt;&lt;</span> <span class="token char">' '</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><p>ä¸Šè¿°è¡¨è¾¾å¼åŸç†ï¼š</p>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code>std<span class="token double-colon punctuation">::</span>vector<span class="token operator">&lt;</span><span class="token keyword keyword-int">int</span><span class="token operator">&gt;</span> x <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword keyword-for">for</span> <span class="token punctuation">(</span><span class="token keyword keyword-auto">auto</span> i <span class="token operator">=</span> x<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>i<span class="token operator">!=</span>x<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token operator">++</span>i<span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token comment">//iå°±æ˜¯ä¸€ä¸ªè¿­ä»£å™¨</span>
    <span class="token keyword keyword-int">int</span> x <span class="token operator">=</span> <span class="token operator">*</span>i<span class="token punctuation">;</span> <span class="token comment">//ç”¨*iè®¿é—®è¿­ä»£å™¨æŒ‡å‘çš„å…ƒç´ </span>
    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> x <span class="token operator">&lt;&lt;</span> <span class="token char">' '</span><span class="token punctuation">;</span> <span class="token comment">//åç»­æ“ä½œâ€œiâ€éƒ½æ˜¯åœ¨æ“ä½œxè¿™ä¸ªæ‹·è´ï¼Œå› æ­¤å¯¹iä½œä¿®æ”¹ä¸ä¼šæ”¹å˜åŸå®¹å™¨ä¸­å…ƒç´ çš„å€¼</span>
<span class="token punctuation">}</span>
</code></pre><ul>
<li>åœ¨å¾ªç¯ä¸­æ”¹å˜å…ƒç´ çš„å€¼ï¼šå°†å˜é‡å£°æ˜æ”¹æˆå¼•ç”¨çš„å½¢å¼</li>
</ul>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code>std<span class="token double-colon punctuation">::</span>vector<span class="token operator">&lt;</span><span class="token keyword keyword-int">int</span><span class="token operator">&gt;</span> x<span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword keyword-for">for</span> <span class="token punctuation">(</span><span class="token keyword keyword-int">int</span><span class="token operator">&amp;</span> i <span class="token operator">:</span> x<span class="token punctuation">)</span><span class="token punctuation">{</span>
    i <span class="token operator">*=</span> <span class="token number">2</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><p>ä¸Šè¿°è¡¨è¾¾å¼åŸç†ï¼š</p>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code>std<span class="token double-colon punctuation">::</span>vector<span class="token operator">&lt;</span><span class="token keyword keyword-int">int</span><span class="token operator">&gt;</span> x<span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword keyword-for">for</span> <span class="token punctuation">(</span><span class="token keyword keyword-auto">auto</span> i <span class="token operator">=</span> x<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>i <span class="token operator">!=</span> x<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token operator">*</span>i <span class="token operator">*=</span> <span class="token number">2</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><p><strong>ç¤ºä¾‹</strong> æ¡ä»¶æ±‚å’Œ</p>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;list&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;vector&gt;</span></span>

<span class="token keyword keyword-using">using</span> Judge <span class="token operator">=</span> <span class="token keyword keyword-bool">bool</span> <span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword keyword-template">template</span><span class="token operator">&lt;</span><span class="token keyword keyword-typename">typename</span> <span class="token class-name">T</span><span class="token operator">&gt;</span>
<span class="token keyword keyword-int">int</span> <span class="token function">sumIf</span><span class="token punctuation">(</span>T<span class="token operator">&amp;</span> x<span class="token punctuation">,</span> Judge f<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword keyword-int">int</span> sum <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-for">for</span> <span class="token punctuation">(</span><span class="token keyword keyword-auto">auto</span> i <span class="token operator">=</span> std<span class="token double-colon punctuation">::</span><span class="token function">begin</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>i <span class="token operator">!=</span> std<span class="token double-colon punctuation">::</span><span class="token function">end</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token operator">++</span>i<span class="token punctuation">)</span><span class="token punctuation">{</span> 
        <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span><span class="token function">f</span><span class="token punctuation">(</span><span class="token operator">*</span>i<span class="token punctuation">)</span><span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            sum <span class="token operator">+=</span> <span class="token operator">*</span>i<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token comment">/*å¦æ³•ï¼š
    for (auto&amp; i : x){ /æ­¤å¤„autoè‡ªåŠ¨æ¨å¯¼çš„æ˜¯å®¹å™¨xä¸­å‚¨å­˜å…ƒç´ çš„ç±»å‹ï¼Œè€Œéè¿­ä»£å™¨ç±»å‹ã€‚
        if (f(i)==1){
            sum += i;
        }
    }*/</span>
    <span class="token keyword keyword-return">return</span> sum<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    std<span class="token double-colon punctuation">::</span>vector<span class="token operator">&lt;</span><span class="token keyword keyword-int">int</span><span class="token operator">&gt;</span> v<span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-auto">auto</span> x <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-int">int</span> a<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    std<span class="token double-colon punctuation">::</span>list<span class="token operator">&lt;</span><span class="token keyword keyword-int">int</span><span class="token operator">&gt;</span> l<span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token function">sumIf</span><span class="token punctuation">(</span>v<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> i<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword keyword-return">return</span> i <span class="token operator">%</span> <span class="token number">3</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token function">sumIf</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> i<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword keyword-return">return</span> i <span class="token operator">%</span> <span class="token number">3</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token function">sumIf</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> i<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword keyword-return">return</span> i <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token function">sumIf</span><span class="token punctuation">(</span>l<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> i<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword keyword-return">return</span> i <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><h4 id="è¿­ä»£å™¨çš„ç§ç±»">è¿­ä»£å™¨çš„ç§ç±» </h4>
<p>ç”±å¼±åˆ°å¼ºåˆ†ä¸º6ç§ã€‚</p>
<table>
<thead>
<tr>
<th style="text-align:center">è¿­ä»£å™¨ç±»å‹</th>
<th style="text-align:center">æ–°å¢æ”¯æŒçš„æ“ä½œ</th>
<th style="text-align:center">æ”¯æŒæ­¤çº§è¿­ä»£å™¨çš„å®¹å™¨</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">0.å…¨éƒ¨è¿­ä»£å™¨</td>
<td style="text-align:center"><code>p++</code>,<code>++p</code></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">1.è¾“å…¥è¿­ä»£å™¨</td>
<td style="text-align:center">é€šè¿‡<code>*p</code>è¯»å–æ•°æ®</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">1.è¾“å‡ºè¿­ä»£å™¨</td>
<td style="text-align:center">é€šè¿‡<code>*p</code>ä¿®æ”¹æ•°æ®</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">2.å‰å‘è¿­ä»£å™¨</td>
<td style="text-align:center"><code>p==q</code>,<code>p!=q</code></td>
<td style="text-align:center"><code>forward_list</code></td>
</tr>
<tr>
<td style="text-align:center">3.åŒå‘è¿­ä»£å™¨</td>
<td style="text-align:center"><code>p--</code>,<code>--p</code></td>
<td style="text-align:center"><code>list</code>,<code>set</code>,<code>multiset</code>,<code>map</code>,<code>multimap</code></td>
</tr>
<tr>
<td style="text-align:center">4.éšæœºè®¿é—®è¿­ä»£å™¨</td>
<td style="text-align:center"><code>p+= i, p -= i, p + i, p â€“i</code>,<code>p &lt; q, p &lt;= q, p &gt; q, p&gt;= q</code>,<code>p[]</code></td>
<td style="text-align:center"><code>deque</code></td>
</tr>
<tr>
<td style="text-align:center">5.è¿ç»­è¿­ä»£å™¨</td>
<td style="text-align:center"><code>p-q</code>æ°å¥½æ˜¯æŒ‡å‘å…ƒç´ çš„åœ°å€å·®</td>
<td style="text-align:center"><code>vector</code></td>
</tr>
</tbody>
</table>
<p><strong>ç¤ºä¾‹</strong> <code>vector</code>å®¹å™¨çš„è¿­ä»£å™¨</p>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;vector&gt;</span></span>
<span class="token keyword keyword-using">using</span> <span class="token keyword keyword-namespace">namespace</span> std<span class="token punctuation">;</span>
<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    vector<span class="token operator">&lt;</span><span class="token keyword keyword-int">int</span><span class="token operator">&gt;</span> v<span class="token punctuation">{</span><span class="token number">100</span><span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">//ä¸€ä¸ªå­˜æ”¾intå…ƒç´ çš„vectorå®¹å™¨å¯¹è±¡, ä¸€å¼€å§‹é‡Œé¢æ²¡æœ‰å…ƒç´ </span>
    <span class="token comment">//way 1</span>
    <span class="token keyword keyword-int">int</span> i<span class="token punctuation">;</span>
    <span class="token keyword keyword-for">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>v<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
        cout <span class="token operator">&lt;&lt;</span> i <span class="token operator">&lt;&lt;</span> <span class="token string">","</span><span class="token punctuation">;</span>
    cout <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

    <span class="token comment">//way 2</span>
    vector<span class="token operator">&lt;</span><span class="token keyword keyword-int">int</span><span class="token operator">&gt;</span><span class="token double-colon punctuation">::</span>const_iterator i<span class="token punctuation">;</span> <span class="token comment">//å¸¸é‡è¿­ä»£å™¨</span>
    <span class="token keyword keyword-for">for</span><span class="token punctuation">(</span>i <span class="token operator">=</span> v<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i <span class="token operator">!=</span> v<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token comment">//ç”±äºvectoræ”¯æŒè¿ç»­è¿­ä»£å™¨ï¼Œæ‰€ä»¥ç»ˆæ­¢æ¡ä»¶ä¹Ÿå¯ä»¥å†™ä½œi &lt; v.end();</span>
        cout <span class="token operator">&lt;&lt;</span> <span class="token operator">*</span>i <span class="token operator">&lt;&lt;</span> <span class="token string">", "</span><span class="token punctuation">;</span>
    cout <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

    <span class="token comment">//way 2 ç­‰æ•ˆç‰ˆ1</span>
    <span class="token keyword keyword-for">for</span><span class="token punctuation">(</span><span class="token keyword keyword-auto">auto</span> i <span class="token operator">=</span> v<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>i<span class="token operator">!=</span>v<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token comment">//ç”¨autoæ¨å¯¼è¿­ä»£å™¨ç±»å‹</span>
        cout <span class="token operator">&lt;&lt;</span> <span class="token operator">*</span>i <span class="token operator">&lt;&lt;</span> <span class="token string">","</span><span class="token punctuation">;</span>
    cout <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

    <span class="token comment">//way 2 ç­‰æ•ˆç‰ˆ2</span>
    <span class="token keyword keyword-for">for</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> i <span class="token operator">:</span> v<span class="token punctuation">)</span>
        cout <span class="token operator">&lt;&lt;</span> i <span class="token operator">&lt;&lt;</span> <span class="token string">","</span><span class="token punctuation">;</span>
    cout <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    

    <span class="token comment">//way 3</span>
    vector<span class="token operator">&lt;</span><span class="token keyword keyword-int">int</span><span class="token operator">&gt;</span><span class="token double-colon punctuation">::</span>iterator j<span class="token punctuation">;</span> <span class="token comment">//éå¸¸é‡è¿­ä»£å™¨</span>
    <span class="token keyword keyword-for">for</span><span class="token punctuation">(</span>j <span class="token operator">=</span> v<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> j <span class="token operator">!=</span> v<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span>
        <span class="token operator">*</span>j <span class="token operator">*=</span> <span class="token number">100</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><p><strong>ç¤ºä¾‹</strong> <code>list</code>å®¹å™¨çš„è¿­ä»£å™¨</p>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code>list<span class="token operator">&lt;</span><span class="token keyword keyword-int">int</span><span class="token operator">&gt;</span> l<span class="token punctuation">{</span><span class="token number">100</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">//æ­£ç¡®çš„éå†listï¼š</span>
<span class="token keyword keyword-for">for</span> <span class="token punctuation">(</span><span class="token keyword keyword-auto">auto</span> i <span class="token operator">=</span> l<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>i<span class="token operator">!=</span> l<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token operator">*</span>i<span class="token punctuation">;</span>

<span class="token comment">//é”™è¯¯çš„éå†list:</span>
<span class="token keyword keyword-for">for</span> <span class="token punctuation">(</span><span class="token keyword keyword-auto">auto</span> i <span class="token operator">=</span> l<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>l<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token comment">//åŒå‘è¿­ä»£å™¨ä¸æ”¯æŒ&lt;</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token operator">*</span>i<span class="token punctuation">;</span>
<span class="token keyword keyword-for">for</span> <span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j<span class="token operator">&lt;</span>l<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span>
    cout <span class="token operator">&lt;&lt;</span> l<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">//listä¸æ”¯æŒ[]è¿ç®—ç¬¦</span>
</code></pre><h4 id="åŸºäºè¿­ä»£å™¨çš„å®¹å™¨æˆå‘˜å‡½æ•°">åŸºäºè¿­ä»£å™¨çš„å®¹å™¨æˆå‘˜å‡½æ•° </h4>
<p><strong>insertå¢åŠ å…ƒç´ </strong></p>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code>iterator <span class="token function">insert</span><span class="token punctuation">(</span>const_iterator pos<span class="token punctuation">,</span> <span class="token keyword keyword-const">const</span> T<span class="token operator">&amp;</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><p>å¦‚æœ<code>pos</code>æŒ‡å‘äº†ç¬¬nä¸ªå…ƒç´ ï¼Œé‚£ä¹ˆè°ƒç”¨<code>insert</code>æˆå‘˜å‡½æ•°ä¹‹åï¼Œå°±ä¼šå°†<code>value</code>è¿™ä¸ªå€¼æ’å…¥åœ¨ç¬¬nä¸ªå…ƒç´ ä¹‹å‰ã€‚</p>
<p><strong>eraseåˆ é™¤å…ƒç´ </strong></p>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code>iterator <span class="token function">erase</span><span class="token punctuation">(</span>const_iterator pos<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><p>å‚æ•°<code>pos</code>æ˜¯æŒ‡å‘è¦è¢«åˆ é™¤çš„å…ƒç´ çš„è¿­ä»£å™¨ã€‚</p>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code>vector a<span class="token punctuation">{</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token comment">// åœ¨é¦–ä¸ªå…ƒç´ 2ä¹‹å‰æ’å…¥1</span>
a<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ç°åœ¨aæ˜¯{1, 2, 3}</span>
<span class="token comment">// åœ¨ä¸­é—´æ’å…¥</span>
<span class="token keyword keyword-auto">auto</span> secondIt <span class="token operator">=</span> a<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">;</span>
a<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>secondIt<span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// ç°åœ¨aæ˜¯{1, 2, 5, 3}</span>
a<span class="token punctuation">.</span><span class="token function">erase</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//åˆ é™¤ç¬¬ä¸€ä¸ªå…ƒç´  ç°åœ¨aæ˜¯{2, 5, 3}</span>
<span class="token keyword keyword-auto">auto</span> pos <span class="token operator">=</span> <span class="token function">find</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>a<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//ç”¨find()å‡½æ•°å¯»æ‰¾æŸä¸ªå€¼å¯¹åº”çš„è¿­ä»£å™¨</span>
<span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>pos <span class="token operator">!=</span> a<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    a<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>pos<span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//ç°åœ¨aæ˜¯{1, 2, 4, 5, 3}</span>
</code></pre><h3 id="å››ç®—æ³•">ï¼ˆå››ï¼‰ç®—æ³• </h3>
<ul>
<li>STLä¸­æä¾›èƒ½åœ¨å„ç§å®¹å™¨ä¸­é€šç”¨çš„ç®—æ³•ï¼Œæ¯”å¦‚æ’å…¥/åˆ é™¤/æŸ¥æ‰¾/æ’åºç­‰ï¼Œå¤§çº¦æœ‰70ç§æ ‡å‡†ç®—æ³•ã€‚</li>
<li>å¤§å¤šæ•°åœ¨<code>&lt;algorithm&gt;</code>å’Œ<code>&lt;numeric&gt;</code>å¤´æ–‡ä»¶ä¸­å®šä¹‰ã€‚</li>
<li>ç®—æ³•å°±æ˜¯ä¸€ä¸ªä¸ª<strong>å‡½æ•°æ¨¡æ¿</strong>ã€‚</li>
<li>ç®—æ³•é€šè¿‡<strong>è¿­ä»£å™¨</strong>æ¥æ“çºµå®¹å™¨ä¸­çš„å…ƒç´ ã€‚</li>
<li>è®¸å¤šç®—æ³•éœ€è¦ä¸¤ä¸ªå‚æ•°ï¼Œä¸€ä¸ªæ˜¯èµ·å§‹å…ƒç´ çš„è¿­ä»£å™¨ï¼Œä¸€ä¸ªæ˜¯ç»ˆæ­¢å…ƒç´ çš„åé¢ä¸€ä¸ªå…ƒç´ çš„è¿­ä»£å™¨ã€‚</li>
</ul>
<h4 id="å†’æ³¡æ’åºæ»¡è¶³å‰å‘è¿­ä»£å™¨çš„å®¹å™¨">å†’æ³¡æ’åºï¼šæ»¡è¶³å‰å‘è¿­ä»£å™¨çš„å®¹å™¨ </h4>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token keyword keyword-template">template</span><span class="token operator">&lt;</span><span class="token keyword keyword-typename">typename</span> <span class="token class-name">It</span><span class="token operator">&gt;</span>
<span class="token keyword keyword-void">void</span> <span class="token function">bubbleSort</span><span class="token punctuation">(</span>Iter begin<span class="token punctuation">,</span> Iter end<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword keyword-for">for</span> <span class="token punctuation">(</span><span class="token keyword keyword-auto">auto</span> i <span class="token operator">=</span> begin<span class="token punctuation">;</span> i<span class="token operator">!=</span> end<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword keyword-for">for</span> <span class="token punctuation">(</span><span class="token keyword keyword-auto">auto</span> j <span class="token operator">=</span> begin<span class="token punctuation">;</span> j<span class="token operator">!=</span> i<span class="token punctuation">;</span> <span class="token operator">++</span>j<span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword keyword-if">if</span><span class="token punctuation">(</span><span class="token operator">*</span>i <span class="token operator">&lt;</span> <span class="token operator">*</span>j<span class="token punctuation">)</span>
                <span class="token function">swap</span><span class="token punctuation">(</span><span class="token operator">*</span>i<span class="token punctuation">,</span><span class="token operator">*</span>j<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
list lst<span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token function">bubbleSort</span><span class="token punctuation">(</span>lst<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> lst<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword keyword-int">int</span> myArr<span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token function">bubbleSort</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>myArr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>myArr<span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><h4 id="stdfind-">std::find( ) </h4>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token keyword keyword-template">template</span><span class="token operator">&lt;</span><span class="token keyword keyword-typename">typename</span> <span class="token class-name">InIt</span><span class="token punctuation">,</span> <span class="token keyword keyword-typename">typename</span> <span class="token class-name">T</span><span class="token operator">&gt;</span>
InIt <span class="token function">find</span><span class="token punctuation">(</span>InIt first<span class="token punctuation">,</span> InIt last<span class="token punctuation">,</span> <span class="token keyword keyword-const">const</span> T<span class="token operator">&amp;</span> val<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><ul>
<li>first å’Œlast è¿™ä¸¤ä¸ªå‚æ•°éƒ½æ˜¯å®¹å™¨çš„è¿­ä»£å™¨ï¼Œå®ƒä»¬ç»™å‡ºäº†å®¹å™¨ä¸­çš„æŸ¥æ‰¾åŒºé—´èµ·ç‚¹å’Œç»ˆç‚¹ã€‚</li>
<li>valå‚æ•°æ˜¯<strong>è¦æŸ¥æ‰¾çš„å…ƒç´ çš„å€¼</strong></li>
<li>å‡½æ•°è¿”å›å€¼æ˜¯ä¸€ä¸ª<strong>è¿­ä»£å™¨</strong>
<ul>
<li>å¦‚æœæ‰¾åˆ°ï¼Œåˆ™è¯¥è¿­ä»£å™¨æŒ‡å‘è¢«æ‰¾åˆ°çš„å…ƒç´ ï¼›</li>
<li>å¦‚æœæ‰¾ä¸åˆ°ï¼Œåˆ™è¯¥è¿­ä»£å™¨æŒ‡å‘æŸ¥æ‰¾åŒºé—´ç»ˆç‚¹ã€‚</li>
</ul>
</li>
</ul>
<p><strong>ç¤ºä¾‹</strong></p>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;vector&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;algorithm&gt;</span></span>
<span class="token keyword keyword-using">using</span> <span class="token keyword keyword-namespace">namespace</span> std<span class="token punctuation">;</span>
<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-int">int</span> array<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    vector<span class="token operator">&lt;</span><span class="token keyword keyword-int">int</span><span class="token operator">&gt;</span> v<span class="token punctuation">;</span>
    v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    vector<span class="token operator">&lt;</span><span class="token keyword keyword-int">int</span><span class="token operator">&gt;</span><span class="token double-colon punctuation">::</span>iterator p<span class="token punctuation">;</span>

    p <span class="token operator">=</span> <span class="token function">find</span><span class="token punctuation">(</span>v<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> v<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//åœ¨æ•´ä¸ªå®¹å™¨ä¸­æŸ¥æ‰¾3</span>
    <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>p <span class="token operator">!=</span> v<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        cout <span class="token operator">&lt;&lt;</span> <span class="token operator">*</span>p <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token comment">//è¾“å‡º3</span>

    p <span class="token operator">=</span> <span class="token function">find</span><span class="token punctuation">(</span>v<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> v<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//åœ¨æ•´ä¸ªå®¹å™¨ä¸­æŸ¥æ‰¾9</span>
    <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>p <span class="token operator">==</span> v<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        cout <span class="token operator">&lt;&lt;</span> <span class="token string">"not found"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token comment">//è¾“å‡ºnot found</span>

    p <span class="token operator">=</span> <span class="token function">find</span><span class="token punctuation">(</span>v<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span> v<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//åœ¨å®¹å™¨éƒ¨åˆ†åŒºé—´æŸ¥æ‰¾1</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token operator">*</span>p <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token comment">//è¾“å‡º4</span>

    <span class="token keyword keyword-int">int</span> <span class="token operator">*</span>pp <span class="token operator">=</span> <span class="token function">find</span><span class="token punctuation">(</span>array<span class="token punctuation">,</span> array<span class="token operator">+</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token operator">*</span>pp <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token comment">//è¾“å‡º20</span>
<span class="token punctuation">}</span>
</code></pre><h4 id="stdcopy-">std::copy( ) </h4>
<ul>
<li><strong>åŠŸèƒ½</strong>ï¼šå¯¹åœ¨åŒºé—´<code>[0, last -first)</code>ä¸­çš„æ¯ä¸ªNæ‰§è¡Œä¸€æ¬¡<code>*(x+N) = * (first + N)</code>ï¼Œè¿”å›<code>x+N</code>ã€‚</li>
</ul>
<p><strong>å‡½æ•°å®ç°ï¼š</strong></p>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token keyword keyword-template">template</span><span class="token operator">&lt;</span><span class="token keyword keyword-typename">typename</span> <span class="token class-name">InIt</span><span class="token punctuation">,</span> <span class="token keyword keyword-typename">typename</span> <span class="token class-name">OutIt</span><span class="token operator">&gt;</span>
OutIt <span class="token function">copy</span><span class="token punctuation">(</span>InIt first<span class="token punctuation">,</span> InIt end<span class="token punctuation">,</span> OutIt x<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword keyword-for">for</span><span class="token punctuation">(</span><span class="token punctuation">;</span>first <span class="token operator">!=</span> end<span class="token punctuation">;</span><span class="token operator">++</span>x<span class="token punctuation">,</span><span class="token operator">++</span>first<span class="token punctuation">)</span>
        <span class="token operator">*</span>x <span class="token operator">=</span> <span class="token operator">*</span>first<span class="token punctuation">;</span>
    <span class="token keyword keyword-return">return</span> <span class="token operator">*</span>x<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><ul>
<li><strong>ç”¨æ³•ç¤ºä¾‹</strong></li>
</ul>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;algorithm&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;vector&gt;</span></span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    vector a<span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    vector <span class="token function">b</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//æŒç»­5ä¸ªé›¶çš„vector</span>
    std<span class="token double-colon punctuation">::</span><span class="token function">copy</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>a<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>b<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-for">for</span> <span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> i <span class="token operator">:</span> b<span class="token punctuation">)</span><span class="token punctuation">{</span>
        cout <span class="token operator">&lt;&lt;</span> i<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><ul>
<li>é—®é¢˜ï¼šå¦‚æœä¸Šé¢ä¸€è¡Œåˆå§‹åŒ–bæ—¶ä½¿ç”¨<code>b{}</code>ï¼Œåˆ™ä¼šå‘ç”Ÿä»€ä¹ˆäº‹æƒ…ï¼Ÿ</li>
</ul>
<blockquote>
<p>bçš„åœ°å€é•¿åº¦åªæœ‰ä¸€ä¸ª<code>int</code>ï¼Œå› æ­¤å¯¹bçš„è¿­ä»£å™¨è¿›è¡Œè‡ªå¢ä¼šå‡ºç°é—®é¢˜ã€‚</p>
</blockquote>
<p><strong>std::back_insert( )å‡½æ•°</strong></p>
<ul>
<li>å‘é¡ºåºå®¹å™¨çš„å°¾éƒ¨æ’å…¥å…ƒç´ ã€‚</li>
<li>å‡½æ•°å®ç°æ—¶ï¼Œè¦æ±‚é‡è½½èµ‹å€¼è¿ç®—ç¬¦ï¼ˆä½¿å…¶è°ƒç”¨<code>push_back</code>æˆå‘˜å‡½æ•°ï¼‰ã€è§£åœ°å€è¿ç®—ç¬¦å’Œè‡ªå¢è¿ç®—ç¬¦ï¼ˆæ— æ“ä½œï¼‰</li>
</ul>
<p><strong>ä¾‹é¢˜ï¼š</strong> ä¹˜ä»¥2åæ’åœ¨åœ¨é¡ºåºå®¹å™¨å°¾éƒ¨</p>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;vector&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;algorithm&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;deque&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;list&gt;</span></span>
<span class="token keyword keyword-using">using</span> std<span class="token double-colon punctuation">::</span>cout<span class="token punctuation">,</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>

<span class="token keyword keyword-template">template</span> <span class="token operator">&lt;</span><span class="token keyword keyword-typename">typename</span> <span class="token class-name">Container</span><span class="token operator">&gt;</span>
<span class="token keyword keyword-class">class</span> <span class="token class-name">MultBackInsertIter</span> <span class="token punctuation">{</span>
<span class="token keyword keyword-private">private</span><span class="token operator">:</span>
    Container<span class="token operator">*</span> c<span class="token punctuation">;</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token comment">// C++17 è§„å®šçš„è¿­ä»£å™¨å¿…é¡»å®šä¹‰çš„ç±»å‹åˆ«å</span>
    <span class="token comment">// C++20 åªéœ€ value_type å’Œ difference_type</span>
    <span class="token keyword keyword-using">using</span> value_type <span class="token operator">=</span> <span class="token keyword keyword-typename">typename</span> <span class="token class-name">Container</span><span class="token double-colon punctuation">::</span>value_type<span class="token punctuation">;</span>
    <span class="token keyword keyword-using">using</span> reference <span class="token operator">=</span> value_type<span class="token operator">&amp;</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-using">using</span> pointer <span class="token operator">=</span> value_type<span class="token operator">*</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-using">using</span> difference_type <span class="token operator">=</span> std<span class="token double-colon punctuation">::</span>ptrdiff_t<span class="token punctuation">;</span>
    <span class="token keyword keyword-using">using</span> iterator_category <span class="token operator">=</span> std<span class="token double-colon punctuation">::</span>output_iterator_tag<span class="token punctuation">;</span>

    <span class="token function">MultBackInsertIter</span><span class="token punctuation">(</span>Container<span class="token operator">&amp;</span> d<span class="token punctuation">)</span><span class="token operator">:</span>c<span class="token punctuation">{</span><span class="token operator">&amp;</span>d<span class="token punctuation">}</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-void">void</span> <span class="token keyword keyword-operator">operator</span><span class="token operator">=</span><span class="token punctuation">(</span>value_type push_value<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token punctuation">(</span><span class="token operator">*</span>c<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token operator">*</span>push_value<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-void">void</span> <span class="token keyword keyword-operator">operator</span><span class="token operator">++</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-void">void</span> <span class="token keyword keyword-operator">operator</span><span class="token operator">--</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    MultBackInsertIter<span class="token operator">&amp;</span> <span class="token keyword keyword-operator">operator</span><span class="token operator">*</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> <span class="token operator">*</span><span class="token keyword keyword-this">this</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword keyword-template">template</span> <span class="token operator">&lt;</span><span class="token keyword keyword-typename">typename</span> <span class="token class-name">T</span><span class="token operator">&gt;</span>
<span class="token keyword keyword-void">void</span> <span class="token function">print</span><span class="token punctuation">(</span><span class="token keyword keyword-const">const</span> T<span class="token operator">&amp;</span> c<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-for">for</span> <span class="token punctuation">(</span><span class="token keyword keyword-auto">auto</span> i<span class="token operator">:</span> c<span class="token punctuation">)</span> <span class="token punctuation">{</span> cout <span class="token operator">&lt;&lt;</span> i <span class="token operator">&lt;&lt;</span> <span class="token char">' '</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    cout <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    std<span class="token double-colon punctuation">::</span>vector<span class="token operator">&lt;</span><span class="token keyword keyword-int">int</span><span class="token operator">&gt;</span> v<span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    std<span class="token double-colon punctuation">::</span>deque<span class="token operator">&lt;</span><span class="token keyword keyword-int">int</span><span class="token operator">&gt;</span> d<span class="token punctuation">{</span><span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    std<span class="token double-colon punctuation">::</span>list<span class="token operator">&lt;</span><span class="token keyword keyword-int">int</span><span class="token operator">&gt;</span> l<span class="token punctuation">{</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    std<span class="token double-colon punctuation">::</span><span class="token function">copy</span><span class="token punctuation">(</span>v<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> v<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">MultBackInsertIter</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    std<span class="token double-colon punctuation">::</span><span class="token function">copy</span><span class="token punctuation">(</span>v<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> v<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">MultBackInsertIter</span><span class="token punctuation">(</span>l<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">print</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">print</span><span class="token punctuation">(</span>l<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><h4 id="stdsort-">std::sort( ) </h4>
<ul>
<li><strong>åŠŸèƒ½ï¼š<strong>å°†firstå’Œlastè¿­ä»£å™¨æŒ‡å‘çš„å®¹å™¨èŒƒå›´æŒ‰</strong>å‡åºæ’åº</strong></li>
</ul>
<p><strong>å‡½æ•°å£°æ˜ï¼š</strong></p>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token keyword keyword-template">template</span><span class="token operator">&lt;</span><span class="token keyword keyword-typename">typename</span> <span class="token class-name">It</span><span class="token operator">&gt;</span>
<span class="token keyword keyword-void">void</span> <span class="token function">sort</span><span class="token punctuation">(</span>RanIt first<span class="token punctuation">,</span> RanIt last<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><p><strong>åº”ç”¨ç¤ºä¾‹</strong></p>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;vector&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;algorithm&gt;</span></span>
<span class="token keyword keyword-using">using</span> <span class="token keyword keyword-namespace">namespace</span> std<span class="token punctuation">;</span>
<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    vector a<span class="token punctuation">{</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token function">sort</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> a<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-for">for</span> <span class="token punctuation">(</span><span class="token keyword keyword-auto">auto</span> i <span class="token operator">:</span> a<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        cout <span class="token operator">&lt;&lt;</span> i <span class="token operator">&lt;&lt;</span> <span class="token char">' '</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><p><strong>å¦‚æœè¦æ”¹å˜æ’åºæ–¹å¼ï¼Ÿ</strong></p>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token keyword keyword-template">template</span><span class="token operator">&lt;</span><span class="token keyword keyword-typename">typename</span> <span class="token class-name">It</span><span class="token punctuation">,</span> <span class="token keyword keyword-typename">typename</span> <span class="token class-name">Pred</span><span class="token operator">&gt;</span>
<span class="token keyword keyword-void">void</span> <span class="token function">sort</span><span class="token punctuation">(</span>RanIt first<span class="token punctuation">,</span> RanIt last<span class="token punctuation">,</span> Pred pr<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><p>åˆ¤æ–­xæ˜¯å¦åº”æ¯”yé å‰ï¼Œå°±çœ‹<code>pr(x,y)</code>æ˜¯å¦ä¸º<code>true</code>ã€‚</p>
<p><strong>åº”ç”¨ç¤ºä¾‹</strong></p>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;vector&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;algorithm&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;functional&gt;</span></span>
<span class="token keyword keyword-using">using</span> <span class="token keyword keyword-namespace">namespace</span> std<span class="token punctuation">;</span>
<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    vector a<span class="token punctuation">{</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token function">sort</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> a<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token generic-function"><span class="token function">greater</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token keyword keyword-int">int</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-for">for</span> <span class="token punctuation">(</span><span class="token keyword keyword-auto">auto</span> i <span class="token operator">:</span> a<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        cout <span class="token operator">&lt;&lt;</span> i <span class="token operator">&lt;&lt;</span> <span class="token char">' '</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><ul>
<li><code>greater&lt;int&gt;()</code>æ˜¯ä»€ä¹ˆï¼Ÿ</li>
</ul>
<blockquote>
<p><code>greater</code>æ˜¯ä¸€ä¸ªé‡è½½äº†( )è¿ç®—ç¬¦çš„ç±»æ¨¡æ¿ï¼Œå±äº<strong>å‡½æ•°å¯¹è±¡</strong>ã€‚å…·ä½“è¯·è§<strong>åï¼ˆäº”ï¼‰å¯è°ƒç”¨å¯¹è±¡</strong></p>
</blockquote>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token keyword keyword-template">template</span><span class="token operator">&lt;</span><span class="token keyword keyword-class">class</span> <span class="token class-name">T</span><span class="token operator">&gt;</span>
<span class="token keyword keyword-struct">struct</span> <span class="token class-name">greater</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-bool">bool</span> <span class="token keyword keyword-operator">operator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword keyword-const">const</span> T<span class="token operator">&amp;</span> x<span class="token punctuation">,</span> <span class="token keyword keyword-const">const</span> T<span class="token operator">&amp;</span> y<span class="token punctuation">)</span> <span class="token keyword keyword-const">const</span> <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> x <span class="token operator">&gt;</span> y<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><p><strong>std::listé‡Œçš„æˆå‘˜å‡½æ•°sort</strong><br>
<code>std::list</code>å®¹å™¨çš„è¿­ä»£å™¨ä¸æ”¯æŒéšæœºè®¿é—®ï¼Œæ‰€ä»¥ä¸èƒ½ç”¨æ ‡å‡†åº“ä¸­<code>sort</code>å‡½æ•°å¯¹å®ƒè¿›è¡Œæ’åºã€‚<br>
<code>std::list</code>è‡ªå·±çš„<code>sort</code>æˆå‘˜å‡½æ•°ï¼š</p>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;list&gt;</span></span>
list<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span> lst
lst<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span>compare<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//æ¥å—ä¸€ä¸ªå¯è°ƒç”¨å¯¹è±¡</span>
lst<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//æ— å‚æ•°ç‰ˆæœ¬, æŒ‰&lt;æ’åº</span>
</code></pre><h4 id="stdcopy_if-">std::copy_if( ) </h4>
<ul>
<li>åœ¨å¤åˆ¶ä¹‹å‰ä¼šæ£€æŸ¥å½“å‰è¢«å¤åˆ¶çš„å…ƒç´ æ˜¯å¦æ»¡è¶³æ¡ä»¶ï¼Œåªæœ‰æ»¡è¶³æ—¶æ‰ä¼šå¤åˆ¶ã€‚</li>
<li>å‰ä¸‰ä¸ªå‚æ•°ä¸<code>std::copy</code>ç›¸åŒï¼Œæœ€åä¸€ä¸ªå‚æ•°æ˜¯<strong>å¯è°ƒç”¨å¯¹è±¡</strong>ï¼Œå¦‚æœå…¶ä½œç”¨åœ¨å½“å‰å…ƒç´ ä¸Šè¿”å›trueï¼Œé‚£ä¹ˆè¯¥å…ƒç´ å°±ä¼šè¢«å¤åˆ¶ã€‚</li>
</ul>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;vector&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;algorithm&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iterator&gt;</span></span>
<span class="token keyword keyword-using">using</span> <span class="token keyword keyword-namespace">namespace</span> std<span class="token punctuation">;</span>
<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    vector<span class="token operator">&lt;</span><span class="token keyword keyword-int">int</span><span class="token operator">&gt;</span> a<span class="token punctuation">{</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    vector<span class="token operator">&lt;</span><span class="token keyword keyword-int">int</span><span class="token operator">&gt;</span> b<span class="token punctuation">;</span>
    <span class="token function">copy_if</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> a<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">back_inserter</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> x<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> x <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-for">for</span> <span class="token punctuation">(</span><span class="token keyword keyword-auto">auto</span> i <span class="token operator">:</span> b<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        cout <span class="token operator">&lt;&lt;</span> i <span class="token operator">&lt;&lt;</span> <span class="token char">' '</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><h4 id="stdtransform-">std::transform( ) </h4>
<p><strong>å‡½æ•°å£°æ˜ï¼š</strong></p>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token keyword keyword-template">template</span><span class="token operator">&lt;</span> <span class="token keyword keyword-typename">typename</span> <span class="token class-name">InIt</span><span class="token punctuation">,</span> <span class="token keyword keyword-typename">typename</span> <span class="token class-name">OutIt</span><span class="token punctuation">,</span> <span class="token keyword keyword-typename">typename</span> <span class="token class-name">Unop</span><span class="token operator">&gt;</span>
OutIt <span class="token function">transform</span><span class="token punctuation">(</span>InIt first<span class="token punctuation">,</span> InIt last<span class="token punctuation">,</span> OutIt x<span class="token punctuation">,</span> Unop uop<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//uopè¦æ±‚æ˜¯å¯æ¥å—ä¸€ä¸ªå‚æ•°çš„å¯è°ƒç”¨å¯¹è±¡</span>
</code></pre><ul>
<li><strong>åŠŸèƒ½ï¼š</strong> å¯¹<code>[first,last) </code>ä¸­çš„æ¯ä¸ªè¿­ä»£å™¨<code>i</code>, æ‰§è¡Œ<code>uop(*i)</code>; å¹¶å°†ç»“æœä¾æ¬¡æ”¾å…¥ä»xå¼€å§‹çš„åœ°æ–¹ã€‚è¦æ±‚<code>uop(*i)</code>ä¸å¾—æ”¹å˜<code>*i</code>çš„å€¼ï¼ˆå³ä¸èƒ½é€šè¿‡å¼•ç”¨ä¼ é€’ï¼‰ã€‚</li>
</ul>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;vector&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;algorithm&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iterator&gt;</span></span>
<span class="token keyword keyword-using">using</span> <span class="token keyword keyword-namespace">namespace</span> std<span class="token punctuation">;</span>
<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    vector<span class="token operator">&lt;</span><span class="token keyword keyword-int">int</span><span class="token operator">&gt;</span> a<span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    vector<span class="token operator">&lt;</span><span class="token keyword keyword-int">int</span><span class="token operator">&gt;</span> b<span class="token punctuation">;</span>
    <span class="token function">transform</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> a<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">back_inserter</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> x<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> x <span class="token operator">*</span> x<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-for">for</span> <span class="token punctuation">(</span><span class="token keyword keyword-auto">auto</span> i <span class="token operator">:</span> b<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        cout <span class="token operator">&lt;&lt;</span> i <span class="token operator">&lt;&lt;</span> <span class="token char">' '</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><h4 id="stdaccumulate-">std::accumulate( ) </h4>
<p><strong>å‡½æ•°å£°æ˜ï¼š</strong></p>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token keyword keyword-template">template</span><span class="token operator">&lt;</span><span class="token keyword keyword-typename">typename</span> <span class="token class-name">InIt</span><span class="token punctuation">,</span> <span class="token keyword keyword-typename">typename</span> <span class="token class-name">T</span><span class="token punctuation">,</span> <span class="token keyword keyword-typename">typename</span> <span class="token class-name">Pred</span><span class="token operator">&gt;</span>
T <span class="token function">accumulate</span><span class="token punctuation">(</span>InIt first<span class="token punctuation">,</span> InIt last<span class="token punctuation">,</span> T val<span class="token punctuation">,</span> Pred pr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//prè¦æ±‚æ˜¯å¯æ¥å—ä¸¤ä¸ªå‚æ•°çš„å¯è°ƒç”¨å¯¹è±¡</span>
</code></pre><ul>
<li><strong>åŠŸèƒ½ï¼š</strong> å¯¹<code>[first,last)</code>ä¸­çš„æ¯ä¸ªè¿­ä»£å™¨<code>i</code>,æ‰§è¡Œ<code>val = pr(val, *i)</code>,è¿”å›æœ€ç»ˆçš„<code>val</code>ã€‚</li>
</ul>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;vector&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;numeric&gt;</span> <span class="token comment">// accmulmateä¸å®šä¹‰åœ¨&lt;algorithm&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;functional&gt;</span></span>
<span class="token keyword keyword-using">using</span> <span class="token keyword keyword-namespace">namespace</span> std<span class="token punctuation">;</span>

<span class="token keyword keyword-template">template</span><span class="token operator">&lt;</span><span class="token keyword keyword-typename">typename</span> <span class="token class-name">T</span><span class="token operator">&gt;</span>
<span class="token keyword keyword-class">class</span> <span class="token class-name">SumSquaresClass</span> <span class="token punctuation">{</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token keyword keyword-const">const</span> T <span class="token keyword keyword-operator">operator</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token keyword keyword-const">const</span> T<span class="token operator">&amp;</span> total<span class="token punctuation">,</span><span class="token keyword keyword-const">const</span> T<span class="token operator">&amp;</span> value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> total <span class="token operator">+</span> value <span class="token operator">*</span> value<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    vector a<span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token comment">// åˆå§‹å€¼æ˜¯ 0ï¼ŒäºŒå…ƒå‡½æ•°æ˜¯ (a, b) -&gt; a + b</span>
    <span class="token keyword keyword-auto">auto</span> sum <span class="token operator">=</span> <span class="token function">accumulate</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> a<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token generic-function"><span class="token function">plus</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token keyword keyword-int">int</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> sum <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
    <span class="token comment">// åˆå§‹å€¼æ˜¯ 1ï¼ŒäºŒå…ƒå‡½æ•°æ˜¯ (a, b) -&gt; a + b * b</span>
    <span class="token keyword keyword-auto">auto</span> squaresum <span class="token operator">=</span> <span class="token function">accumulate</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> a<span class="token operator">+</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token function">SumSquaresClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> squaresum <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>end<span class="token punctuation">;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><h3 id="äº”å¯è°ƒç”¨å¯¹è±¡">ï¼ˆäº”ï¼‰å¯è°ƒç”¨å¯¹è±¡ </h3>
<h4 id="å¯è°ƒç”¨å¯¹è±¡">å¯è°ƒç”¨å¯¹è±¡ </h4>
<p>ä¸Šè¿°<code>std::sort()</code>å‡½æ•°ä¸­ï¼Œå‚æ•°<code>pr</code>è¦æ±‚æ˜¯ä¸€ä¸ªå¯è°ƒç”¨å¯¹è±¡ã€‚<br>
å¯è°ƒç”¨å¯¹è±¡æ˜¯ä¸€åˆ‡åœ¨æ˜¯<strong>é‡è½½äº†()è¿ç®—ç¬¦</strong>çš„ç±»ï¼Œä½¿å¾—å…¶å¯¹è±¡å¯ä»¥åƒä¸€èˆ¬çš„å‡½æ•°ä¸€æ ·è¢«è°ƒç”¨ã€‚<br>
ä¸ºäº†STLç®—æ³•çš„å¯å¤ç”¨æ€§ï¼Œè®¸å¤šç®—æ³•çš„â€œå­æ“ä½œâ€åº”è¯¥æ˜¯å‚æ•°åŒ–çš„ï¼Œéœ€è¦ä»¥å¯è°ƒç”¨å¯¹è±¡ä½œä¸ºå‚æ•°ã€‚</p>
<p>å¯è°ƒç”¨å¯¹è±¡å¯ä»¥åˆ†ä¸ºï¼š</p>
<ul>
<li><strong>å‡½æ•° å‡½æ•°æŒ‡é’ˆ</strong></li>
</ul>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token keyword keyword-int">int</span> <span class="token function">cube</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> x<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword keyword-return">return</span> x<span class="token operator">*</span>x<span class="token operator">*</span>x<span class="token punctuation">;</span><span class="token punctuation">}</span>

<span class="token keyword keyword-using">using</span> Func <span class="token operator">=</span> <span class="token keyword keyword-int">int</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token keyword keyword-int">int</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Func <span class="token function">square</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> x<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword keyword-return">return</span> x<span class="token operator">*</span>x<span class="token punctuation">;</span><span class="token punctuation">}</span>
</code></pre><ul>
<li><strong>å‡½æ•°å¯¹è±¡</strong><br>
å°†å½¢å¼ç›¸ä¼¼çš„ä¸€æ—å‡½æ•°æŠ½è±¡ä¸ºä¸€ä¸ªç±»ï¼Œè¿›è€Œå¯ä»¥åŠ¨æ€åœ°æŒ‰éœ€åˆ›å»ºå®ä¾‹ï¼Œå¹¶ä¸”å¯¹å¤–æä¾›ç»Ÿä¸€çš„æ¥å£ã€‚</li>
</ul>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">Add</span><span class="token punctuation">{</span>
    <span class="token keyword keyword-int">int</span> value<span class="token punctuation">;</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token function">Add</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> x<span class="token punctuation">)</span><span class="token operator">:</span>value<span class="token punctuation">{</span>x<span class="token punctuation">}</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-int">int</span> <span class="token keyword keyword-operator">operator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> x<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> value <span class="token operator">+</span> x<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><ul>
<li><strong>lambdaè¡¨è¾¾å¼</strong></li>
</ul>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token keyword keyword-auto">auto</span> f <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> x<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword keyword-return">return</span> x<span class="token operator">*</span>x<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><h4 id="å›åˆ°stdsort-">å›åˆ°std::sort( ) </h4>
<p><strong>ä¾‹é¢˜</strong>ï¼šå¯¹ç‚¹åˆ—æŒ‰ç…§æ¨ªåæ ‡å¤§å°è¿›è¡Œæ’åº</p>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;vector&gt;</span></span>
<span class="token keyword keyword-struct">struct</span> <span class="token class-name">Point</span><span class="token punctuation">{</span>
    <span class="token keyword keyword-int">int</span> x<span class="token punctuation">,</span>y<span class="token punctuation">;</span>
    <span class="token function">Point</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> x<span class="token punctuation">,</span><span class="token keyword keyword-int">int</span> y<span class="token punctuation">)</span><span class="token operator">:</span>x<span class="token punctuation">{</span>x<span class="token punctuation">}</span><span class="token punctuation">,</span>y<span class="token punctuation">{</span>y<span class="token punctuation">}</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    std<span class="token double-colon punctuation">::</span>vector<span class="token operator">&lt;</span>Point<span class="token operator">&gt;</span> a<span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token comment">//å¦‚ä½•å®ç°ï¼Ÿ    </span>
<span class="token punctuation">}</span>

<span class="token comment">//æ–¹æ³•1:ç”¨å®šä¹‰çš„å‡½æ•°</span>
<span class="token keyword keyword-bool">bool</span> <span class="token function">compare</span><span class="token punctuation">(</span><span class="token keyword keyword-const">const</span> Point<span class="token operator">&amp;</span> a<span class="token punctuation">,</span><span class="token keyword keyword-const">const</span> Point<span class="token operator">&amp;</span> b<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword keyword-return">return</span> <span class="token punctuation">(</span>a<span class="token punctuation">.</span>x<span class="token operator">&lt;</span>b<span class="token punctuation">.</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">sort</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>a<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>compare<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//æ–¹æ³•2:ç”¨Lambdaè¡¨è¾¾å¼</span>
<span class="token function">sort</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>a<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token keyword keyword-const">const</span> Point<span class="token operator">&amp;</span> a<span class="token punctuation">,</span> <span class="token keyword keyword-const">const</span> Point<span class="token operator">&amp;</span>  b<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword keyword-return">return</span> a<span class="token punctuation">.</span>x <span class="token operator">&lt;</span> b<span class="token punctuation">.</span>x<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//æ–¹æ³•3:ç”¨é‡è½½äº†()çš„å‡½æ•°å¯¹è±¡</span>
<span class="token keyword keyword-class">class</span> <span class="token class-name">Compare</span><span class="token punctuation">{</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token keyword keyword-bool">bool</span> <span class="token keyword keyword-operator">operator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword keyword-const">const</span> Point<span class="token operator">&amp;</span> a<span class="token punctuation">,</span><span class="token keyword keyword-const">const</span> Point<span class="token operator">&amp;</span> b<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> a<span class="token punctuation">.</span>x <span class="token operator">&lt;</span> b<span class="token punctuation">.</span>x<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token function">sort</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>a<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">Compare</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//è¿™é‡Œé¢çš„Compare()å®é™…ä¸Šæ˜¯è°ƒç”¨é»˜è®¤çš„æ„é€ å‡½æ•°ï¼Œåˆ›å»ºä¸€ä¸ªCompareç±»çš„ä¸´æ—¶å¯¹è±¡ï¼Œè¿™ä¸ªä¸´æ—¶å¯¹è±¡å…·æœ‰æ¯”è¾ƒçš„è¿ç®—ç¬¦é‡è½½</span>

</code></pre><h4 id="stlå†…ç½®çš„å‡½æ•°å¯¹è±¡">STLå†…ç½®çš„å‡½æ•°å¯¹è±¡ </h4>
<ul>
<li>STLçš„<code>&lt;functional&gt;</code>é‡Œé¢æä¾›äº†å¸¸ç”¨çš„å‡½æ•°å¯¹è±¡ç±»æ¨¡ç‰ˆã€‚</li>
</ul>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;functional&gt;</span></span>
<span class="token comment">//ç®—æ•°ç±»å‹ï¼š</span>
plus<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token punctuation">;</span> minus<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token punctuation">;</span> multiplies<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token punctuation">;</span> divides<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token punctuation">;</span> <span class="token comment">//åŠ å‡ä¹˜é™¤</span>
modulus<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token punctuation">;</span> <span class="token comment">//å–æ¨¡</span>
negate<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token punctuation">;</span> <span class="token comment">//å–å</span>

<span class="token comment">//å…³ç³»ç±»å‹ï¼š</span>
equal_to<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token punctuation">;</span> not_equal_to<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span> <span class="token comment">//ç­‰äºï¼Œä¸ç­‰äº</span>
greater<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token punctuation">;</span> greater_equal<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span> <span class="token comment">//å¤§äºï¼Œå¤§äºç­‰äº</span>
less<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token punctuation">;</span> less_equal<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span> <span class="token comment">//å°äºï¼Œå°äºç­‰äº</span>

<span class="token comment">//é€»è¾‘ç±»å‹ï¼š</span>
logical_and<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span> <span class="token comment">//é€»è¾‘ä¸</span>
logical_or<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span> <span class="token comment">//é€»è¾‘æˆ–</span>
logical_not<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span> <span class="token comment">//é€»è¾‘é</span>
</code></pre><h4 id="ä½¿ç”¨æ¨¡ç‰ˆå°†å‡½æ•°å¯¹è±¡ä½œä¸ºå‚æ•°">ä½¿ç”¨æ¨¡ç‰ˆå°†å‡½æ•°å¯¹è±¡ä½œä¸ºå‚æ•° </h4>
<p>å¦‚æœæˆ‘ä»¬ä¹Ÿæƒ³å†™ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒä¹Ÿå¯ä»¥æ¥å—æŸä¸ªå‡½æ•°å¯¹è±¡ä½œä¸ºå‚æ•°ï¼Œè¯¥æ€ä¹ˆåšå‘¢ï¼Ÿ</p>
<ul>
<li>æ›¾ç»çš„åšæ³•ï¼šå°†å‡½æ•°çš„ä¸€ä¸ªå½¢å‚è®¾ä¸ºå‡½æ•°æŒ‡é’ˆç±»å‹</li>
</ul>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token keyword keyword-using">using</span> Func <span class="token operator">=</span> <span class="token keyword keyword-int">int</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span><span class="token punctuation">,</span><span class="token keyword keyword-int">int</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token keyword keyword-int">int</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> x<span class="token punctuation">,</span> Func f<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword keyword-double">double</span> <span class="token function">g</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> c<span class="token punctuation">,</span> <span class="token keyword keyword-double">double</span><span class="token punctuation">(</span><span class="token operator">*</span>f<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword keyword-double">double</span><span class="token punctuation">,</span><span class="token keyword keyword-int">int</span><span class="token punctuation">)</span><span class="token punctuation">)</span>l
</code></pre><ul>
<li>ç¼ºé™·ï¼šå‡½æ•°çš„è¿”å›å€¼å›ºå®šï¼Œä¸å…·æœ‰å¯å¤ç”¨æ€§ã€‚</li>
</ul>
<p><strong>ä½¿ç”¨æ¨¡ç‰ˆ</strong></p>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token keyword keyword-template">template</span><span class="token operator">&lt;</span><span class="token keyword keyword-typename">typename</span> <span class="token class-name">F</span><span class="token operator">&gt;</span>
<span class="token keyword keyword-int">int</span> <span class="token function">sum</span><span class="token punctuation">(</span>std<span class="token double-colon punctuation">::</span>vector<span class="token operator">&lt;</span><span class="token keyword keyword-int">int</span><span class="token operator">&gt;</span> nums<span class="token punctuation">,</span> F f<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword keyword-int">int</span> res <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-for">for</span> <span class="token punctuation">(</span><span class="token keyword keyword-auto">auto</span> num <span class="token operator">:</span> nums<span class="token punctuation">)</span><span class="token punctuation">{</span>
        res <span class="token operator">+=</span> <span class="token function">f</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-return">return</span> res<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><ul>
<li>ç¼ºé™·ï¼šå¯ä»¥å·¥ä½œï¼Œä½†æ˜¯ä¼—æ‰€å‘¨çŸ¥æˆ‘ä»¬å¹¶æ²¡æœ‰å¯¹ä¼ å…¥çš„<code>f</code>çš„ç±»å‹<code>F</code>åšä»»ä½•é™åˆ¶ï¼Œè¿™å¯èƒ½å¯¼è‡´ç”¨æˆ·åœ¨ä½¿ç”¨çš„æ—¶å€™æ›´å®¹æ˜“çŠ¯é”™è¯¯ã€‚</li>
</ul>
<p><strong>è¿›ä¸€æ­¥æ”¹è¿›</strong></p>
<ul>
<li>ä½¿ç”¨<code>std::function</code>(å®šä¹‰åœ¨<code>&lt;functional&gt;</code>)ã€‚</li>
</ul>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token keyword keyword-int">int</span> <span class="token function">sum</span><span class="token punctuation">(</span>std<span class="token double-colon punctuation">::</span>vector<span class="token operator">&lt;</span><span class="token keyword keyword-int">int</span><span class="token operator">&gt;</span> nums<span class="token punctuation">,</span> std<span class="token double-colon punctuation">::</span>function<span class="token operator">&lt;</span><span class="token keyword keyword-int">int</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span><span class="token punctuation">)</span><span class="token operator">&gt;</span> f<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword keyword-int">int</span> res <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-for">for</span> <span class="token punctuation">(</span><span class="token keyword keyword-auto">auto</span> num <span class="token operator">:</span> nums<span class="token punctuation">)</span><span class="token punctuation">{</span>
        res <span class="token operator">+=</span> <span class="token function">f</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-return">return</span> res<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><p>æ˜¾ç¤ºåœ°é™å®šäº†<code>f</code>çš„å‚æ•°å’Œè¿”å›å€¼ç±»å‹ï¼Œå¯ä»¥æ›´å¥½åœ°é¿å…ç”¨æˆ·åœ¨ä½¿ç”¨æ—¶å‡ºé”™ã€‚(<strong>é˜²å¾¡å‹ç¼–ç¨‹</strong>)</p>
<p>åœ¨æ²¿ç”¨æ¨¡ç‰ˆçš„æƒ…å†µä¸‹ï¼Œä¹Ÿå¯ä»¥åˆ©ç”¨<strong>æ¦‚å¿µ</strong>çš„æ–¹æ³•è®¾è®¡æ­¤ç§é˜²å¾¡å‹ç¼–ç¨‹ã€‚</p>
<h2 id="åä¸€-æ¦‚å¿µä¸èŒƒå›´">åä¸€ã€æ¦‚å¿µä¸èŒƒå›´ </h2>
<h3 id="ä¸€æ¦‚å¿µc20åŠä»¥ä¸Š">ï¼ˆä¸€ï¼‰æ¦‚å¿µï¼ˆc++20åŠä»¥ä¸Šï¼‰ </h3>
<ul>
<li>å¯¹<strong>æ¨¡ç‰ˆå‚æ•°</strong>è¿›è¡Œçº¦æŸã€‚æ˜¯å…ƒç¼–ç¨‹çš„é‡è¦æ–¹æ³•ã€‚</li>
</ul>
<p>å°†åˆšæ‰çš„å®ä¾‹ä¸­çš„<code>vector</code>æŠ½è±¡ä¸ºä»»æ„å®¹å™¨å‚æ•°ã€‚</p>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token keyword keyword-template">template</span><span class="token operator">&lt;</span><span class="token keyword keyword-typename">typename</span> <span class="token class-name">Container</span><span class="token punctuation">,</span> <span class="token keyword keyword-typename">typename</span> <span class="token class-name">Value</span><span class="token operator">&gt;</span>
Value <span class="token function">sum</span><span class="token punctuation">(</span><span class="token keyword keyword-const">const</span> Container<span class="token operator">&amp;</span> nums<span class="token punctuation">)</span><span class="token punctuation">{</span>
    Value res <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-for">for</span> <span class="token punctuation">(</span><span class="token keyword keyword-const">const</span> <span class="token keyword keyword-auto">auto</span><span class="token operator">&amp;</span> num <span class="token operator">:</span> nums<span class="token punctuation">)</span><span class="token punctuation">{</span>
        res <span class="token operator">+=</span> num<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-return">return</span> res<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><ul>
<li>æå–å‡ºä¸€äº›ç±»å‹å‚æ•°åº”è¯¥å…·æœ‰çš„çº¦æŸï¼š</li>
</ul>
<blockquote>
<p>Container: æœ‰<code>.begin()</code>å’Œ<code>.end()</code>æ¥å£ï¼Œä»¥åŠæ”¯æŒ<code>foreach</code>è¯­å¥ï¼›<br>
Value: èƒ½å¤Ÿä½œ<code>+=</code>è¿ç®—ï¼›</p>
</blockquote>
<p><strong>é€šè¿‡â€œæ¦‚å¿µâ€ï¼Œå†™æˆä¸‹é¢çš„å½¢å¼ï¼š</strong></p>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token keyword keyword-template">template</span><span class="token operator">&lt;</span><span class="token keyword keyword-typename">typename</span> <span class="token class-name">T</span><span class="token operator">&gt;</span>
<span class="token keyword keyword-concept">concept</span> <span class="token class-name">Iterable</span> <span class="token operator">=</span> <span class="token keyword keyword-requires">requires</span><span class="token punctuation">(</span>T a<span class="token punctuation">)</span><span class="token punctuation">{</span>  <span class="token comment">//Iterableæ˜¯æ¦‚å¿µçš„ç±»å</span>
    <span class="token comment">//Tå¿…é¡»æœ‰iteratorï¼Œbegin()å’Œend()æˆå‘˜å‡½æ•°ï¼Œå¹¶ä¸”åä¸¤è€…è¿”å›å€¼ä¸iteratorç±»å‹ç›¸åŒã€‚</span>
    <span class="token keyword keyword-typename">typename</span> <span class="token class-name">T</span><span class="token double-colon punctuation">::</span>iterator<span class="token punctuation">;</span>
    <span class="token punctuation">{</span> a<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">}</span> <span class="token operator">-&gt;</span> std<span class="token double-colon punctuation">::</span>same_as<span class="token operator">&lt;</span><span class="token keyword keyword-typename">typename</span> <span class="token class-name">T</span><span class="token double-colon punctuation">::</span>iterator<span class="token operator">&gt;</span><span class="token punctuation">;</span>
    <span class="token punctuation">{</span> a<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">}</span> <span class="token operator">-&gt;</span> std<span class="token double-colon punctuation">::</span>same_as<span class="token operator">&lt;</span>typenameT<span class="token double-colon punctuation">::</span>iterator<span class="token operator">&gt;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-template">template</span><span class="token operator">&lt;</span><span class="token keyword keyword-typename">typename</span> <span class="token class-name">T</span><span class="token operator">&gt;</span>
<span class="token keyword keyword-concept">concept</span> <span class="token class-name">Addable</span> <span class="token operator">=</span> <span class="token keyword keyword-requires">requires</span><span class="token punctuation">{</span> <span class="token comment">//requiresåé¢å¯ä»¥ä¸åŠ å‚æ•°</span>
    <span class="token comment">//T å¿…é¡»å¯ä»¥åšä¸‹é¢çš„è¿ç®—ã€‚</span>
    T a <span class="token operator">=</span> T<span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">//å®ä¾‹åŒ–å‡ºä¸€ä¸ªTå¯¹è±¡</span>
    T b <span class="token operator">=</span> T<span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    a <span class="token operator">+</span> b<span class="token punctuation">;</span>
    a <span class="token operator">+=</span> b<span class="token punctuation">;</span>
    a <span class="token operator">=</span> b<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-template">template</span><span class="token operator">&lt;</span>Iterable Container<span class="token punctuation">,</span> Addable Value<span class="token operator">&gt;</span>
Value <span class="token function">sum</span><span class="token punctuation">(</span><span class="token keyword keyword-const">const</span> Container<span class="token operator">&amp;</span> nums<span class="token punctuation">)</span><span class="token punctuation">{</span>
    Value res <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-for">for</span> <span class="token punctuation">(</span><span class="token keyword keyword-const">const</span> <span class="token keyword keyword-auto">auto</span><span class="token operator">&amp;</span> num <span class="token operator">:</span> nums<span class="token punctuation">)</span><span class="token punctuation">{</span>
        res <span class="token operator">+=</span> num<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-return">return</span> res<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    std<span class="token double-colon punctuation">::</span>vector<span class="token operator">&lt;</span><span class="token keyword keyword-int">int</span><span class="token operator">&gt;</span> vec<span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token function">sum</span><span class="token punctuation">(</span>vec<span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span> <span class="token comment">//ç¼–è¯‘é€šè¿‡</span>
    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token function">sum</span><span class="token punctuation">(</span><span class="token number">3.14</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span> <span class="token comment">//ä¼šæŠ¥é”™</span>
<span class="token punctuation">}</span>
</code></pre><ul>
<li>ç†è§£ï¼š<strong>æ¦‚å¿µæ˜¯å¯¹ä¸€äº›æ»¡è¶³ä¸€å®šçº¦æŸçš„ç±»å‹æŠ½è±¡å‡ºæ¥çš„é›†åˆ</strong>ã€‚ä¸€ä¸ª<strong>ç±»å‹</strong>Tæ»¡è¶³ä¸€ä¸ª<strong>æ¦‚å¿µ</strong>ï¼Œ<strong>å½“ä¸”ä»…å½“å°†ç±»å‹Tçš„ä»»æ„å®ä¾‹ä»£å…¥åˆ°æ¦‚å¿µä¸­ï¼Œæ¦‚å¿µå¯ä»¥è¿‡ç¼–</strong>ï¼Œä¸”ç±»å‹æ£€æŸ¥æ— è¯¯ã€‚</li>
</ul>
<h3 id="äºŒèŒƒå›´c20åŠä»¥ä¸Š">ï¼ˆäºŒï¼‰èŒƒå›´ï¼ˆc++20åŠä»¥ä¸Šï¼‰ </h3>
<p><code>sort(a.begin(), a.end())</code><br>
æˆ‘ä»¬æ€»æ˜¯ç”¨ä¸¤ä¸ªè¿­ä»£å™¨æ ‡è¯†ä¸€ä¸ªèŒƒå›´ä¼ ç»™STLç®—æ³•â€”â€”ä¸ºä»€ä¹ˆæˆ‘ä»¬ä¸èƒ½åªä¼ ä¸€ä¸ªåä¸ºèŒƒå›´çš„å‚æ•°å‘¢?</p>
<h4 id="èŒƒå›´åº“">èŒƒå›´åº“ </h4>
<p>C++20å¼•å…¥äº†èŒƒå›´çš„æ¦‚å¿µï¼Œå¹¶ä¸”åœ¨<code>&lt;algorithm&gt;</code>å¤´æ–‡ä»¶ä¸­<strong>é‡å†™</strong>äº†å¾ˆå¤šSTLç®—æ³•ã€‚èŒƒå›´ç®—æ³•è¢«å®šä¹‰åœ¨å‘½ååŸŸ<code>std::ranges</code>ä¸­:</p>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    std<span class="token double-colon punctuation">::</span>vector<span class="token operator">&lt;</span><span class="token keyword keyword-int">int</span><span class="token operator">&gt;</span> vec<span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    std<span class="token double-colon punctuation">::</span>ranges<span class="token double-colon punctuation">::</span><span class="token function">sort</span><span class="token punctuation">(</span>vec<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><ul>
<li>å¼•å…¥çš„ä»·å€¼ï¼šåœ¨å¼•å…¥èŒƒå›´ä¹‹å‰ï¼ŒSTLç®—æ³•çœ¼ä¸­çš„â€œèŒƒå›´â€åªæ˜¯ä¸¤ä¸ªè¿­ä»£å™¨æ ‡è¯†çš„çº¿æ€§ç©ºé—´ã€‚ä½†æ˜¯åœ¨å¼•å…¥èŒƒå›´ä¹‹åï¼ŒSTLv2ç®—æ³•çœ¼ä¸­çš„â€œèŒƒå›´â€å°±å¯ä»¥ä¸€ä¸ªå®¹å™¨çš„ç›¸å½“ä»»æ„çš„â€œåˆ‡ç‰‡â€ã€‚</li>
<li>C++ç”¨**è§†å›¾(views)**è¡¨ç¤ºè¿™ä¸€è¡Œä¸º</li>
</ul>
<h4 id="è§†å›¾">è§†å›¾ </h4>
<p>STLä¸­å¸¸ç”¨çš„è§†å›¾æœ‰:</p>
<ul>
<li><code>std::views::reverse</code>: <strong>åè½¬è§†å›¾</strong>ï¼›é€†åºè®¿é—®å…ƒç´ ï¼›</li>
<li><code>std::views::take(num)</code>: <strong>æ—©é€€è§†å›¾</strong>ï¼›åªè®¿é—®å‰numä¸ªå…ƒç´ ï¼›</li>
<li><code>std::views::transform(f)</code>: <strong>è½¬æ¢è§†å›¾</strong>ï¼›åœ¨è®¿é—®æ—¶ï¼Œå°†æ¯ä¸ªå…ƒç´ xè§†ä½œf(x)ï¼›</li>
<li><code>std::views::filter(f)</code>: <strong>ç­›é€‰è§†å›¾</strong>ï¼›åªè®¿é—®<code>f(x) == true</code>çš„å…ƒç´ ï¼›</li>
</ul>
<p>è§†å›¾å¯ä»¥å åŠ ä½¿ç”¨ã€‚</p>
<ul>
<li>åŸºæœ¬ä½¿ç”¨æ–¹å¼1ï¼š<code>å®¹å™¨|è¯•å›¾</code>è¡¨ç¤ºè¯¥å®¹å™¨é€šè¿‡è§†å›¾åˆ›å»ºçš„æ–°å®¹å™¨</li>
</ul>
<p><strong>ç¤ºä¾‹1</strong> æ±‚å‘é‡ä¸­å¶æ•°çš„å’Œï¼ˆç­›é€‰è§†å›¾ï¼‰</p>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token keyword keyword-int">int</span> <span class="token function">sum_even</span><span class="token punctuation">(</span>std<span class="token double-colon punctuation">::</span>vector<span class="token operator">&lt;</span><span class="token keyword keyword-int">int</span><span class="token operator">&gt;</span> vec<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword keyword-int">int</span> res <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-for">for</span> <span class="token punctuation">(</span><span class="token keyword keyword-auto">auto</span> num <span class="token operator">:</span> vec <span class="token operator">|</span> std<span class="token double-colon punctuation">::</span>views<span class="token double-colon punctuation">::</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> x<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token keyword keyword-return">return</span> x<span class="token operator">%</span><span class="token number">2</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        res <span class="token operator">+=</span> num<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-return">return</span> res<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><p><strong>ç¤ºä¾‹2</strong> è¾“å‡ºå‘é‡å‰äº”ä¸ªå‡ºç°çš„æ•´æ•°çš„å¹³æ–¹æ ¹ï¼ˆè§†å›¾çš„å åŠ ï¼‰</p>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token keyword keyword-int">int</span> <span class="token function">f</span><span class="token punctuation">(</span>std<span class="token double-colon punctuation">::</span>vector<span class="token operator">&lt;</span><span class="token keyword keyword-int">int</span><span class="token operator">&gt;</span> vec<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword keyword-for">for</span> <span class="token punctuation">(</span><span class="token keyword keyword-auto">auto</span> i <span class="token operator">:</span> vec
    <span class="token operator">|</span> std<span class="token double-colon punctuation">::</span>views<span class="token double-colon punctuation">::</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> x<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token keyword keyword-return">return</span> x <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token operator">|</span> std<span class="token double-colon punctuation">::</span>views<span class="token double-colon punctuation">::</span><span class="token function">take</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>
    <span class="token operator">|</span> std<span class="token double-colon punctuation">::</span>views<span class="token double-colon punctuation">::</span><span class="token function">transform</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> x<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token keyword keyword-return">return</span> std<span class="token double-colon punctuation">::</span><span class="token function">sqrt</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">)</span><span class="token punctuation">{</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> i <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><p>ç†è§£ï¼š</p>
<ul>
<li>
<p><code>|</code>ï¼š<strong>ç®¡é“è¿ç®—ç¬¦</strong>ï¼Œç”¨äºåˆ›é€ è§†å›¾å¯¹è±¡ï¼›</p>
</li>
<li>
<p>è§†å›¾å¯¹è±¡ï¼š<code>reverse_view</code>, <code>take_view</code>, <code>transform_view</code>, <code>filter_view</code>ã€‚</p>
</li>
<li>
<p>è¿™äº›è§†å›¾å¯¹è±¡éƒ½æ˜¯<code>std::ranges</code>ä¸­çš„<strong>å­ç±»</strong>ï¼Œå¯¹åº”çš„æ„é€ å‡½æ•°ï¼ˆä¹Ÿæ˜¯å‡½æ•°æ¨¡ç‰ˆï¼‰åˆ†åˆ«æ˜¯</p>
<ul>
<li><code>std::ranges::reverse_view(container C)</code></li>
<li><code>std::ranges::take_view(container C, int x)</code></li>
<li><code>std::ranges::transform_view(container C, Func f)</code></li>
<li><code>std::ranges::filter_view(container C, Func f)</code></li>
<li>å…¶ä¸­<code>container</code>ä¸ºå®¹å™¨ï¼Œ<code>Func</code>ä¸ºå¯è°ƒç”¨å¯¹è±¡</li>
</ul>
</li>
<li>
<p>è§†å›¾çš„åŸºæœ¬ä½¿ç”¨æ–¹å¼2: åœ¨<code>std::ranges</code>ä¸­å¯ä»¥æ„é€ è§†å›¾å¯¹è±¡ã€‚</p>
</li>
</ul>
<p>é‡åš<strong>ç¤ºä¾‹1</strong>ï¼Œç›´æ¥æ„é€ <code>filter</code>ç­›é€‰è§†å›¾ï¼š</p>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token keyword keyword-int">int</span> <span class="token function">sum_even</span><span class="token punctuation">(</span>std<span class="token double-colon punctuation">::</span>vector<span class="token operator">&lt;</span><span class="token keyword keyword-int">int</span><span class="token operator">&gt;</span> vec<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword keyword-int">int</span> res <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    std<span class="token double-colon punctuation">::</span>ranges<span class="token double-colon punctuation">::</span>filter_view v<span class="token punctuation">{</span>vec<span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> x<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token keyword keyword-return">return</span> x<span class="token operator">%</span><span class="token number">2</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-for">for</span> <span class="token punctuation">(</span><span class="token keyword keyword-auto">auto</span> num <span class="token operator">:</span> v<span class="token punctuation">)</span><span class="token punctuation">{</span>
        res <span class="token operator">+=</span> num<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-return">return</span> res<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><p><strong>ç¤ºä¾‹3</strong> åè½¬è§†å›¾</p>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;ranges&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;vector&gt;</span></span>
<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    std<span class="token double-colon punctuation">::</span>vector a<span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">}</span><span class="token punctuation">;</span> 
    <span class="token comment">//åˆ›å»ºåè½¬è§†å›¾å¯¹è±¡v</span>
    std<span class="token double-colon punctuation">::</span>ranges<span class="token double-colon punctuation">::</span>reverse_view v<span class="token punctuation">{</span>a<span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token comment">//æˆ– auto v = std::ranges::reverse_view(a);</span>
    <span class="token keyword keyword-for">for</span> <span class="token punctuation">(</span><span class="token keyword keyword-auto">auto</span> i <span class="token operator">:</span> v<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// è¾“å‡º:7 5 8 2 4 1 </span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> i <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//ç­‰ä»·äº å®¹å™¨|è§†å›¾ï¼š</span>
    <span class="token keyword keyword-for">for</span> <span class="token punctuation">(</span><span class="token keyword keyword-auto">auto</span> i <span class="token operator">:</span> a
    <span class="token operator">|</span> std<span class="token double-colon punctuation">::</span>views<span class="token double-colon punctuation">::</span>reverse
    <span class="token punctuation">)</span><span class="token punctuation">{</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> i <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><p><strong>ç¤ºä¾‹4</strong> æ—©é€€è§†å›¾</p>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;ranges&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;vector&gt;</span></span>
<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    std<span class="token double-colon punctuation">::</span>vector<span class="token operator">&lt;</span><span class="token keyword keyword-int">int</span><span class="token operator">&gt;</span> a<span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    std<span class="token double-colon punctuation">::</span>ranges<span class="token double-colon punctuation">::</span>take_view v<span class="token punctuation">{</span>a<span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-for">for</span> <span class="token punctuation">(</span><span class="token keyword keyword-auto">auto</span> i<span class="token operator">:</span> v<span class="token punctuation">)</span><span class="token punctuation">{</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> i <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span> <span class="token comment">//è¾“å‡º1,2,3</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//ç­‰ä»·äº å®¹å™¨|è§†å›¾ï¼š</span>
    <span class="token keyword keyword-for">for</span> <span class="token punctuation">(</span><span class="token keyword keyword-auto">auto</span> i <span class="token operator">:</span> a
    <span class="token operator">|</span> std<span class="token double-colon punctuation">::</span>views<span class="token double-colon punctuation">::</span><span class="token function">take_view</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>
    <span class="token punctuation">)</span><span class="token punctuation">{</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> i <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><p><strong>ç¤ºä¾‹5</strong> è½¬æ¢è§†å›¾</p>
<pre data-role="codeBlock" data-info="c++" class="language-cpp c++"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;ranges&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;vector&gt;</span></span>
<span class="token keyword keyword-int">int</span> <span class="token function">square</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> x<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword keyword-return">return</span> x<span class="token operator">*</span>x<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    std<span class="token double-colon punctuation">::</span>vector<span class="token operator">&lt;</span><span class="token keyword keyword-int">int</span><span class="token operator">&gt;</span> a<span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    std<span class="token double-colon punctuation">::</span>ranges<span class="token double-colon punctuation">::</span>transform_view v<span class="token punctuation">{</span>a<span class="token punctuation">,</span> square<span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-for">for</span> <span class="token punctuation">(</span><span class="token keyword keyword-auto">auto</span> i<span class="token operator">:</span> v<span class="token punctuation">)</span><span class="token punctuation">{</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> i <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span> <span class="token comment">//è¾“å‡º1,2,3</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
      </div>
      
      
    </body>
    
    
    
    
    
  </html>